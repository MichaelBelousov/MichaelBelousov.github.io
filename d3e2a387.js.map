{"version":3,"file":"d3e2a387.js","mappings":"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","sources":["webpack://mikemikeb-website/./node_modules/.pnpm/react-flow-renderer@10.3.17_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-flow-renderer/dist/esm/index.js"],"sourcesContent":["import { _ as _slicedToArray, a as _defineProperty, P as Position, C as ConnectionMode, g as getHostForElement, u as useStoreApi, b as useStore, c as addEdge, d as getMarkerId, i as internalsSymbol, r as rectToBox, e as getConnectedEdges, f as getDimensions, h as PanOnScrollMode, j as clamp, k as getNodesInside, l as getSelectionChanges, m as clampPosition, p as pointToRendererPoint, n as handleNodeClick, o as getRectOfNodes, q as ConnectionLineType, M as MarkerType, s as isNumeric, t as getMouseHandler$1, v as Provider$1, w as createStore, x as infiniteExtent, y as applyNodeChanges, z as applyEdgeChanges } from './index-a12c80bd.js';\nexport { H as BackgroundVariant, q as ConnectionLineType, C as ConnectionMode, M as MarkerType, h as PanOnScrollMode, P as Position, c as addEdge, z as applyEdgeChanges, y as applyNodeChanges, e as getConnectedEdges, E as getIncomers, D as getOutgoers, o as getRectOfNodes, G as getTransformForBounds, i as internalsSymbol, B as isEdge, A as isNode, F as updateEdge, b as useStore, u as useStoreApi } from './index-a12c80bd.js';\nimport { _ as _objectWithoutProperties } from './index-20df97c0.js';\nexport { C as ControlButton, i as Controls } from './index-20df97c0.js';\nimport React, { memo, useRef, useState, useEffect, createContext, forwardRef, useContext, useMemo, useCallback } from 'react';\nimport cc from 'classcat';\nimport { _ as _toConsumableArray, u as useReactFlow } from './useReactFlow-993c30ca.js';\nexport { u as useReactFlow } from './useReactFlow-993c30ca.js';\nimport shallow from 'zustand/shallow';\nimport { zoom, zoomIdentity } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nexport { default as MiniMap } from './index2.js';\nexport { default as Background } from './index3.js';\nexport { default as useUpdateNodeInternals } from './useUpdateNodeInternals.js';\nexport { default as useNodes } from './useNodes.js';\nexport { default as useEdges } from './useEdges.js';\nexport { default as useViewport } from './useViewport.js';\nimport 'zustand';\nimport 'zustand/context';\n\nvar accounts = ['paid-pro', 'paid-sponsor', 'paid-enterprise', 'paid-custom'];\n\nfunction Attribution(_ref) {\n  var proOptions = _ref.proOptions,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom-right' : _ref$position;\n\n  if (proOptions !== null && proOptions !== void 0 && proOptions.account && accounts.includes(proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) && proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\n    return null;\n  }\n\n  var positionClasses = \"\".concat(position).split('-');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__attribution'].concat(_toConsumableArray(positionClasses))),\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://reactflow.dev\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"React Flow\"));\n}\n\nvar _excluded$2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"];\n\nfunction ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$c(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar EdgeText = function EdgeText(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      label = _ref.label,\n      _ref$labelStyle = _ref.labelStyle,\n      labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\n      _ref$labelShowBg = _ref.labelShowBg,\n      labelShowBg = _ref$labelShowBg === void 0 ? true : _ref$labelShowBg,\n      _ref$labelBgStyle = _ref.labelBgStyle,\n      labelBgStyle = _ref$labelBgStyle === void 0 ? {} : _ref$labelBgStyle,\n      _ref$labelBgPadding = _ref.labelBgPadding,\n      labelBgPadding = _ref$labelBgPadding === void 0 ? [2, 4] : _ref$labelBgPadding,\n      _ref$labelBgBorderRad = _ref.labelBgBorderRadius,\n      labelBgBorderRadius = _ref$labelBgBorderRad === void 0 ? 2 : _ref$labelBgBorderRad,\n      children = _ref.children,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, _excluded$2);\n\n  var edgeRef = useRef(null);\n\n  var _useState = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      edgeTextBbox = _useState2[0],\n      setEdgeTextBbox = _useState2[1];\n\n  var edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n  useEffect(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, [label]);\n\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"g\", _objectSpread$c({\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\n    className: edgeTextClasses\n  }, rest), labelShowBg && /*#__PURE__*/React.createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label), children);\n};\n\nvar EdgeText$1 = /*#__PURE__*/memo(EdgeText);\n\nvar BaseEdge = (function (_ref) {\n  var path = _ref.path,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var text = label ? /*#__PURE__*/React.createElement(EdgeText$1, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    style: style,\n    d: path,\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  }), text);\n});\n\nfunction getControl(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2;\n  var ctX, ctY;\n\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      {\n        ctX = 0.5 * (x1 + x2);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Top:\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = 0.5 * (y1 + y2);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getSimpleBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition;\n\n  var _getControl = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl2 = _slicedToArray(_getControl, 2),\n      sourceControlX = _getControl2[0],\n      sourceControlY = _getControl2[1];\n\n  var _getControl3 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl4 = _slicedToArray(_getControl3, 2),\n      targetControlX = _getControl4[0],\n      targetControlY = _getControl4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getSimpleBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition;\n\n  var _getControl5 = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl6 = _slicedToArray(_getControl5, 2),\n      sourceControlX = _getControl6[0],\n      sourceControlY = _getControl6[1];\n\n  var _getControl7 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl8 = _slicedToArray(_getControl7, 2),\n      targetControlX = _getControl8[0],\n      targetControlY = _getControl8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar SimpleBezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n  var path = getSimpleBezierPath(params);\n\n  var _getSimpleBezierCente = getSimpleBezierCenter(params),\n      _getSimpleBezierCente2 = _slicedToArray(_getSimpleBezierCente, 2),\n      centerX = _getSimpleBezierCente2[0],\n      centerY = _getSimpleBezierCente2[1];\n\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$b(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\".concat(markerEndId, \")\");\n  }\n\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\n};\nvar LeftOrRight = [Position.Left, Position.Right];\nvar getCenter = function getCenter(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  var sourceIsLeftOrRight = LeftOrRight.includes(sourcePosition);\n  var targetIsLeftOrRight = LeftOrRight.includes(targetPosition); // we expect flows to be horizontal or vertical (all handles left or right respectively top or bottom)\n  // a mixed edge is when one the source is on the left and the target is on the top for example.\n\n  var mixedEdge = sourceIsLeftOrRight && !targetIsLeftOrRight || targetIsLeftOrRight && !sourceIsLeftOrRight;\n\n  if (mixedEdge) {\n    var _xOffset = sourceIsLeftOrRight ? Math.abs(targetX - sourceX) : 0;\n\n    var _centerX = sourceX > targetX ? sourceX - _xOffset : sourceX + _xOffset;\n\n    var _yOffset = sourceIsLeftOrRight ? 0 : Math.abs(targetY - sourceY);\n\n    var _centerY = sourceY < targetY ? sourceY + _yOffset : sourceY - _yOffset;\n\n    return [_centerX, _centerY, _xOffset, _yOffset];\n  }\n\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var edge = getState().edges.find(function (e) {\n      return e.id === id;\n    });\n    handler(event, _objectSpread$b({}, edge));\n  };\n}\n\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\n// We have to consider the direction of the paths because of the animated lines.\n\nvar bottomLeftCorner = function bottomLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar leftBottomCorner = function leftBottomCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar bottomRightCorner = function bottomRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightBottomCorner = function rightBottomCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar leftTopCorner = function leftTopCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nvar topLeftCorner = function topLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar topRightCorner = function topRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightTopCorner = function rightTopCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nfunction getSmoothStepPath(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n      _ref$borderRadius = _ref.borderRadius,\n      borderRadius = _ref$borderRadius === void 0 ? 5 : _ref$borderRadius,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY;\n\n  var _getCenter = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      _getCenter2 = _slicedToArray(_getCenter, 4),\n      _centerX = _getCenter2[0],\n      _centerY = _getCenter2[1],\n      offsetX = _getCenter2[2],\n      offsetY = _getCenter2[3];\n\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\n  var leftAndRight = [Position.Left, Position.Right];\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\n  var firstCornerPath = null;\n  var secondCornerPath = null;\n\n  if (sourceX <= targetX) {\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\n  } else {\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\n  }\n\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\n    } else if (sourcePosition === Position.Right && targetPosition === Position.Left || sourcePosition === Position.Left && targetPosition === Position.Right || sourcePosition === Position.Left && targetPosition === Position.Left) {\n      // and sourceX > targetX\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(cX, sourceY, cornerSize) : leftBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomRightCorner(cX, targetY, cornerSize) : topRightCorner(cX, targetY, cornerSize);\n    }\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(targetX, sourceY, cornerSize) : leftBottomCorner(targetX, sourceY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  }\n\n  return \"M \".concat(sourceX, \",\").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath, \"L \").concat(targetX, \",\").concat(targetY);\n}\nvar SmoothStepEdge = /*#__PURE__*/memo(function (_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      label = _ref2.label,\n      labelStyle = _ref2.labelStyle,\n      labelShowBg = _ref2.labelShowBg,\n      labelBgStyle = _ref2.labelBgStyle,\n      labelBgPadding = _ref2.labelBgPadding,\n      labelBgBorderRadius = _ref2.labelBgBorderRadius,\n      style = _ref2.style,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n      markerEnd = _ref2.markerEnd,\n      markerStart = _ref2.markerStart,\n      _ref2$borderRadius = _ref2.borderRadius,\n      borderRadius = _ref2$borderRadius === void 0 ? 5 : _ref2$borderRadius;\n\n  var _getCenter3 = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY,\n    sourcePosition: sourcePosition,\n    targetPosition: targetPosition\n  }),\n      _getCenter4 = _slicedToArray(_getCenter3, 2),\n      centerX = _getCenter4[0],\n      centerY = _getCenter4[1];\n\n  var path = getSmoothStepPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    borderRadius: borderRadius\n  });\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StepEdge = /*#__PURE__*/memo(function (props) {\n  return /*#__PURE__*/React.createElement(SmoothStepEdge, _objectSpread$a(_objectSpread$a({}, props), {}, {\n    borderRadius: 0\n  }));\n});\n\nvar StraightEdge = /*#__PURE__*/memo(function (_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var path = \"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY);\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction calculateControlOffset(distance, curvature) {\n  if (distance >= 0) {\n    return 0.5 * distance;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance);\n  }\n}\n\nfunction getControlWithCurvature(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      c = _ref.c;\n  var ctX, ctY;\n\n  switch (pos) {\n    case Position.Left:\n      {\n        ctX = x1 - calculateControlOffset(x1 - x2, c);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Right:\n      {\n        ctX = x1 + calculateControlOffset(x2 - x1, c);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Top:\n      {\n        ctX = x1;\n        ctY = y1 - calculateControlOffset(y1 - y2, c);\n      }\n      break;\n\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = y1 + calculateControlOffset(y2 - y1, c);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n      _ref2$curvature = _ref2.curvature,\n      curvature = _ref2$curvature === void 0 ? 0.25 : _ref2$curvature;\n\n  var _getControlWithCurvat = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat2 = _slicedToArray(_getControlWithCurvat, 2),\n      sourceControlX = _getControlWithCurvat2[0],\n      sourceControlY = _getControlWithCurvat2[1];\n\n  var _getControlWithCurvat3 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat4 = _slicedToArray(_getControlWithCurvat3, 2),\n      targetControlX = _getControlWithCurvat4[0],\n      targetControlY = _getControlWithCurvat4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition,\n      _ref3$curvature = _ref3.curvature,\n      curvature = _ref3$curvature === void 0 ? 0.25 : _ref3$curvature;\n\n  var _getControlWithCurvat5 = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat6 = _slicedToArray(_getControlWithCurvat5, 2),\n      sourceControlX = _getControlWithCurvat6[0],\n      sourceControlY = _getControlWithCurvat6[1];\n\n  var _getControlWithCurvat7 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat8 = _slicedToArray(_getControlWithCurvat7, 2),\n      targetControlX = _getControlWithCurvat8[0],\n      targetControlY = _getControlWithCurvat8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar BezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart,\n      curvature = _ref4.curvature;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    curvature: curvature\n  };\n  var path = getBezierPath(params);\n\n  var _getBezierCenter = getBezierCenter(params),\n      _getBezierCenter2 = _slicedToArray(_getBezierCenter, 2),\n      centerX = _getBezierCenter2[0],\n      centerY = _getBezierCenter2[1];\n\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nvar NodeIdContext = /*#__PURE__*/createContext(null);\nvar Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\n\nfunction checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc) {\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target')) || false;\n  var elementBelowIsSource = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source')) || false;\n  var result = {\n    elementBelow: elementBelow,\n    isValid: false,\n    connection: {\n      source: null,\n      target: null,\n      sourceHandle: null,\n      targetHandle: null\n    },\n    isHoveringHandle: false\n  };\n\n  if (elementBelow && (elementBelowIsTarget || elementBelowIsSource)) {\n    result.isHoveringHandle = true;\n    var elementBelowNodeId = elementBelow.getAttribute('data-nodeid');\n    var elementBelowHandleId = elementBelow.getAttribute('data-handleid');\n    var connection = isTarget ? {\n      source: elementBelowNodeId,\n      sourceHandle: elementBelowHandleId,\n      target: nodeId,\n      targetHandle: handleId\n    } : {\n      source: nodeId,\n      sourceHandle: handleId,\n      target: elementBelowNodeId,\n      targetHandle: elementBelowHandleId\n    };\n    result.connection = connection; // in strict mode we don't allow target to target or source to source connections\n\n    var isValid = connectionMode === ConnectionMode.Strict ? isTarget && elementBelowIsSource || !isTarget && elementBelowIsTarget : true;\n\n    if (isValid) {\n      result.isValid = isValidConnection(connection);\n    }\n  }\n\n  return result;\n}\n\nfunction resetRecentHandle(hoveredHandle) {\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-valid');\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-connecting');\n}\n\nfunction handleMouseDown(_ref) {\n  var event = _ref.event,\n      handleId = _ref.handleId,\n      nodeId = _ref.nodeId,\n      onConnect = _ref.onConnect,\n      isTarget = _ref.isTarget,\n      getState = _ref.getState,\n      setState = _ref.setState,\n      isValidConnection = _ref.isValidConnection,\n      elementEdgeUpdaterType = _ref.elementEdgeUpdaterType,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd;\n  var reactFlowNode = event.target.closest('.react-flow'); // when react-flow is used inside a shadow root we can't use document\n\n  var doc = getHostForElement(event.target);\n\n  if (!doc) {\n    return;\n  }\n\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target');\n  var elementBelowIsSource = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source');\n\n  if (!reactFlowNode || !elementBelowIsTarget && !elementBelowIsSource && !elementEdgeUpdaterType) {\n    return;\n  }\n\n  var _getState = getState(),\n      onConnectStart = _getState.onConnectStart,\n      connectionMode = _getState.connectionMode;\n\n  var handleType = elementEdgeUpdaterType ? elementEdgeUpdaterType : elementBelowIsTarget ? 'target' : 'source';\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  var recentHoveredHandle;\n  setState({\n    connectionPosition: {\n      x: event.clientX - containerBounds.left,\n      y: event.clientY - containerBounds.top\n    },\n    connectionNodeId: nodeId,\n    connectionHandleId: handleId,\n    connectionHandleType: handleType\n  });\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n\n  function onMouseMove(event) {\n    setState({\n      connectionPosition: {\n        x: event.clientX - containerBounds.left,\n        y: event.clientY - containerBounds.top\n      }\n    });\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        elementBelow = _checkElementBelowIsV.elementBelow,\n        isValid = _checkElementBelowIsV.isValid,\n        isHoveringHandle = _checkElementBelowIsV.isHoveringHandle;\n\n    if (!isHoveringHandle) {\n      return resetRecentHandle(recentHoveredHandle);\n    }\n\n    if (connection.source !== connection.target && elementBelow) {\n      resetRecentHandle(recentHoveredHandle);\n      recentHoveredHandle = elementBelow;\n      elementBelow.classList.add('react-flow__handle-connecting');\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n\n  function onMouseUp(event) {\n    var _getState2 = getState(),\n        onConnectStop = _getState2.onConnectStop,\n        onConnectEnd = _getState2.onConnectEnd;\n\n    var _checkElementBelowIsV2 = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV2.connection,\n        isValid = _checkElementBelowIsV2.isValid;\n\n    onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\n\n    if (isValid) {\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\n    }\n\n    onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\n\n    if (elementEdgeUpdaterType && onEdgeUpdateEnd) {\n      onEdgeUpdateEnd(event);\n    }\n\n    resetRecentHandle(recentHoveredHandle);\n    setState({\n      connectionNodeId: null,\n      connectionHandleId: null,\n      connectionHandleType: null\n    });\n    doc.removeEventListener('mousemove', onMouseMove);\n    doc.removeEventListener('mouseup', onMouseUp);\n  }\n\n  doc.addEventListener('mousemove', onMouseMove);\n  doc.addEventListener('mouseup', onMouseUp);\n}\n\nvar _excluded$1 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"id\", \"onConnect\", \"children\", \"className\", \"onMouseDown\"];\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar alwaysValid = function alwaysValid() {\n  return true;\n};\n\nvar selector$a = function selector(s) {\n  return {\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick\n  };\n};\n\nvar Handle = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'source' : _ref$type,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? Position.Top : _ref$position,\n      _ref$isValidConnectio = _ref.isValidConnection,\n      isValidConnection = _ref$isValidConnectio === void 0 ? alwaysValid : _ref$isValidConnectio,\n      _ref$isConnectable = _ref.isConnectable,\n      isConnectable = _ref$isConnectable === void 0 ? true : _ref$isConnectable,\n      id = _ref.id,\n      onConnect = _ref.onConnect,\n      children = _ref.children,\n      className = _ref.className,\n      onMouseDown = _ref.onMouseDown,\n      rest = _objectWithoutProperties(_ref, _excluded$1);\n\n  var store = useStoreApi();\n  var nodeId = useContext(NodeIdContext);\n\n  var _useStore = useStore(selector$a, shallow),\n      connectionStartHandle = _useStore.connectionStartHandle,\n      connectOnClick = _useStore.connectOnClick;\n\n  var handleId = id || null;\n  var isTarget = type === 'target';\n\n  var onConnectExtended = function onConnectExtended(params) {\n    var _store$getState = store.getState(),\n        defaultEdgeOptions = _store$getState.defaultEdgeOptions,\n        onConnectAction = _store$getState.onConnect,\n        hasDefaultEdges = _store$getState.hasDefaultEdges;\n\n    var edgeParams = _objectSpread$9(_objectSpread$9({}, defaultEdgeOptions), params);\n\n    if (hasDefaultEdges) {\n      var _store$getState2 = store.getState(),\n          edges = _store$getState2.edges;\n\n      store.setState({\n        edges: addEdge(edgeParams, edges)\n      });\n    }\n\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\n  };\n\n  var onMouseDownHandler = function onMouseDownHandler(event) {\n    if (event.button === 0) {\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectExtended,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection\n      });\n    }\n\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  };\n\n  var onClick = function onClick(event) {\n    var _store$getState3 = store.getState(),\n        onClickConnectStart = _store$getState3.onClickConnectStart,\n        onClickConnectStop = _store$getState3.onClickConnectStop,\n        onClickConnectEnd = _store$getState3.onClickConnectEnd,\n        connectionMode = _store$getState3.connectionMode;\n\n    if (!connectionStartHandle) {\n      onClickConnectStart === null || onClickConnectStart === void 0 ? void 0 : onClickConnectStart(event, {\n        nodeId: nodeId,\n        handleId: handleId,\n        handleType: type\n      });\n      store.setState({\n        connectionStartHandle: {\n          nodeId: nodeId,\n          type: type,\n          handleId: handleId\n        }\n      });\n      return;\n    }\n\n    var doc = getHostForElement(event.target);\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, connectionStartHandle.type === 'target', connectionStartHandle.nodeId, connectionStartHandle.handleId || null, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        isValid = _checkElementBelowIsV.isValid;\n\n    onClickConnectStop === null || onClickConnectStop === void 0 ? void 0 : onClickConnectStop(event);\n\n    if (isValid) {\n      onConnectExtended(connection);\n    }\n\n    onClickConnectEnd === null || onClickConnectEnd === void 0 ? void 0 : onClickConnectEnd(event);\n    store.setState({\n      connectionStartHandle: null\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread$9({\n    \"data-handleid\": handleId,\n    \"data-nodeid\": nodeId,\n    \"data-handlepos\": position,\n    className: cc(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', className, {\n      source: !isTarget,\n      target: isTarget,\n      connectable: isConnectable,\n      connecting: (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.nodeId) === nodeId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.handleId) === handleId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.type) === type\n    }]),\n    onMouseDown: onMouseDownHandler,\n    onClick: connectOnClick ? onClick : undefined,\n    ref: ref\n  }, rest), children);\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = /*#__PURE__*/memo(Handle);\n\nvar DefaultNode = function DefaultNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = /*#__PURE__*/memo(DefaultNode);\n\nvar InputNode = function InputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = /*#__PURE__*/memo(InputNode);\n\nvar OutputNode = function OutputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label);\n};\n\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = /*#__PURE__*/memo(OutputNode);\n\nvar selector$9 = function selector(s) {\n  return {\n    selectedNodes: Array.from(s.nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    }),\n    selectedEdges: s.edges.filter(function (e) {\n      return e.selected;\n    })\n  };\n};\n\nvar areEqual = function areEqual(objA, objB) {\n  var selectedNodeIdsA = objA.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedNodeIdsB = objB.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedEdgeIdsA = objA.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  var selectedEdgeIdsB = objB.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  return shallow(selectedNodeIdsA, selectedNodeIdsB) && shallow(selectedEdgeIdsA, selectedEdgeIdsB);\n}; // This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\n\n\nfunction SelectionListener(_ref) {\n  var onSelectionChange = _ref.onSelectionChange;\n\n  var _useStore = useStore(selector$9, areEqual),\n      selectedNodes = _useStore.selectedNodes,\n      selectedEdges = _useStore.selectedEdges;\n\n  useEffect(function () {\n    onSelectionChange({\n      nodes: selectedNodes,\n      edges: selectedEdges\n    });\n  }, [selectedNodes, selectedEdges]);\n  return null;\n}\n\nvar SelectionListener$1 = /*#__PURE__*/memo(SelectionListener);\n\nvar selector$8 = function selector(s) {\n  return {\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset\n  };\n};\n\nfunction useStoreUpdater(value, setStoreState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      setStoreState(value);\n    }\n  }, [value]);\n}\n\nfunction useDirectStoreUpdater(key, value, setState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      // @ts-ignore\n      setState(_defineProperty({}, key, value));\n    }\n  }, [value]);\n}\n\nvar StoreUpdater = function StoreUpdater(_ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      nodeExtent = _ref.nodeExtent,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      elementsSelectable = _ref.elementsSelectable,\n      connectionMode = _ref.connectionMode,\n      snapGrid = _ref.snapGrid,\n      snapToGrid = _ref.snapToGrid,\n      translateExtent = _ref.translateExtent,\n      connectOnClick = _ref.connectOnClick,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      fitView = _ref.fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDragStop = _ref.onSelectionDragStop;\n\n  var _useStore = useStore(selector$8, shallow),\n      setNodes = _useStore.setNodes,\n      setEdges = _useStore.setEdges,\n      setDefaultNodesAndEdges = _useStore.setDefaultNodesAndEdges,\n      setMinZoom = _useStore.setMinZoom,\n      setMaxZoom = _useStore.setMaxZoom,\n      setTranslateExtent = _useStore.setTranslateExtent,\n      setNodeExtent = _useStore.setNodeExtent,\n      reset = _useStore.reset;\n\n  var store = useStoreApi();\n  useEffect(function () {\n    setDefaultNodesAndEdges(defaultNodes, defaultEdges);\n    return function () {\n      reset();\n    };\n  }, []);\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n  useDirectStoreUpdater('onConnectStop', onConnectStop, store.setState);\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n  useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n  useDirectStoreUpdater('onClickConnectStop', onClickConnectStop, store.setState);\n  useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n  useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n  useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n  useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n  useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n  useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n  useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n  useStoreUpdater(nodes, setNodes);\n  useStoreUpdater(edges, setEdges);\n  useStoreUpdater(defaultNodes, setNodes);\n  useStoreUpdater(defaultEdges, setEdges);\n  useStoreUpdater(minZoom, setMinZoom);\n  useStoreUpdater(maxZoom, setMaxZoom);\n  useStoreUpdater(translateExtent, setTranslateExtent);\n  useStoreUpdater(nodeExtent, setNodeExtent);\n  return null;\n};\n\nvar css_248z$1 = \".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}\";\nvar css = css_248z$1;\n\nvar css_248z = \".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}\";\nvar theme = css_248z;\n\nvar shiftX = function shiftX(x, shift, position) {\n  if (position === Position.Left) return x - shift;\n  if (position === Position.Right) return x + shift;\n  return x;\n};\n\nvar shiftY = function shiftY(y, shift, position) {\n  if (position === Position.Top) return y - shift;\n  if (position === Position.Bottom) return y + shift;\n  return y;\n};\n\nvar EdgeAnchor = function EdgeAnchor(_ref) {\n  var className = _ref.className,\n      position = _ref.position,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 10 : _ref$radius;\n  return /*#__PURE__*/React.createElement(\"circle\", {\n    className: cc(['react-flow__edgeupdater', className]),\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\n\nvar wrapEdge = (function (EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        type = _ref.type,\n        data = _ref.data,\n        onClick = _ref.onClick,\n        onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n        selected = _ref.selected,\n        animated = _ref.animated,\n        label = _ref.label,\n        labelStyle = _ref.labelStyle,\n        labelShowBg = _ref.labelShowBg,\n        labelBgStyle = _ref.labelBgStyle,\n        labelBgPadding = _ref.labelBgPadding,\n        labelBgBorderRadius = _ref.labelBgBorderRadius,\n        style = _ref.style,\n        source = _ref.source,\n        target = _ref.target,\n        sourceX = _ref.sourceX,\n        sourceY = _ref.sourceY,\n        targetX = _ref.targetX,\n        targetY = _ref.targetY,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        elementsSelectable = _ref.elementsSelectable,\n        hidden = _ref.hidden,\n        sourceHandleId = _ref.sourceHandleId,\n        targetHandleId = _ref.targetHandleId,\n        onContextMenu = _ref.onContextMenu,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n        onEdgeUpdate = _ref.onEdgeUpdate,\n        onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n        onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n        markerEnd = _ref.markerEnd,\n        markerStart = _ref.markerStart,\n        rfId = _ref.rfId;\n\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        updating = _useState2[0],\n        setUpdating = _useState2[1];\n\n    var store = useStoreApi();\n\n    var onEdgeClick = function onEdgeClick(event) {\n      var _store$getState = store.getState(),\n          edges = _store$getState.edges,\n          addSelectedEdges = _store$getState.addSelectedEdges;\n\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n\n      if (elementsSelectable) {\n        store.setState({\n          nodesSelectionActive: false\n        });\n        addSelectedEdges([id]);\n      }\n\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, edge);\n    };\n\n    var onEdgeDoubleClickHandler = getMouseHandler(id, store.getState, onEdgeDoubleClick);\n    var onEdgeContextMenu = getMouseHandler(id, store.getState, onContextMenu);\n    var onEdgeMouseEnter = getMouseHandler(id, store.getState, onMouseEnter);\n    var onEdgeMouseMove = getMouseHandler(id, store.getState, onMouseMove);\n    var onEdgeMouseLeave = getMouseHandler(id, store.getState, onMouseLeave);\n\n    var handleEdgeUpdater = function handleEdgeUpdater(event, isSourceHandle) {\n      var nodeId = isSourceHandle ? target : source;\n      var handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n      var handleType = isSourceHandle ? 'target' : 'source';\n\n      var isValidConnection = function isValidConnection() {\n        return true;\n      };\n\n      var isTarget = isSourceHandle;\n      var edge = store.getState().edges.find(function (e) {\n        return e.id === id;\n      });\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edge, handleType);\n\n      var _onEdgeUpdateEnd = onEdgeUpdateEnd ? function (evt) {\n        return onEdgeUpdateEnd(evt, edge, handleType);\n      } : undefined;\n\n      var onConnectEdge = function onConnectEdge(connection) {\n        return onEdgeUpdate === null || onEdgeUpdate === void 0 ? void 0 : onEdgeUpdate(edge, connection);\n      };\n\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectEdge,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection,\n        elementEdgeUpdaterType: handleType,\n        onEdgeUpdateEnd: _onEdgeUpdateEnd\n      });\n    };\n\n    var onEdgeUpdaterSourceMouseDown = function onEdgeUpdaterSourceMouseDown(event) {\n      return handleEdgeUpdater(event, true);\n    };\n\n    var onEdgeUpdaterTargetMouseDown = function onEdgeUpdaterTargetMouseDown(event) {\n      return handleEdgeUpdater(event, false);\n    };\n\n    var onEdgeUpdaterMouseEnter = function onEdgeUpdaterMouseEnter() {\n      return setUpdating(true);\n    };\n\n    var onEdgeUpdaterMouseOut = function onEdgeUpdaterMouseOut() {\n      return setUpdating(false);\n    };\n\n    var markerStartUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerStart, rfId), \")\");\n    }, [markerStart, rfId]);\n    var markerEndUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerEnd, rfId), \")\");\n    }, [markerEnd, rfId]);\n\n    if (hidden) {\n      return null;\n    }\n\n    var inactive = !elementsSelectable && !onClick;\n    var handleEdgeUpdate = typeof onEdgeUpdate !== 'undefined';\n    var edgeClasses = cc(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\n      selected: selected,\n      animated: animated,\n      inactive: inactive,\n      updating: updating\n    }]);\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: edgeClasses,\n      onClick: onEdgeClick,\n      onDoubleClick: onEdgeDoubleClickHandler,\n      onContextMenu: onEdgeContextMenu,\n      onMouseEnter: onEdgeMouseEnter,\n      onMouseMove: onEdgeMouseMove,\n      onMouseLeave: onEdgeMouseLeave\n    }, /*#__PURE__*/React.createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceHandleId: sourceHandleId,\n      targetHandleId: targetHandleId,\n      markerStart: markerStartUrl,\n      markerEnd: markerEndUrl,\n      \"data-testid\": \"rf__edge-\".concat(id)\n    }), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: sourcePosition,\n      centerX: sourceX,\n      centerY: sourceY,\n      radius: edgeUpdaterRadius\n    })), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: targetPosition,\n      centerX: targetX,\n      centerY: targetY,\n      radius: edgeUpdaterRadius\n    })));\n  };\n\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return /*#__PURE__*/memo(EdgeWrapper);\n});\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    \"default\": wrapEdge(edgeTypes[\"default\"] || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$8(_objectSpread$8({}, standardTypes), specialTypes);\n}\nfunction getHandlePosition(position, nodeRect) {\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\n\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y: y\n      };\n\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n\n    case Position.Left:\n      return {\n        x: x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  } // there is no handleId when there are no multiple handles/ handles with ids\n  // so we just pick the first one\n\n\n  var handle = null;\n\n  if (bounds.length === 1 || !handleId) {\n    handle = bounds[0];\n  } else if (handleId) {\n    handle = bounds.find(function (d) {\n      return d.id === handleId;\n    });\n  }\n\n  return typeof handle === 'undefined' ? null : handle;\n}\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n};\nfunction isEdgeVisible(_ref) {\n  var sourcePos = _ref.sourcePos,\n      targetPos = _ref.targetPos,\n      sourceWidth = _ref.sourceWidth,\n      sourceHeight = _ref.sourceHeight,\n      targetWidth = _ref.targetWidth,\n      targetHeight = _ref.targetHeight,\n      width = _ref.width,\n      height = _ref.height,\n      transform = _ref.transform;\n  var edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n\n  var viewBox = rectToBox({\n    x: (0 - transform[0]) / transform[2],\n    y: (0 - transform[1]) / transform[2],\n    width: width / transform[2],\n    height: height / transform[2]\n  });\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getNodeData(nodeInternals, nodeId) {\n  var _node$internalsSymbol, _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n\n  var node = nodeInternals.get(nodeId);\n  var handleBounds = (node === null || node === void 0 ? void 0 : (_node$internalsSymbol = node[internalsSymbol]) === null || _node$internalsSymbol === void 0 ? void 0 : _node$internalsSymbol.handleBounds) || null;\n  var isInvalid = !node || !handleBounds || !node.width || !node.height || typeof ((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) === 'undefined' || typeof ((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) === 'undefined';\n  return [{\n    x: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut3 = node.positionAbsolute) === null || _node$positionAbsolut3 === void 0 ? void 0 : _node$positionAbsolut3.x) || 0,\n    y: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) || 0,\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\n  }, handleBounds, !isInvalid];\n}\n\nvar doc = typeof document !== 'undefined' ? document : null; // the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\n\nvar useKeyPress = (function () {\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    target: doc\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      keyPressed = _useState2[0],\n      setKeyPressed = _useState2[1]; // we need to remember the pressed keys in order to support combinations\n\n\n  var pressedKeys = useRef(new Set([])); // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n  // we can't find it in the list of keysToWatch.\n\n  var _useMemo = useMemo(function () {\n    if (keyCode !== null) {\n      var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n      var keys = keyCodeArr.filter(function (kc) {\n        return typeof kc === 'string';\n      }).map(function (kc) {\n        return kc.split('+');\n      });\n      var keysFlat = keys.reduce(function (res, item) {\n        return res.concat.apply(res, _toConsumableArray(item));\n      }, []);\n      return [keys, keysFlat];\n    }\n\n    return [[], []];\n  }, [keyCode]),\n      _useMemo2 = _slicedToArray(_useMemo, 2),\n      keyCodes = _useMemo2[0],\n      keysToWatch = _useMemo2[1];\n\n  useEffect(function () {\n    if (keyCode !== null) {\n      var _options$target, _options$target2;\n\n      var downHandler = function downHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        pressedKeys.current.add(event[keyOrCode]);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n          event.preventDefault();\n          setKeyPressed(true);\n        }\n      };\n\n      var upHandler = function upHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n          setKeyPressed(false);\n          pressedKeys.current.clear();\n        } else {\n          pressedKeys.current[\"delete\"](event[keyOrCode]);\n        }\n      };\n\n      var resetHandler = function resetHandler() {\n        pressedKeys.current.clear();\n        setKeyPressed(false);\n      };\n\n      options === null || options === void 0 ? void 0 : (_options$target = options.target) === null || _options$target === void 0 ? void 0 : _options$target.addEventListener('keydown', downHandler);\n      options === null || options === void 0 ? void 0 : (_options$target2 = options.target) === null || _options$target2 === void 0 ? void 0 : _options$target2.addEventListener('keyup', upHandler);\n      window.addEventListener('blur', resetHandler);\n      return function () {\n        var _options$target3, _options$target4;\n\n        options === null || options === void 0 ? void 0 : (_options$target3 = options.target) === null || _options$target3 === void 0 ? void 0 : _options$target3.removeEventListener('keydown', downHandler);\n        options === null || options === void 0 ? void 0 : (_options$target4 = options.target) === null || _options$target4 === void 0 ? void 0 : _options$target4.removeEventListener('keyup', upHandler);\n        window.removeEventListener('blur', resetHandler);\n      };\n    }\n  }, [keyCode, setKeyPressed]);\n  return keyPressed;\n}); // utils\n\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n  return keyCodes // we only want to compare same sizes of keyCode definitions\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\n  .filter(function (keys) {\n    return isUp || keys.length === pressedKeys.size;\n  }) // since we want to support multiple possibilities only one of the\n  // combinations need to be part of the pressed keys\n  .some(function (keys) {\n    return keys.every(function (k) {\n      return pressedKeys.has(k);\n    });\n  });\n}\n\nfunction useKeyOrCode(eventCode, keysToWatch) {\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction isInputDOMNode(event) {\n  var _event$composedPath;\n\n  // using composed path for handling shadow dom\n  var target = ((_event$composedPath = event.composedPath) === null || _event$composedPath === void 0 ? void 0 : _event$composedPath.call(event)[0]) || event.target;\n  return ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\n}\n\nvar selector$7 = function selector(s) {\n  return {\n    onNodesChange: s.onNodesChange,\n    onEdgesChange: s.onEdgesChange\n  };\n};\n\nvar useGlobalKeyHandler = (function (_ref) {\n  var deleteKeyCode = _ref.deleteKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode;\n  var store = useStoreApi();\n\n  var _useStore = useStore(selector$7, shallow),\n      onNodesChange = _useStore.onNodesChange,\n      onEdgesChange = _useStore.onEdgesChange;\n\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n  useEffect(function () {\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        hasDefaultNodes = _store$getState.hasDefaultNodes,\n        hasDefaultEdges = _store$getState.hasDefaultEdges,\n        onNodesDelete = _store$getState.onNodesDelete,\n        onEdgesDelete = _store$getState.onEdgesDelete;\n\n    var nodes = Array.from(nodeInternals.values());\n    var nodesToRemove = nodes.reduce(function (res, node) {\n      if (!node.selected && node.parentNode && res.find(function (n) {\n        return n.id === node.parentNode;\n      })) {\n        res.push(node);\n      } else if (node.selected) {\n        res.push(node);\n      }\n\n      return res;\n    }, []);\n    var selectedEdges = edges.filter(function (e) {\n      return e.selected;\n    });\n\n    if (deleteKeyPressed && (nodesToRemove || selectedEdges)) {\n      var connectedEdges = getConnectedEdges(nodesToRemove, edges);\n      var edgesToRemove = [].concat(_toConsumableArray(selectedEdges), _toConsumableArray(connectedEdges));\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\n        if (!res.includes(edge.id)) {\n          res.push(edge.id);\n        }\n\n        return res;\n      }, []);\n\n      if (hasDefaultEdges || hasDefaultNodes) {\n        if (hasDefaultEdges) {\n          store.setState({\n            edges: edges.filter(function (e) {\n              return !edgeIdsToRemove.includes(e.id);\n            })\n          });\n        }\n\n        if (hasDefaultNodes) {\n          nodesToRemove.forEach(function (node) {\n            nodeInternals[\"delete\"](node.id);\n          });\n          store.setState({\n            nodeInternals: new Map(nodeInternals)\n          });\n        }\n      }\n\n      if (edgeIdsToRemove.length > 0) {\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\n\n        if (onEdgesChange) {\n          var edgeChanges = edgeIdsToRemove.map(function (id) {\n            return {\n              id: id,\n              type: 'remove'\n            };\n          });\n          onEdgesChange(edgeChanges);\n        }\n      }\n\n      if (nodesToRemove.length > 0) {\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\n\n        if (onNodesChange) {\n          var nodeChanges = nodesToRemove.map(function (n) {\n            return {\n              id: n.id,\n              type: 'remove'\n            };\n          });\n          onNodesChange(nodeChanges);\n        }\n      }\n\n      store.setState({\n        nodesSelectionActive: false\n      });\n    }\n  }, [deleteKeyPressed, onNodesChange, onEdgesChange]);\n  useEffect(function () {\n    store.setState({\n      multiSelectionActive: multiSelectionKeyPressed\n    });\n  }, [multiSelectionKeyPressed]);\n});\n\nfunction useResizeHandler(rendererNode) {\n  var store = useStoreApi();\n  useEffect(function () {\n    var resizeObserver;\n\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n\n      var size = getDimensions(rendererNode.current); // @ts-ignore\n\n      if (process.env.NODE_ENV === 'development') {\n        if (size.height === 0 || size.width === 0) {\n          console.warn('[React Flow]: The React Flow parent container needs a width and a height to render the graph. Help: https://reactflow.dev/error#400');\n        }\n      }\n\n      store.setState({\n        width: size.width || 500,\n        height: size.height || 500\n      });\n    };\n\n    updateDimensions();\n    window.onresize = updateDimensions;\n\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n\n    return function () {\n      window.onresize = null;\n\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n}\n\nvar viewChanged = function viewChanged(prevViewport, eventViewport) {\n  return prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\n};\n\nvar eventToFlowTransform = function eventToFlowTransform(eventViewport) {\n  return {\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k\n  };\n};\n\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\n  return event.target.closest(\".\".concat(className));\n};\n\nvar selector$6 = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler\n  };\n};\n\nvar ZoomPane = function ZoomPane(_ref) {\n  var onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      selectionKeyPressed = _ref.selectionKeyPressed,\n      elementsSelectable = _ref.elementsSelectable,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? [0, 0] : _ref$defaultPosition,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      children = _ref.children,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var isZoomingOrPanning = useRef(false);\n  var zoomPane = useRef(null);\n  var prevTransform = useRef({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n\n  var _useStore = useStore(selector$6, shallow),\n      d3Zoom = _useStore.d3Zoom,\n      d3Selection = _useStore.d3Selection,\n      d3ZoomHandler = _useStore.d3ZoomHandler;\n\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n  useResizeHandler(zoomPane);\n  useEffect(function () {\n    if (zoomPane.current) {\n      var _selection$node;\n\n      var d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n      var selection = select(zoomPane.current).call(d3ZoomInstance);\n      var clampedX = clamp(defaultPosition[0], translateExtent[0][0], translateExtent[1][0]);\n      var clampedY = clamp(defaultPosition[1], translateExtent[0][1], translateExtent[1][1]);\n      var clampedZoom = clamp(defaultZoom, minZoom, maxZoom);\n      var updatedTransform = zoomIdentity.translate(clampedX, clampedY).scale(clampedZoom);\n      d3ZoomInstance.transform(selection, updatedTransform);\n      store.setState({\n        d3Zoom: d3ZoomInstance,\n        d3Selection: selection,\n        d3ZoomHandler: selection.on('wheel.zoom'),\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\n        transform: [clampedX, clampedY, clampedZoom],\n        domNode: (_selection$node = selection.node()) === null || _selection$node === void 0 ? void 0 : _selection$node.closest('.react-flow')\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (d3Selection && d3Zoom) {\n      if (panOnScroll && !zoomActivationKeyPressed) {\n        d3Selection.on('wheel', function (event) {\n          if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n          }\n\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          var currentZoom = d3Selection.property('__zoom').k || 1;\n\n          if (event.ctrlKey && zoomOnPinch) {\n            var point = pointer(event); // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n\n            var pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n\n            var _zoom = currentZoom * Math.pow(2, pinchDelta);\n\n            d3Zoom.scaleTo(d3Selection, _zoom, point);\n            return;\n          } // increase scroll speed in firefox\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\n\n\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n          var deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n          var deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n        }).on('wheel.zoom', null);\n      } else if (typeof d3ZoomHandler !== 'undefined') {\n        d3Selection.on('wheel', function (event) {\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n            return null;\n          }\n\n          event.preventDefault();\n        }).on('wheel.zoom', d3ZoomHandler);\n      }\n    }\n  }, [panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (selectionKeyPressed && !isZoomingOrPanning.current) {\n        d3Zoom.on('zoom', null);\n      } else if (!selectionKeyPressed) {\n        d3Zoom.on('zoom', function (event) {\n          store.setState({\n            transform: [event.transform.x, event.transform.y, event.transform.k]\n          });\n\n          if (onMove) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onMove(event.sourceEvent, flowTransform);\n          }\n        });\n      }\n    }\n  }, [selectionKeyPressed, d3Zoom, onMove]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('start', function (event) {\n        isZoomingOrPanning.current = true;\n\n        if (onMoveStart) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveStart(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveStart]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('end', function (event) {\n        isZoomingOrPanning.current = false;\n\n        if (onMoveEnd && viewChanged(prevTransform.current, event.transform)) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveEnd(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveEnd]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        var pinchZoom = zoomOnPinch && event.ctrlKey; // if all interactions are disabled, we prevent all zoom events\n\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n          return false;\n        } // during a selection we prevent all other interactions\n\n\n        if (selectionKeyPressed) {\n          return false;\n        } // if zoom on double click is disabled, we prevent the double click event\n\n\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        } // if the target element is inside an element with the nowheel class, we prevent zooming\n\n\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n          return false;\n        } // if the target element is inside an element with the nopan class, we prevent panning\n\n\n        if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n          return false;\n        }\n\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n          return false;\n        } // when there is no scroll handling enabled, we prevent all wheel events\n\n\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n          return false;\n        } // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n\n\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        } // default filter for d3-zoom\n\n\n        return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n      });\n    }\n  }, [d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, selectionKeyPressed, elementsSelectable, zoomActivationKeyPressed]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__renderer react-flow__container\",\n    ref: zoomPane\n  }, children);\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\n\nvar selector$5 = function selector(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable\n  };\n};\n\nvar initialRect = {\n  startX: 0,\n  startY: 0,\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  draw: false\n};\nvar UserSelection = /*#__PURE__*/memo(function (_ref) {\n  var selectionKeyPressed = _ref.selectionKeyPressed;\n  var store = useStoreApi();\n  var prevSelectedNodesCount = useRef(0);\n  var prevSelectedEdgesCount = useRef(0);\n  var containerBounds = useRef();\n\n  var _useState = useState(initialRect),\n      _useState2 = _slicedToArray(_useState, 2),\n      userSelectionRect = _useState2[0],\n      setUserSelectionRect = _useState2[1];\n\n  var _useStore = useStore(selector$5, shallow),\n      userSelectionActive = _useStore.userSelectionActive,\n      elementsSelectable = _useStore.elementsSelectable;\n\n  var renderUserSelectionPane = userSelectionActive || selectionKeyPressed;\n\n  if (!elementsSelectable || !renderUserSelectionPane) {\n    return null;\n  }\n\n  var resetUserSelection = function resetUserSelection() {\n    setUserSelectionRect(initialRect);\n    store.setState({\n      userSelectionActive: false\n    });\n    prevSelectedNodesCount.current = 0;\n    prevSelectedEdgesCount.current = 0;\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    var reactFlowNode = event.target.closest('.react-flow');\n    containerBounds.current = reactFlowNode.getBoundingClientRect();\n    var mousePos = getMousePosition(event, containerBounds.current);\n    setUserSelectionRect({\n      width: 0,\n      height: 0,\n      startX: mousePos.x,\n      startY: mousePos.y,\n      x: mousePos.x,\n      y: mousePos.y,\n      draw: true\n    });\n    store.setState({\n      userSelectionActive: true,\n      nodesSelectionActive: false\n    });\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    var _userSelectionRect$st, _userSelectionRect$st2;\n\n    if (!selectionKeyPressed || !userSelectionRect.draw || !containerBounds.current) {\n      return;\n    }\n\n    var mousePos = getMousePosition(event, containerBounds.current);\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\n\n    var nextUserSelectRect = _objectSpread$7(_objectSpread$7({}, userSelectionRect), {}, {\n      x: mousePos.x < startX ? mousePos.x : startX,\n      y: mousePos.y < startY ? mousePos.y : startY,\n      width: Math.abs(mousePos.x - startX),\n      height: Math.abs(mousePos.y - startY)\n    });\n\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        transform = _store$getState.transform,\n        onNodesChange = _store$getState.onNodesChange,\n        onEdgesChange = _store$getState.onEdgesChange;\n\n    var nodes = Array.from(nodeInternals.values());\n    var selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, false, true);\n    var selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map(function (e) {\n      return e.id;\n    });\n    var selectedNodeIds = selectedNodes.map(function (n) {\n      return n.id;\n    });\n\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n      prevSelectedNodesCount.current = selectedNodeIds.length;\n      var changes = getSelectionChanges(nodes, selectedNodeIds);\n\n      if (changes.length) {\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n      }\n    }\n\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\n\n      var _changes = getSelectionChanges(edges, selectedEdgeIds);\n\n      if (_changes.length) {\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\n      }\n    }\n\n    setUserSelectionRect(nextUserSelectRect);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    store.setState({\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\n    });\n    resetUserSelection();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    store.setState({\n      nodesSelectionActive: false\n    });\n    resetUserSelection();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selectionpane react-flow__container\",\n    onMouseDown: onMouseDown,\n    onMouseMove: onMouseMove,\n    onMouseUp: onMouseUp,\n    onMouseLeave: onMouseLeave\n  }, userSelectionRect.draw && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selection react-flow__container\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\n    }\n  }));\n});\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction isParentSelected(node, nodeInternals) {\n  if (!node.parentNode) {\n    return false;\n  }\n\n  var parentNode = nodeInternals.get(node.parentNode);\n\n  if (!parentNode) {\n    return false;\n  }\n\n  if (parentNode.selected) {\n    return true;\n  }\n\n  return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n  var current = target;\n\n  do {\n    var _current;\n\n    if ((_current = current) !== null && _current !== void 0 && _current.matches(selector)) return true;\n    if (current === nodeRef.current) return false;\n    current = current.parentElement;\n  } while (current);\n\n  return false;\n} // looks for all selected nodes and created a NodeDragItem for each of them\n\nfunction getDragItems(nodeInternals, mousePos, nodeId) {\n  return Array.from(nodeInternals.values()).filter(function (n) {\n    return (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals));\n  }).map(function (n) {\n    var _n$positionAbsolute$x, _n$positionAbsolute, _n$positionAbsolute$y, _n$positionAbsolute2;\n\n    return {\n      id: n.id,\n      position: n.position || {\n        x: 0,\n        y: 0\n      },\n      positionAbsolute: n.positionAbsolute || {\n        x: 0,\n        y: 0\n      },\n      distance: {\n        x: mousePos.x - ((_n$positionAbsolute$x = (_n$positionAbsolute = n.positionAbsolute) === null || _n$positionAbsolute === void 0 ? void 0 : _n$positionAbsolute.x) !== null && _n$positionAbsolute$x !== void 0 ? _n$positionAbsolute$x : 0),\n        y: mousePos.y - ((_n$positionAbsolute$y = (_n$positionAbsolute2 = n.positionAbsolute) === null || _n$positionAbsolute2 === void 0 ? void 0 : _n$positionAbsolute2.y) !== null && _n$positionAbsolute$y !== void 0 ? _n$positionAbsolute$y : 0)\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      extent: n.extent,\n      parentNode: n.parentNode,\n      width: n.width,\n      height: n.height\n    };\n  });\n}\nfunction updatePosition(dragItem, mousePos, snapToGrid, _ref, nodeInternals, nodeExtent) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      snapX = _ref2[0],\n      snapY = _ref2[1];\n\n  var currentExtent = dragItem.extent || nodeExtent;\n  var nextPosition = {\n    x: mousePos.x - dragItem.distance.x,\n    y: mousePos.y - dragItem.distance.y\n  };\n\n  if (snapToGrid) {\n    nextPosition.x = snapX * Math.round(nextPosition.x / snapX);\n    nextPosition.y = snapY * Math.round(nextPosition.y / snapY);\n  }\n\n  if (dragItem.extent === 'parent') {\n    if (dragItem.parentNode && dragItem.width && dragItem.height) {\n      var parent = nodeInternals.get(dragItem.parentNode);\n      currentExtent = parent !== null && parent !== void 0 && parent.positionAbsolute && parent !== null && parent !== void 0 && parent.width && parent !== null && parent !== void 0 && parent.height ? [[parent.positionAbsolute.x, parent.positionAbsolute.y], [parent.positionAbsolute.x + parent.width - dragItem.width, parent.positionAbsolute.y + parent.height - dragItem.height]] : currentExtent;\n    } else {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('[React Flow]: Only child nodes can use a parent extent. Help: https://reactflow.dev/error#500');\n      }\n\n      currentExtent = nodeExtent;\n    }\n  } else if (dragItem.extent && dragItem.parentNode) {\n    var _parent$positionAbsol, _parent$positionAbsol2, _parent$positionAbsol3, _parent$positionAbsol4;\n\n    var _parent = nodeInternals.get(dragItem.parentNode);\n\n    var parentX = (_parent$positionAbsol = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol2 = _parent.positionAbsolute) === null || _parent$positionAbsol2 === void 0 ? void 0 : _parent$positionAbsol2.x) !== null && _parent$positionAbsol !== void 0 ? _parent$positionAbsol : 0;\n    var parentY = (_parent$positionAbsol3 = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol4 = _parent.positionAbsolute) === null || _parent$positionAbsol4 === void 0 ? void 0 : _parent$positionAbsol4.y) !== null && _parent$positionAbsol3 !== void 0 ? _parent$positionAbsol3 : 0;\n    currentExtent = [[dragItem.extent[0][0] + parentX, dragItem.extent[0][1] + parentY], [dragItem.extent[1][0] + parentX, dragItem.extent[1][1] + parentY]];\n  }\n\n  var parentPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (dragItem.parentNode) {\n    var _parentNode$positionA, _parentNode$positionA2, _parentNode$positionA3, _parentNode$positionA4;\n\n    var parentNode = nodeInternals.get(dragItem.parentNode);\n    parentPosition = {\n      x: (_parentNode$positionA = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA2 = parentNode.positionAbsolute) === null || _parentNode$positionA2 === void 0 ? void 0 : _parentNode$positionA2.x) !== null && _parentNode$positionA !== void 0 ? _parentNode$positionA : 0,\n      y: (_parentNode$positionA3 = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA4 = parentNode.positionAbsolute) === null || _parentNode$positionA4 === void 0 ? void 0 : _parentNode$positionA4.y) !== null && _parentNode$positionA3 !== void 0 ? _parentNode$positionA3 : 0\n    };\n  }\n\n  dragItem.positionAbsolute = currentExtent ? clampPosition(nextPosition, currentExtent) : nextPosition;\n  dragItem.position = {\n    x: dragItem.positionAbsolute.x - parentPosition.x,\n    y: dragItem.positionAbsolute.y - parentPosition.y\n  };\n  return dragItem;\n} // returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\n\nfunction getEventHandlerParams(_ref3) {\n  var nodeId = _ref3.nodeId,\n      dragItems = _ref3.dragItems,\n      nodeInternals = _ref3.nodeInternals;\n  var extentedDragItems = dragItems.map(function (n) {\n    var node = nodeInternals.get(n.id);\n    return _objectSpread$6(_objectSpread$6({}, node), {}, {\n      position: n.position,\n      positionAbsolute: n.positionAbsolute\n    });\n  });\n  return [nodeId ? extentedDragItems.find(function (n) {\n    return n.id === nodeId;\n  }) : extentedDragItems[0], extentedDragItems];\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n  return function (event, _, nodes) {\n    return selectionFunc === null || selectionFunc === void 0 ? void 0 : selectionFunc(event, nodes);\n  };\n}\n\nfunction useDrag(_ref) {\n  var nodeRef = _ref.nodeRef,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      noDragClassName = _ref.noDragClassName,\n      handleSelector = _ref.handleSelector,\n      nodeId = _ref.nodeId,\n      isSelectable = _ref.isSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragging = _useState2[0],\n      setDragging = _useState2[1];\n\n  var store = useStoreApi();\n  var dragItems = useRef();\n  var lastPos = useRef({\n    x: null,\n    y: null\n  }); // returns the pointer position projected to the RF coordinate system\n\n  var getPointerPosition = useCallback(function (_ref2) {\n    var sourceEvent = _ref2.sourceEvent;\n\n    var _store$getState = store.getState(),\n        transform = _store$getState.transform,\n        snapGrid = _store$getState.snapGrid,\n        snapToGrid = _store$getState.snapToGrid;\n\n    var x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n    var y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n    var pointerPos = pointToRendererPoint({\n      x: x,\n      y: y\n    }, transform, snapToGrid, snapGrid);\n    return pointerPos;\n  }, []);\n  useEffect(function () {\n    if (nodeRef !== null && nodeRef !== void 0 && nodeRef.current) {\n      var selection = select(nodeRef.current);\n\n      if (disabled) {\n        selection.on('.drag', null);\n      } else {\n        var dragHandler = drag().on('start', function (event) {\n          var _store$getState2 = store.getState(),\n              nodeInternals = _store$getState2.nodeInternals,\n              multiSelectionActive = _store$getState2.multiSelectionActive,\n              unselectNodesAndEdges = _store$getState2.unselectNodesAndEdges,\n              onNodeDragStart = _store$getState2.onNodeDragStart,\n              onSelectionDragStart = _store$getState2.onSelectionDragStart;\n\n          var onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n\n          if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n            var _nodeInternals$get;\n\n            if (!((_nodeInternals$get = nodeInternals.get(nodeId)) !== null && _nodeInternals$get !== void 0 && _nodeInternals$get.selected)) {\n              // we need to reset selected nodes when selectNodesOnDrag=false\n              unselectNodesAndEdges();\n            }\n          }\n\n          if (nodeId && isSelectable && selectNodesOnDrag) {\n            handleNodeClick({\n              id: nodeId,\n              store: store\n            });\n          }\n\n          var pointerPos = getPointerPosition(event);\n          lastPos.current = pointerPos;\n          dragItems.current = getDragItems(nodeInternals, pointerPos, nodeId);\n\n          if (onStart && dragItems.current) {\n            var _getEventHandlerParam = getEventHandlerParams({\n              nodeId: nodeId,\n              dragItems: dragItems.current,\n              nodeInternals: nodeInternals\n            }),\n                _getEventHandlerParam2 = _slicedToArray(_getEventHandlerParam, 2),\n                currentNode = _getEventHandlerParam2[0],\n                nodes = _getEventHandlerParam2[1];\n\n            onStart(event.sourceEvent, currentNode, nodes);\n          }\n        }).on('drag', function (event) {\n          var _store$getState3 = store.getState(),\n              updateNodePositions = _store$getState3.updateNodePositions,\n              snapToGrid = _store$getState3.snapToGrid,\n              snapGrid = _store$getState3.snapGrid,\n              nodeInternals = _store$getState3.nodeInternals,\n              nodeExtent = _store$getState3.nodeExtent,\n              onNodeDrag = _store$getState3.onNodeDrag,\n              onSelectionDrag = _store$getState3.onSelectionDrag;\n\n          var pointerPos = getPointerPosition(event); // skip events without movement\n\n          if ((lastPos.current.x !== pointerPos.x || lastPos.current.y !== pointerPos.y) && dragItems.current) {\n            lastPos.current = pointerPos;\n            dragItems.current = dragItems.current.map(function (n) {\n              return updatePosition(n, pointerPos, snapToGrid, snapGrid, nodeInternals, nodeExtent);\n            });\n            var onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n            updateNodePositions(dragItems.current, true, true);\n            setDragging(true);\n\n            if (onDrag) {\n              var _getEventHandlerParam3 = getEventHandlerParams({\n                nodeId: nodeId,\n                dragItems: dragItems.current,\n                nodeInternals: nodeInternals\n              }),\n                  _getEventHandlerParam4 = _slicedToArray(_getEventHandlerParam3, 2),\n                  currentNode = _getEventHandlerParam4[0],\n                  nodes = _getEventHandlerParam4[1];\n\n              onDrag(event.sourceEvent, currentNode, nodes);\n            }\n          }\n\n          event.on('end', function (event) {\n            setDragging(false);\n\n            if (dragItems.current) {\n              var _store$getState4 = store.getState(),\n                  _updateNodePositions = _store$getState4.updateNodePositions,\n                  _nodeInternals = _store$getState4.nodeInternals,\n                  onNodeDragStop = _store$getState4.onNodeDragStop,\n                  onSelectionDragStop = _store$getState4.onSelectionDragStop;\n\n              var onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n\n              _updateNodePositions(dragItems.current, false, false);\n\n              if (onStop) {\n                var _getEventHandlerParam5 = getEventHandlerParams({\n                  nodeId: nodeId,\n                  dragItems: dragItems.current,\n                  nodeInternals: _nodeInternals\n                }),\n                    _getEventHandlerParam6 = _slicedToArray(_getEventHandlerParam5, 2),\n                    _currentNode = _getEventHandlerParam6[0],\n                    _nodes = _getEventHandlerParam6[1];\n\n                onStop(event.sourceEvent, _currentNode, _nodes);\n              }\n            }\n          });\n        }).filter(function (event) {\n          var target = event.target;\n          var isDraggable = !event.button && (!noDragClassName || !hasSelector(target, \".\".concat(noDragClassName), nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n          return isDraggable;\n        });\n        selection.call(dragHandler);\n        return function () {\n          selection.on('.drag', null);\n        };\n      }\n    }\n  }, [nodeRef, disabled, noDragClassName, handleSelector, isSelectable, store, nodeId, selectNodesOnDrag, getPointerPosition]);\n  return dragging;\n}\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar selector$4 = function selector(s) {\n  return _objectSpread$5({\n    transformString: \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\"),\n    userSelectionActive: s.userSelectionActive\n  }, getRectOfNodes(Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  })));\n};\n\nvar bboxSelector = function bboxSelector(s) {\n  var selectedNodes = Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  });\n  return getRectOfNodes(selectedNodes);\n};\n\nfunction NodesSelection(_ref) {\n  var onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n\n  var _useStore = useStore(selector$4, shallow),\n      transformString = _useStore.transformString,\n      userSelectionActive = _useStore.userSelectionActive;\n\n  var _useStore2 = useStore(bboxSelector, shallow),\n      width = _useStore2.width,\n      height = _useStore2.height,\n      left = _useStore2.x,\n      top = _useStore2.y;\n\n  var nodeRef = useRef(null);\n  useDrag({\n    nodeRef: nodeRef\n  });\n\n  if (userSelectionActive || !width || !height) {\n    return null;\n  }\n\n  var onContextMenu = onSelectionContextMenu ? function (event) {\n    var selectedNodes = Array.from(store.getState().nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    });\n    onSelectionContextMenu(event, selectedNodes);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\n    style: {\n      transform: transformString\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    style: {\n      width: width,\n      height: height,\n      top: top,\n      left: left\n    }\n  }));\n}\n\nvar NodesSelection$1 = /*#__PURE__*/memo(NodesSelection);\n\nvar selector$3 = function selector(s) {\n  return s.nodesSelectionActive;\n};\n\nvar FlowRenderer = function FlowRenderer(_ref) {\n  var children = _ref.children,\n      onPaneClick = _ref.onPaneClick,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onPaneScroll = _ref.onPaneScroll,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      elementsSelectable = _ref.elementsSelectable,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      defaultZoom = _ref.defaultZoom,\n      defaultPosition = _ref.defaultPosition,\n      preventScrolling = _ref.preventScrolling,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var nodesSelectionActive = useStore(selector$3);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  useGlobalKeyHandler({\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode\n  });\n\n  var onClick = function onClick(event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    store.getState().resetSelectedElements();\n    store.setState({\n      nodesSelectionActive: false\n    });\n  };\n\n  var onContextMenu = onPaneContextMenu ? function (event) {\n    return onPaneContextMenu(event);\n  } : undefined;\n  var onWheel = onPaneScroll ? function (event) {\n    return onPaneScroll(event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(ZoomPane, {\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    selectionKeyPressed: selectionKeyPressed,\n    elementsSelectable: elementsSelectable,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    preventScrolling: preventScrolling,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, children, /*#__PURE__*/React.createElement(UserSelection, {\n    selectionKeyPressed: selectionKeyPressed\n  }), nodesSelectionActive && /*#__PURE__*/React.createElement(NodesSelection$1, {\n    onSelectionContextMenu: onSelectionContextMenu,\n    noPanClassName: noPanClassName\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__pane react-flow__container\",\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onWheel: onWheel\n  }));\n};\n\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = /*#__PURE__*/memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n  var nodes = useStore(useCallback(function (s) {\n    return onlyRenderVisible ? getNodesInside(s.nodeInternals, {\n      x: 0,\n      y: 0,\n      width: s.width,\n      height: s.height\n    }, s.transform, true) : Array.from(s.nodeInternals.values());\n  }, [onlyRenderVisible]));\n  return nodes;\n}\n\nvar selector$2 = function selector(s) {\n  return {\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions\n  };\n};\n\nvar NodeRenderer = function NodeRenderer(props) {\n  var _useStore = useStore(selector$2, shallow),\n      nodesDraggable = _useStore.nodesDraggable,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      updateNodeDimensions = _useStore.updateNodeDimensions;\n\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n  var resizeObserverRef = useRef();\n  var resizeObserver = useMemo(function () {\n    if (typeof ResizeObserver === 'undefined') {\n      return null;\n    }\n\n    var observer = new ResizeObserver(function (entries) {\n      var updates = entries.map(function (entry) {\n        return {\n          id: entry.target.getAttribute('data-id'),\n          nodeElement: entry.target,\n          forceUpdate: true\n        };\n      });\n      updateNodeDimensions(updates);\n    });\n    resizeObserverRef.current = observer;\n    return observer;\n  }, []);\n  useEffect(function () {\n    return function () {\n      var _resizeObserverRef$cu;\n\n      resizeObserverRef === null || resizeObserverRef === void 0 ? void 0 : (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__nodes react-flow__container\"\n  }, nodes.map(function (node) {\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4, _node$internalsSymbol, _node$internalsSymbol2, _node$internalsSymbol3;\n\n    var nodeType = node.type || 'default';\n\n    if (!props.nodeTypes[nodeType]) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n      }\n\n      nodeType = 'default';\n    }\n\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes[\"default\"];\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n    return /*#__PURE__*/React.createElement(NodeComponent, {\n      key: node.id,\n      id: node.id,\n      className: node.className,\n      style: node.style,\n      type: nodeType,\n      data: node.data,\n      sourcePosition: node.sourcePosition || Position.Bottom,\n      targetPosition: node.targetPosition || Position.Top,\n      hidden: node.hidden,\n      xPos: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\n      yPos: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\n      selectNodesOnDrag: props.selectNodesOnDrag,\n      onClick: props.onNodeClick,\n      onMouseEnter: props.onNodeMouseEnter,\n      onMouseMove: props.onNodeMouseMove,\n      onMouseLeave: props.onNodeMouseLeave,\n      onContextMenu: props.onNodeContextMenu,\n      onDoubleClick: props.onNodeDoubleClick,\n      selected: !!node.selected,\n      isDraggable: isDraggable,\n      isSelectable: isSelectable,\n      isConnectable: isConnectable,\n      resizeObserver: resizeObserver,\n      dragHandle: node.dragHandle,\n      zIndex: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0,\n      isParent: !!((_node$internalsSymbol3 = node[internalsSymbol]) !== null && _node$internalsSymbol3 !== void 0 && _node$internalsSymbol3.isParent),\n      noDragClassName: props.noDragClassName,\n      noPanClassName: props.noPanClassName,\n      initialized: !!node.width && !!node.height\n    });\n  }));\n};\n\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = /*#__PURE__*/memo(NodeRenderer);\n\nvar _oppositePosition;\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar oppositePosition = (_oppositePosition = {}, _defineProperty(_oppositePosition, Position.Left, Position.Right), _defineProperty(_oppositePosition, Position.Right, Position.Left), _defineProperty(_oppositePosition, Position.Top, Position.Bottom), _defineProperty(_oppositePosition, Position.Bottom, Position.Top), _oppositePosition);\nvar ConnectionLine = (function (_ref) {\n  var _fromNode$internalsSy, _fromNode$width, _fromNode$height, _fromNode$positionAbs, _fromNode$positionAbs2;\n\n  var connectionNodeId = _ref.connectionNodeId,\n      connectionHandleType = _ref.connectionHandleType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n      isConnectable = _ref.isConnectable,\n      CustomConnectionLineComponent = _ref.CustomConnectionLineComponent;\n\n  var _useStore = useStore(useCallback(function (s) {\n    return {\n      fromNode: s.nodeInternals.get(connectionNodeId),\n      handleId: s.connectionHandleId,\n      toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n      toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2]\n    };\n  }, [connectionNodeId]), shallow),\n      fromNode = _useStore.fromNode,\n      handleId = _useStore.handleId,\n      toX = _useStore.toX,\n      toY = _useStore.toY;\n\n  var fromHandleBounds = fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$internalsSy = fromNode[internalsSymbol]) === null || _fromNode$internalsSy === void 0 ? void 0 : _fromNode$internalsSy.handleBounds;\n\n  if (!fromNode || !isConnectable || !(fromHandleBounds !== null && fromHandleBounds !== void 0 && fromHandleBounds[connectionHandleType])) {\n    return null;\n  }\n\n  var handleBound = fromHandleBounds[connectionHandleType];\n  var fromHandle = handleId ? handleBound.find(function (d) {\n    return d.id === handleId;\n  }) : handleBound[0];\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$width = fromNode === null || fromNode === void 0 ? void 0 : fromNode.width) !== null && _fromNode$width !== void 0 ? _fromNode$width : 0) / 2;\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$height = fromNode === null || fromNode === void 0 ? void 0 : fromNode.height) !== null && _fromNode$height !== void 0 ? _fromNode$height : 0;\n  var fromX = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs = fromNode.positionAbsolute) === null || _fromNode$positionAbs === void 0 ? void 0 : _fromNode$positionAbs.x) || 0) + fromHandleX;\n  var fromY = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs2 = fromNode.positionAbsolute) === null || _fromNode$positionAbs2 === void 0 ? void 0 : _fromNode$positionAbs2.y) || 0) + fromHandleY;\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\n\n  if (!fromPosition) {\n    return null;\n  }\n\n  var toPosition = oppositePosition[fromPosition];\n  var sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition;\n\n  switch (connectionHandleType) {\n    case 'source':\n      {\n        sourceX = fromX;\n        sourceY = fromY;\n        sourcePosition = fromPosition;\n        targetX = toX;\n        targetY = toY;\n        targetPosition = toPosition;\n      }\n      break;\n\n    case 'target':\n      {\n        sourceX = toX;\n        sourceY = toY;\n        sourcePosition = toPosition;\n        targetX = fromX;\n        targetY = fromY;\n        targetPosition = fromPosition;\n      }\n      break;\n  }\n\n  if (CustomConnectionLineComponent) {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: \"react-flow__connection\"\n    }, /*#__PURE__*/React.createElement(CustomConnectionLineComponent, {\n      connectionLineType: connectionLineType,\n      connectionLineStyle: connectionLineStyle,\n      fromNode: fromNode,\n      fromHandle: fromHandle,\n      fromX: fromX,\n      fromY: fromY,\n      toX: toX,\n      toY: toY,\n      fromPosition: fromPosition,\n      toPosition: toPosition,\n      // remove in v11\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceNode: fromNode,\n      sourceHandle: fromHandle,\n      targetX: targetX,\n      targetY: targetY,\n      sourceX: sourceX,\n      sourceY: sourceY\n    }));\n  }\n\n  var dAttr = '';\n  var pathParams = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n\n  if (connectionLineType === ConnectionLineType.Bezier) {\n    // we assume the destination position is opposite to the source position\n    dAttr = getBezierPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.Step) {\n    dAttr = getSmoothStepPath(_objectSpread$4(_objectSpread$4({}, pathParams), {}, {\n      borderRadius: 0\n    }));\n  } else if (connectionLineType === ConnectionLineType.SmoothStep) {\n    dAttr = getSmoothStepPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.SimpleBezier) {\n    dAttr = getSimpleBezierPath(pathParams);\n  } else {\n    dAttr = \"M\".concat(sourceX, \",\").concat(sourceY, \" \").concat(targetX, \",\").concat(targetY);\n  }\n\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"react-flow__connection\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: dAttr,\n    className: \"react-flow__connection-path\",\n    style: connectionLineStyle\n  }));\n});\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nvar _MarkerSymbols;\n\nvar ArrowSymbol = function ArrowSymbol(_ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'none' : _ref$color,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  });\n};\n\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref2) {\n  var _ref2$color = _ref2.color,\n      color = _ref2$color === void 0 ? 'none' : _ref2$color,\n      _ref2$strokeWidth = _ref2.strokeWidth,\n      strokeWidth = _ref2$strokeWidth === void 0 ? 1 : _ref2$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: color,\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  });\n};\n\nvar MarkerSymbols = (_MarkerSymbols = {}, _defineProperty(_MarkerSymbols, MarkerType.Arrow, ArrowSymbol), _defineProperty(_MarkerSymbols, MarkerType.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\nfunction useMarkerSymbol(type) {\n  var symbol = useMemo(function () {\n    var symbolExists = MarkerSymbols.hasOwnProperty(type);\n\n    if (!symbolExists) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Marker type \\\"\".concat(type, \"\\\" doesn't exist. Help: https://reactflow.dev/error#900\"));\n      }\n\n      return function () {\n        return null;\n      };\n    }\n\n    return MarkerSymbols[type];\n  }, [type]);\n  return symbol;\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Marker = function Marker(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      color = _ref.color,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 12.5 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 12.5 : _ref$height,\n      _ref$markerUnits = _ref.markerUnits,\n      markerUnits = _ref$markerUnits === void 0 ? 'strokeWidth' : _ref$markerUnits,\n      strokeWidth = _ref.strokeWidth,\n      _ref$orient = _ref.orient,\n      orient = _ref$orient === void 0 ? 'auto' : _ref$orient;\n\n  var _Symbol = useMarkerSymbol(type);\n\n  return /*#__PURE__*/React.createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"\".concat(width),\n    markerHeight: \"\".concat(height),\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: markerUnits,\n    orient: orient,\n    refX: \"0\",\n    refY: \"0\"\n  }, /*#__PURE__*/React.createElement(_Symbol, {\n    color: color,\n    strokeWidth: strokeWidth\n  }));\n};\n\nvar markerSelector = function markerSelector(_ref2) {\n  var defaultColor = _ref2.defaultColor,\n      rfId = _ref2.rfId;\n  return function (s) {\n    var ids = [];\n    return s.edges.reduce(function (markers, edge) {\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\n        if (marker && _typeof(marker) === 'object') {\n          var markerId = getMarkerId(marker, rfId);\n\n          if (!ids.includes(markerId)) {\n            markers.push(_objectSpread$3({\n              id: markerId,\n              color: marker.color || defaultColor\n            }, marker));\n            ids.push(markerId);\n          }\n        }\n      });\n      return markers;\n    }, []).sort(function (a, b) {\n      return a.id.localeCompare(b.id);\n    });\n  };\n}; // when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\n\n\nvar MarkerDefinitions = function MarkerDefinitions(_ref3) {\n  var defaultColor = _ref3.defaultColor,\n      rfId = _ref3.rfId;\n  var markers = useStore(useCallback(markerSelector({\n    defaultColor: defaultColor,\n    rfId: rfId\n  }), [defaultColor, rfId]), // the id includes all marker options, so we just need to look at that part of the marker\n  function (a, b) {\n    return !(a.length !== b.length || a.some(function (m, i) {\n      return m.id !== b[i].id;\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"defs\", null, markers.map(function (marker) {\n    return /*#__PURE__*/React.createElement(Marker, {\n      id: marker.id,\n      key: marker.id,\n      type: marker.type,\n      color: marker.color,\n      width: marker.width,\n      height: marker.height,\n      markerUnits: marker.markerUnits,\n      strokeWidth: marker.strokeWidth,\n      orient: marker.orient\n    });\n  }));\n};\n\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = /*#__PURE__*/memo(MarkerDefinitions);\n\nvar defaultEdgeTree = [{\n  level: 0,\n  isMaxLevel: true,\n  edges: []\n}];\n\nfunction groupEdgesByZLevel(edges, nodeInternals) {\n  var elevateEdgesOnSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxLevel = -1;\n  var levelLookup = edges.reduce(function (tree, edge) {\n    var hasZIndex = isNumeric(edge.zIndex);\n    var z = hasZIndex ? edge.zIndex : 0;\n\n    if (elevateEdgesOnSelect) {\n      var _nodeInternals$get, _nodeInternals$get$in, _nodeInternals$get2, _nodeInternals$get2$i;\n\n      z = hasZIndex ? edge.zIndex : Math.max(((_nodeInternals$get = nodeInternals.get(edge.source)) === null || _nodeInternals$get === void 0 ? void 0 : (_nodeInternals$get$in = _nodeInternals$get[internalsSymbol]) === null || _nodeInternals$get$in === void 0 ? void 0 : _nodeInternals$get$in.z) || 0, ((_nodeInternals$get2 = nodeInternals.get(edge.target)) === null || _nodeInternals$get2 === void 0 ? void 0 : (_nodeInternals$get2$i = _nodeInternals$get2[internalsSymbol]) === null || _nodeInternals$get2$i === void 0 ? void 0 : _nodeInternals$get2$i.z) || 0);\n    }\n\n    if (tree[z]) {\n      tree[z].push(edge);\n    } else {\n      tree[z] = [edge];\n    }\n\n    maxLevel = z > maxLevel ? z : maxLevel;\n    return tree;\n  }, {});\n  var edgeTree = Object.entries(levelLookup).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        edges = _ref2[1];\n\n    var level = +key;\n    return {\n      edges: edges,\n      level: level,\n      isMaxLevel: level === maxLevel\n    };\n  });\n\n  if (edgeTree.length === 0) {\n    return defaultEdgeTree;\n  }\n\n  return edgeTree;\n}\n\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n  var edges = useStore(useCallback(function (s) {\n    if (!onlyRenderVisible) {\n      return s.edges;\n    }\n\n    return s.edges.filter(function (e) {\n      var sourceNode = nodeInternals.get(e.source);\n      var targetNode = nodeInternals.get(e.target);\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\n        sourcePos: sourceNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        targetPos: targetNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        sourceWidth: sourceNode.width,\n        sourceHeight: sourceNode.height,\n        targetWidth: targetNode.width,\n        targetHeight: targetNode.height,\n        width: s.width,\n        height: s.height,\n        transform: s.transform\n      });\n    });\n  }, [onlyRenderVisible, nodeInternals]));\n  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nvar selector$1 = function selector(s) {\n  return {\n    connectionNodeId: s.connectionNodeId,\n    connectionHandleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals\n  };\n};\n\nvar EdgeRenderer = function EdgeRenderer(props) {\n  var _useStore = useStore(selector$1, shallow),\n      connectionNodeId = _useStore.connectionNodeId,\n      connectionHandleType = _useStore.connectionHandleType,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      width = _useStore.width,\n      height = _useStore.height,\n      connectionMode = _useStore.connectionMode,\n      nodeInternals = _useStore.nodeInternals;\n\n  var edgeTree = useVisibleEdges(props.onlyRenderVisibleElements, nodeInternals, props.elevateEdgesOnSelect);\n\n  if (!width) {\n    return null;\n  }\n\n  var connectionLineType = props.connectionLineType,\n      defaultMarkerColor = props.defaultMarkerColor,\n      connectionLineStyle = props.connectionLineStyle,\n      connectionLineComponent = props.connectionLineComponent,\n      connectionLineContainerStyle = props.connectionLineContainerStyle;\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, edgeTree.map(function (_ref) {\n    var level = _ref.level,\n        edges = _ref.edges,\n        isMaxLevel = _ref.isMaxLevel;\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      key: level,\n      style: {\n        zIndex: level\n      },\n      width: width,\n      height: height,\n      className: \"react-flow__edges react-flow__container\"\n    }, isMaxLevel && /*#__PURE__*/React.createElement(MarkerDefinitions$1, {\n      defaultColor: defaultMarkerColor,\n      rfId: props.rfId\n    }), /*#__PURE__*/React.createElement(\"g\", null, edges.map(function (edge) {\n      var _getNodeData = getNodeData(nodeInternals, edge.source),\n          _getNodeData2 = _slicedToArray(_getNodeData, 3),\n          sourceNodeRect = _getNodeData2[0],\n          sourceHandleBounds = _getNodeData2[1],\n          sourceIsValid = _getNodeData2[2];\n\n      var _getNodeData3 = getNodeData(nodeInternals, edge.target),\n          _getNodeData4 = _slicedToArray(_getNodeData3, 3),\n          targetNodeRect = _getNodeData4[0],\n          targetHandleBounds = _getNodeData4[1],\n          targetIsValid = _getNodeData4[2];\n\n      if (!sourceIsValid || !targetIsValid) {\n        return null;\n      }\n\n      var edgeType = edge.type || 'default';\n\n      if (!props.edgeTypes[edgeType]) {\n        console.warn(\"[React Flow]: Edge type \\\"\".concat(edgeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n        edgeType = 'default';\n      }\n\n      var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes[\"default\"]; // when connection type is loose we can define all handles as sources\n\n      var targetNodeHandles = connectionMode === ConnectionMode.Strict ? targetHandleBounds.target : targetHandleBounds.target || targetHandleBounds.source;\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle || null);\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle || null);\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || Position.Bottom;\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || Position.Top;\n\n      if (!sourceHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for source handle id: \".concat(edge.sourceHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      if (!targetHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for target handle id: \".concat(edge.targetHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\n          sourceX = _getEdgePositions.sourceX,\n          sourceY = _getEdgePositions.sourceY,\n          targetX = _getEdgePositions.targetX,\n          targetY = _getEdgePositions.targetY;\n\n      return /*#__PURE__*/React.createElement(EdgeComponent, {\n        key: edge.id,\n        id: edge.id,\n        className: cc([edge.className, props.noPanClassName]),\n        type: edgeType,\n        data: edge.data,\n        selected: !!edge.selected,\n        animated: !!edge.animated,\n        hidden: !!edge.hidden,\n        label: edge.label,\n        labelStyle: edge.labelStyle,\n        labelShowBg: edge.labelShowBg,\n        labelBgStyle: edge.labelBgStyle,\n        labelBgPadding: edge.labelBgPadding,\n        labelBgBorderRadius: edge.labelBgBorderRadius,\n        style: edge.style,\n        source: edge.source,\n        target: edge.target,\n        sourceHandleId: edge.sourceHandle,\n        targetHandleId: edge.targetHandle,\n        markerEnd: edge.markerEnd,\n        markerStart: edge.markerStart,\n        sourceX: sourceX,\n        sourceY: sourceY,\n        targetX: targetX,\n        targetY: targetY,\n        sourcePosition: sourcePosition,\n        targetPosition: targetPosition,\n        elementsSelectable: elementsSelectable,\n        onEdgeUpdate: props.onEdgeUpdate,\n        onContextMenu: props.onEdgeContextMenu,\n        onMouseEnter: props.onEdgeMouseEnter,\n        onMouseMove: props.onEdgeMouseMove,\n        onMouseLeave: props.onEdgeMouseLeave,\n        onClick: props.onEdgeClick,\n        edgeUpdaterRadius: props.edgeUpdaterRadius,\n        onEdgeDoubleClick: props.onEdgeDoubleClick,\n        onEdgeUpdateStart: props.onEdgeUpdateStart,\n        onEdgeUpdateEnd: props.onEdgeUpdateEnd,\n        rfId: props.rfId\n      });\n    })));\n  }), renderConnectionLine && /*#__PURE__*/React.createElement(\"svg\", {\n    style: connectionLineContainerStyle,\n    width: width,\n    height: height,\n    className: \"react-flow__edges react-flow__connectionline react-flow__container\"\n  }, /*#__PURE__*/React.createElement(ConnectionLine, {\n    connectionNodeId: connectionNodeId,\n    connectionHandleType: connectionHandleType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineType: connectionLineType,\n    isConnectable: nodesConnectable,\n    CustomConnectionLineComponent: connectionLineComponent\n  })));\n};\n\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = /*#__PURE__*/memo(EdgeRenderer);\n\nvar selector = function selector(s) {\n  return \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\");\n};\n\nfunction Viewport(_ref) {\n  var children = _ref.children;\n  var transform = useStore(selector);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__viewport react-flow__container\",\n    style: {\n      transform: transform\n    }\n  }, children);\n}\n\nfunction useOnInitHandler(onInit) {\n  var ReactFlowInstance = useReactFlow();\n  var isInitialized = useRef(false);\n  useEffect(function () {\n    if (!isInitialized.current && ReactFlowInstance.viewportInitialized && onInit) {\n      setTimeout(function () {\n        return onInit(ReactFlowInstance);\n      }, 1);\n      isInitialized.current = true;\n    }\n  }, [onInit, ReactFlowInstance.viewportInitialized]);\n}\n\nvar GraphView = function GraphView(_ref) {\n  var nodeTypes = _ref.nodeTypes,\n      edgeTypes = _ref.edgeTypes,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onInit = _ref.onInit,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      connectionLineType = _ref.connectionLineType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onlyRenderVisibleElements = _ref.onlyRenderVisibleElements,\n      elementsSelectable = _ref.elementsSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      defaultZoom = _ref.defaultZoom,\n      defaultPosition = _ref.defaultPosition,\n      preventScrolling = _ref.preventScrolling,\n      defaultMarkerColor = _ref.defaultMarkerColor,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      noDragClassName = _ref.noDragClassName,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName,\n      elevateEdgesOnSelect = _ref.elevateEdgesOnSelect,\n      id = _ref.id;\n  useOnInitHandler(onInit);\n  return /*#__PURE__*/React.createElement(FlowRenderer$1, {\n    onPaneClick: onPaneClick,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    deleteKeyCode: deleteKeyCode,\n    selectionKeyCode: selectionKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    elementsSelectable: elementsSelectable,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    onSelectionContextMenu: onSelectionContextMenu,\n    preventScrolling: preventScrolling,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, /*#__PURE__*/React.createElement(Viewport, null, /*#__PURE__*/React.createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypes,\n    onEdgeClick: onEdgeClick,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    onEdgeUpdate: onEdgeUpdate,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: !!elevateEdgesOnSelect,\n    rfId: id\n  }), /*#__PURE__*/React.createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypes,\n    onNodeClick: onNodeClick,\n    onNodeDoubleClick: onNodeDoubleClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    selectNodesOnDrag: selectNodesOnDrag,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    noPanClassName: noPanClassName,\n    noDragClassName: noDragClassName\n  })));\n};\n\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = /*#__PURE__*/memo(GraphView);\n\nvar GroupNode = function GroupNode() {\n  return null;\n};\n\nGroupNode.displayName = 'GroupNode';\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar wrapNode = (function (NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_ref) {\n    var id = _ref.id,\n        type = _ref.type,\n        data = _ref.data,\n        xPos = _ref.xPos,\n        yPos = _ref.yPos,\n        selected = _ref.selected,\n        onClick = _ref.onClick,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        onContextMenu = _ref.onContextMenu,\n        onDoubleClick = _ref.onDoubleClick,\n        style = _ref.style,\n        className = _ref.className,\n        isDraggable = _ref.isDraggable,\n        isSelectable = _ref.isSelectable,\n        isConnectable = _ref.isConnectable,\n        selectNodesOnDrag = _ref.selectNodesOnDrag,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        hidden = _ref.hidden,\n        resizeObserver = _ref.resizeObserver,\n        dragHandle = _ref.dragHandle,\n        zIndex = _ref.zIndex,\n        isParent = _ref.isParent,\n        noPanClassName = _ref.noPanClassName,\n        noDragClassName = _ref.noDragClassName,\n        initialized = _ref.initialized;\n    var store = useStoreApi();\n    var nodeRef = useRef(null);\n    var prevSourcePosition = useRef(sourcePosition);\n    var prevTargetPosition = useRef(targetPosition);\n    var prevType = useRef(type);\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n    var onMouseEnterHandler = getMouseHandler$1(id, store.getState, onMouseEnter);\n    var onMouseMoveHandler = getMouseHandler$1(id, store.getState, onMouseMove);\n    var onMouseLeaveHandler = getMouseHandler$1(id, store.getState, onMouseLeave);\n    var onContextMenuHandler = getMouseHandler$1(id, store.getState, onContextMenu);\n    var onDoubleClickHandler = getMouseHandler$1(id, store.getState, onDoubleClick);\n\n    var onSelectNodeHandler = function onSelectNodeHandler(event) {\n      if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n        // this handler gets called within the drag start event when selectNodesOnDrag=true\n        handleNodeClick({\n          id: id,\n          store: store\n        });\n      }\n\n      if (onClick) {\n        var node = store.getState().nodeInternals.get(id);\n        onClick(event, _objectSpread$2({}, node));\n      }\n    };\n\n    useEffect(function () {\n      if (nodeRef.current && !hidden) {\n        var currNode = nodeRef.current;\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\n        return function () {\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\n        };\n      }\n    }, [hidden]);\n    useEffect(function () {\n      // when the user programmatically changes the source or handle position, we re-initialize the node\n      var typeChanged = prevType.current !== type;\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\n\n      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n        if (typeChanged) {\n          prevType.current = type;\n        }\n\n        if (sourcePosChanged) {\n          prevSourcePosition.current = sourcePosition;\n        }\n\n        if (targetPosChanged) {\n          prevTargetPosition.current = targetPosition;\n        }\n\n        store.getState().updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeRef.current,\n          forceUpdate: true\n        }]);\n      }\n    }, [id, type, sourcePosition, targetPosition]);\n    var dragging = useDrag({\n      nodeRef: nodeRef,\n      disabled: hidden || !isDraggable,\n      noDragClassName: noDragClassName,\n      handleSelector: dragHandle,\n      nodeId: id,\n      isSelectable: isSelectable,\n      selectNodesOnDrag: selectNodesOnDrag\n    });\n\n    if (hidden) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cc(['react-flow__node', \"react-flow__node-\".concat(type), noPanClassName, className, {\n        selected: selected,\n        selectable: isSelectable,\n        parent: isParent\n      }]),\n      ref: nodeRef,\n      style: _objectSpread$2({\n        zIndex: zIndex,\n        transform: \"translate(\".concat(xPos, \"px,\").concat(yPos, \"px)\"),\n        pointerEvents: hasPointerEvents ? 'all' : 'none',\n        visibility: initialized ? 'visible' : 'hidden'\n      }, style),\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler,\n      onDoubleClick: onDoubleClickHandler,\n      \"data-testid\": \"rf__node-\".concat(id),\n      \"data-id\": id\n    }, /*#__PURE__*/React.createElement(Provider, {\n      value: id\n    }, /*#__PURE__*/React.createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      xPos: xPos,\n      yPos: yPos,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      dragging: dragging,\n      dragHandle: dragHandle,\n      zIndex: zIndex\n    })));\n  };\n\n  NodeWrapper.displayName = 'NodeWrapper';\n  return /*#__PURE__*/memo(NodeWrapper);\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    \"default\": wrapNode(nodeTypes[\"default\"] || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1),\n    group: wrapNode(nodeTypes.group || GroupNode)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output', 'group'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$1(_objectSpread$1({}, standardTypes), specialTypes);\n}\n\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n  var typesKeysRef = useRef(null);\n  var typesParsed = useMemo(function () {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\n\n      if (shallow(typesKeysRef.current, typeKeys)) {\n        console.warn(\"[React Flow]: It looks like you have created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them. Help: https://reactflow.dev/error#200\");\n      }\n\n      typesKeysRef.current = typeKeys;\n    }\n\n    return createTypes(nodeOrEdgeTypes);\n  }, [nodeOrEdgeTypes]);\n  return typesParsed;\n}\nfunction injectStyle(css) {\n  if (!css || typeof document === 'undefined') return;\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  head.appendChild(style);\n  style.appendChild(document.createTextNode(css));\n}\n\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children;\n  var isWrapped = true;\n\n  try {\n    useStoreApi();\n  } catch (e) {\n    isWrapped = false;\n  }\n\n  if (isWrapped) {\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\n\nWrapper.displayName = 'ReactFlowWrapper';\n\nvar _excluded = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onClickConnectStart\", \"onClickConnectStop\", \"onClickConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"connectionLineContainerStyle\", \"deleteKeyCode\", \"selectionKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\", \"elevateEdgesOnSelect\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n{\n  injectStyle(css);\n  injectStyle(theme);\n}\n\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  \"default\": DefaultNode$1,\n  output: OutputNode$1\n};\nvar defaultEdgeTypes = {\n  \"default\": BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge,\n  simplebezier: SimpleBezierEdge\n};\nvar initSnapGrid = [15, 15];\nvar initDefaultPosition = [0, 0];\nvar ReactFlow = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      className = _ref.className,\n      _ref$nodeTypes = _ref.nodeTypes,\n      nodeTypes = _ref$nodeTypes === void 0 ? defaultNodeTypes : _ref$nodeTypes,\n      _ref$edgeTypes = _ref.edgeTypes,\n      edgeTypes = _ref$edgeTypes === void 0 ? defaultEdgeTypes : _ref$edgeTypes,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onInit = _ref.onInit,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onSelectionChange = _ref.onSelectionChange,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStop = _ref.onSelectionDragStop,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      _ref$connectionMode = _ref.connectionMode,\n      connectionMode = _ref$connectionMode === void 0 ? ConnectionMode.Strict : _ref$connectionMode,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      _ref$deleteKeyCode = _ref.deleteKeyCode,\n      deleteKeyCode = _ref$deleteKeyCode === void 0 ? 'Backspace' : _ref$deleteKeyCode,\n      _ref$selectionKeyCode = _ref.selectionKeyCode,\n      selectionKeyCode = _ref$selectionKeyCode === void 0 ? 'Shift' : _ref$selectionKeyCode,\n      _ref$multiSelectionKe = _ref.multiSelectionKeyCode,\n      multiSelectionKeyCode = _ref$multiSelectionKe === void 0 ? 'Meta' : _ref$multiSelectionKe,\n      _ref$zoomActivationKe = _ref.zoomActivationKeyCode,\n      zoomActivationKeyCode = _ref$zoomActivationKe === void 0 ? 'Meta' : _ref$zoomActivationKe,\n      _ref$snapToGrid = _ref.snapToGrid,\n      snapToGrid = _ref$snapToGrid === void 0 ? false : _ref$snapToGrid,\n      _ref$snapGrid = _ref.snapGrid,\n      snapGrid = _ref$snapGrid === void 0 ? initSnapGrid : _ref$snapGrid,\n      _ref$onlyRenderVisibl = _ref.onlyRenderVisibleElements,\n      onlyRenderVisibleElements = _ref$onlyRenderVisibl === void 0 ? false : _ref$onlyRenderVisibl,\n      _ref$selectNodesOnDra = _ref.selectNodesOnDrag,\n      selectNodesOnDrag = _ref$selectNodesOnDra === void 0 ? true : _ref$selectNodesOnDra,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      elementsSelectable = _ref.elementsSelectable,\n      _ref$minZoom = _ref.minZoom,\n      minZoom = _ref$minZoom === void 0 ? 0.5 : _ref$minZoom,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 2 : _ref$maxZoom,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? initDefaultPosition : _ref$defaultPosition,\n      _ref$translateExtent = _ref.translateExtent,\n      translateExtent = _ref$translateExtent === void 0 ? infiniteExtent : _ref$translateExtent,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      nodeExtent = _ref.nodeExtent,\n      _ref$defaultMarkerCol = _ref.defaultMarkerColor,\n      defaultMarkerColor = _ref$defaultMarkerCol === void 0 ? '#b1b1b7' : _ref$defaultMarkerCol,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      children = _ref.children,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      _ref$edgeUpdaterRadiu = _ref.edgeUpdaterRadius,\n      edgeUpdaterRadius = _ref$edgeUpdaterRadiu === void 0 ? 10 : _ref$edgeUpdaterRadiu,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      _ref$noDragClassName = _ref.noDragClassName,\n      noDragClassName = _ref$noDragClassName === void 0 ? 'nodrag' : _ref$noDragClassName,\n      _ref$noWheelClassName = _ref.noWheelClassName,\n      noWheelClassName = _ref$noWheelClassName === void 0 ? 'nowheel' : _ref$noWheelClassName,\n      _ref$noPanClassName = _ref.noPanClassName,\n      noPanClassName = _ref$noPanClassName === void 0 ? 'nopan' : _ref$noPanClassName,\n      _ref$fitView = _ref.fitView,\n      fitView = _ref$fitView === void 0 ? false : _ref$fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      _ref$connectOnClick = _ref.connectOnClick,\n      connectOnClick = _ref$connectOnClick === void 0 ? true : _ref$connectOnClick,\n      attributionPosition = _ref.attributionPosition,\n      proOptions = _ref.proOptions,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      _ref$elevateEdgesOnSe = _ref.elevateEdgesOnSelect,\n      elevateEdgesOnSelect = _ref$elevateEdgesOnSe === void 0 ? false : _ref$elevateEdgesOnSe,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n  var edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\n    ref: ref,\n    className: cc(['react-flow', className])\n  }), /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement(GraphView$1, {\n    onInit: onInit,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onNodeClick: onNodeClick,\n    onEdgeClick: onEdgeClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDoubleClick: onNodeDoubleClick,\n    nodeTypes: nodeTypesWrapped,\n    edgeTypes: edgeTypesWrapped,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    selectionKeyCode: selectionKeyCode,\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    selectNodesOnDrag: selectNodesOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    preventScrolling: preventScrolling,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    onPaneClick: onPaneClick,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionContextMenu: onSelectionContextMenu,\n    onEdgeUpdate: onEdgeUpdate,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: elevateEdgesOnSelect,\n    id: rest === null || rest === void 0 ? void 0 : rest.id\n  }), /*#__PURE__*/React.createElement(StoreUpdater, {\n    nodes: nodes,\n    edges: edges,\n    defaultNodes: defaultNodes,\n    defaultEdges: defaultEdges,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    onClickConnectStart: onClickConnectStart,\n    onClickConnectStop: onClickConnectStop,\n    onClickConnectEnd: onClickConnectEnd,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    elementsSelectable: elementsSelectable,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    nodeExtent: nodeExtent,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    connectionMode: connectionMode,\n    translateExtent: translateExtent,\n    connectOnClick: connectOnClick,\n    defaultEdgeOptions: defaultEdgeOptions,\n    fitView: fitView,\n    fitViewOptions: fitViewOptions,\n    onNodesDelete: onNodesDelete,\n    onEdgesDelete: onEdgesDelete,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDrag: onNodeDrag,\n    onNodeDragStop: onNodeDragStop,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDragStop: onSelectionDragStop\n  }), onSelectionChange && /*#__PURE__*/React.createElement(SelectionListener$1, {\n    onSelectionChange: onSelectionChange\n  }), children, /*#__PURE__*/React.createElement(Attribution, {\n    proOptions: proOptions,\n    position: attributionPosition\n  })));\n});\nReactFlow.displayName = 'ReactFlow';\n\nvar ReactFlowProvider = function ReactFlowProvider(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\n\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nfunction createUseItemsState(applyChanges) {\n  return function (initialItems) {\n    var _useState = useState(initialItems),\n        _useState2 = _slicedToArray(_useState, 2),\n        items = _useState2[0],\n        setItems = _useState2[1];\n\n    var onItemsChange = useCallback(function (changes) {\n      return setItems(function (items) {\n        return applyChanges(changes, items);\n      });\n    }, []);\n    return [items, setItems, onItemsChange];\n  };\n}\n\nvar useNodesState = createUseItemsState(applyNodeChanges);\nvar useEdgesState = createUseItemsState(applyEdgeChanges);\n\nexport { BezierEdge, EdgeText$1 as EdgeText, Handle$1 as Handle, ReactFlowProvider, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, ReactFlow as default, getBezierCenter as getBezierEdgeCenter, getBezierPath, getCenter as getEdgeCenter, getMarkerEnd, getSimpleBezierCenter as getSimpleBezierEdgeCenter, getSimpleBezierPath, getSmoothStepPath, useEdgesState, useKeyPress, useNodesState };\n//# sourceMappingURL=index.js.map\n"],"names":["accounts","Attribution","_ref","proOptions","_ref$position","position","account","includes","hideAttribution","positionClasses","concat","split","className","_","href","target","rel","_excluded$2","ownKeys$c","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","EdgeText","x","y","label","_ref$labelStyle","labelStyle","_ref$labelShowBg","labelShowBg","_ref$labelBgStyle","labelBgStyle","_ref$labelBgPadding","labelBgPadding","_ref$labelBgBorderRad","labelBgBorderRadius","children","rest","edgeRef","useRef","_useState","useState","width","height","_useState2","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","useEffect","current","textBbox","getBBox","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread$c","transform","style","rx","ry","dy","ref","EdgeText$1","memo","BaseEdge","path","centerX","centerY","markerEnd","markerStart","text","d","getControl","ctX","ctY","pos","x1","y1","x2","y2","P","Left","Right","Top","Bottom","getSimpleBezierPath","_ref2","sourceX","sourceY","_ref2$sourcePosition","sourcePosition","targetX","targetY","_ref2$targetPosition","targetPosition","_getControl","_getControl2","sourceControlX","sourceControlY","_getControl3","_getControl4","targetControlX","targetControlY","SimpleBezierEdge","_ref4","_ref4$sourcePosition","_ref4$targetPosition","params","_getSimpleBezierCente","_ref3","_ref3$sourcePosition","_ref3$targetPosition","_getControl5","_getControl6","_getControl7","_getControl8","Math","abs","getSimpleBezierCenter","_getSimpleBezierCente2","ownKeys$b","getMarkerEnd","markerType","markerEndId","LeftOrRight","getCenter","_ref$sourcePosition","_ref$targetPosition","sourceIsLeftOrRight","targetIsLeftOrRight","_xOffset","_centerX","_yOffset","xOffset","yOffset","getMouseHandler","id","getState","handler","undefined","event","edge","edges","find","e","_objectSpread$b","bottomLeftCorner","size","leftBottomCorner","bottomRightCorner","rightBottomCorner","leftTopCorner","topLeftCorner","topRightCorner","rightTopCorner","getSmoothStepPath","_ref$borderRadius","borderRadius","_getCenter","_getCenter2","_centerY","offsetX","offsetY","cornerWidth","min","cornerHeight","cornerSize","leftAndRight","cX","cY","firstCornerPath","secondCornerPath","SmoothStepEdge","_ref2$borderRadius","_getCenter3","_getCenter4","ownKeys$a","_objectSpread$a","StepEdge","props","StraightEdge","calculateControlOffset","distance","curvature","sqrt","getControlWithCurvature","c","getBezierPath","_ref2$curvature","_getControlWithCurvat","_getControlWithCurvat2","_getControlWithCurvat3","_getControlWithCurvat4","BezierEdge","_getBezierCenter","_ref3$curvature","_getControlWithCurvat5","_getControlWithCurvat6","_getControlWithCurvat7","_getControlWithCurvat8","getBezierCenter","_getBezierCenter2","NodeIdContext","createContext","Provider","checkElementBelowIsValid","connectionMode","isTarget","nodeId","handleId","isValidConnection","doc","elementBelow","elementFromPoint","clientX","clientY","elementBelowIsTarget","classList","contains","elementBelowIsSource","result","isValid","connection","sourceHandle","targetHandle","isHoveringHandle","elementBelowNodeId","getAttribute","elementBelowHandleId","C","Strict","resetRecentHandle","hoveredHandle","remove","handleMouseDown","onConnect","setState","elementEdgeUpdaterType","onEdgeUpdateEnd","reactFlowNode","closest","g","recentHoveredHandle","_getState","onConnectStart","handleType","containerBounds","getBoundingClientRect","connectionPosition","left","top","connectionNodeId","connectionHandleId","connectionHandleType","addEventListener","onMouseMove","onMouseUp","_getState2","onConnectStop","onConnectEnd","_checkElementBelowIsV2","removeEventListener","_checkElementBelowIsV","add","toggle","Consumer","_excluded$1","ownKeys$9","_objectSpread$9","alwaysValid","selector$a","s","connectionStartHandle","connectOnClick","Handle","forwardRef","_ref$type","type","_ref$isValidConnectio","_ref$isConnectable","isConnectable","onMouseDown","store","u","useContext","_useStore","onConnectExtended","_store$getState","defaultEdgeOptions","onConnectAction","hasDefaultEdges","edgeParams","connectable","connecting","button","onClick","_store$getState3","onClickConnectStart","onClickConnectStop","onClickConnectEnd","displayName","Handle$1","DefaultNode","data","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","selector$9","selectedNodes","Array","from","nodeInternals","values","n","selected","selectedEdges","areEqual","objA","objB","selectedNodeIdsA","map","selectedNodeIdsB","selectedEdgeIdsA","selectedEdgeIdsB","SelectionListener","onSelectionChange","nodes","SelectionListener$1","selector$8","setNodes","setEdges","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","value","setStoreState","useDirectStoreUpdater","StoreUpdater","defaultNodes","defaultEdges","nodesDraggable","nodesConnectable","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","snapToGrid","translateExtent","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","shiftX","shift","shiftY","EdgeAnchor","_ref$radius","radius","cx","cy","r","stroke","fill","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","hidden","sourceHandleId","targetHandleId","onContextMenu","onMouseEnter","onMouseLeave","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","rfId","updating","setUpdating","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_onEdgeUpdateEnd","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","markerStartUrl","useMemo","markerEndUrl","inactive","handleEdgeUpdate","edgeClasses","addSelectedEdges","nodesSelectionActive","onDoubleClick","onMouseOut","ownKeys$8","_objectSpread$8","createEdgeTypes","edgeTypes","standardTypes","straight","bezier","step","smoothstep","simplebezier","specialTypes","k","reduce","res","getHandlePosition","nodeRect","handle","getHandle","bounds","getNodeData","_node$internalsSymbol","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","node","get","handleBounds","isInvalid","positionAbsolute","document","useKeyPress","keyCode","options","keyPressed","setKeyPressed","pressedKeys","Set","_useMemo","isArray","kc","keysFlat","item","_useMemo2","keyCodes","keysToWatch","_options$target","_options$target2","downHandler","isInputDOMNode","keyOrCode","useKeyOrCode","code","isMatchingKey","preventDefault","upHandler","clear","resetHandler","window","_options$target3","_options$target4","isUp","some","every","has","eventCode","_event$composedPath","composedPath","call","nodeName","hasAttribute","selector$7","eventToFlowTransform","eventViewport","zoom","isWrappedWithClass","selector$6","d3Zoom","d3Selection","d3ZoomHandler","ZoomPane","onMove","onMoveStart","onMoveEnd","_ref$zoomOnScroll","zoomOnScroll","_ref$zoomOnPinch","zoomOnPinch","_ref$panOnScroll","panOnScroll","_ref$panOnScrollSpeed","panOnScrollSpeed","_ref$panOnScrollMode","panOnScrollMode","Free","_ref$zoomOnDoubleClic","zoomOnDoubleClick","selectionKeyPressed","_ref$panOnDrag","panOnDrag","_ref$defaultZoom","defaultZoom","_ref$defaultPosition","defaultPosition","zoomActivationKeyCode","_ref$preventScrolling","preventScrolling","noWheelClassName","noPanClassName","isZoomingOrPanning","zoomPane","prevTransform","zoomActivationKeyPressed","rendererNode","resizeObserver","updateDimensions","onresize","ResizeObserver","observe","unobserve","useResizeHandler","_selection$node","d3ZoomInstance","scaleExtent","selection","clampedX","clampedY","clampedZoom","updatedTransform","translate","scale","on","domNode","stopImmediatePropagation","currentZoom","property","ctrlKey","point","pinchDelta","deltaY","deltaMode","_zoom","pow","scaleTo","deltaNormalize","deltaX","Vertical","Horizontal","translateBy","flowTransform","sourceEvent","prevViewport","zoomScroll","pinchZoom","ownKeys$7","_objectSpread$7","getMousePosition","selector$5","userSelectionActive","initialRect","startX","startY","draw","UserSelection","prevSelectedNodesCount","prevSelectedEdgesCount","userSelectionRect","setUserSelectionRect","resetUserSelection","mousePos","_userSelectionRect$st","_userSelectionRect$st2","nextUserSelectRect","selectedEdgeIds","selectedNodeIds","changes","_changes","ownKeys$6","_objectSpread$6","isParentSelected","parentNode","hasSelector","selector","nodeRef","_current","matches","parentElement","getDragItems","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","extent","getEventHandlerParams","dragItems","extentedDragItems","wrapSelectionDragFunc","selectionFunc","useDrag","_ref$disabled","disabled","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","dragging","setDragging","lastPos","getPointerPosition","useCallback","touches","p","dragHandler","_nodeInternals$get","_store$getState2","multiSelectionActive","unselectNodesAndEdges","onStart","pointerPos","_getEventHandlerParam","_getEventHandlerParam2","currentNode","updateNodePositions","dragItem","snapX","snapY","currentExtent","nextPosition","round","parent","_parent$positionAbsol","_parent$positionAbsol2","_parent$positionAbsol3","_parent$positionAbsol4","_parent","parentX","parentY","parentPosition","_parentNode$positionA","_parentNode$positionA2","_parentNode$positionA3","_parentNode$positionA4","updatePosition","onDrag","_getEventHandlerParam3","_getEventHandlerParam4","_store$getState4","_updateNodePositions","_nodeInternals","onStop","_getEventHandlerParam5","_getEventHandlerParam6","_currentNode","_nodes","ownKeys$5","selector$4","_objectSpread$5","transformString","bboxSelector","NodesSelection","onSelectionContextMenu","_useStore2","NodesSelection$1","selector$3","FlowRenderer","onPaneClick","onPaneContextMenu","onPaneScroll","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","deleteKeyPressed","multiSelectionKeyPressed","hasDefaultNodes","nodesToRemove","connectedEdges","edgesToRemove","edgeIdsToRemove","Map","edgeChanges","nodeChanges","useGlobalKeyHandler","onWheel","resetSelectedElements","FlowRenderer$1","selector$2","updateNodeDimensions","NodeRenderer","onlyRenderVisible","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","nodeElement","forceUpdate","_resizeObserverRef$cu","disconnect","_node$internalsSymbol2","_node$internalsSymbol3","nodeType","nodeTypes","NodeComponent","isDraggable","draggable","selectable","xPos","yPos","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","dragHandle","zIndex","z","isParent","initialized","_oppositePosition","NodeRenderer$1","ownKeys$4","_objectSpread$4","_MarkerSymbols","oppositePosition","ConnectionLine","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","connectionLineStyle","_ref$connectionLineTy","connectionLineType","Bezier","CustomConnectionLineComponent","fromNode","toX","toY","fromHandleBounds","handleBound","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","sourceNode","dAttr","pathParams","Step","SmoothStep","SimpleBezier","_typeof","obj","Symbol","iterator","constructor","prototype","MarkerSymbols","M","Arrow","_ref$color","color","_ref$strokeWidth","strokeWidth","strokeLinecap","strokeLinejoin","points","ArrowClosed","_ref2$color","_ref2$strokeWidth","ownKeys$3","Marker","_ref$width","_ref$height","_ref$markerUnits","markerUnits","_ref$orient","orient","_Symbol","hasOwnProperty","useMarkerSymbol","markerWidth","markerHeight","viewBox","refX","refY","markerSelector","defaultColor","ids","markers","marker","markerId","_objectSpread$3","sort","a","b","localeCompare","MarkerDefinitions","m","MarkerDefinitions$1","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","maxLevel","levelLookup","tree","_nodeInternals$get$in","_nodeInternals$get2","_nodeInternals$get2$i","hasZIndex","max","edgeTree","groupEdgesByZLevel","targetNode","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","xOverlap","yOverlap","ceil","isEdgeVisible","selector$1","EdgeRenderer","defaultMarkerColor","connectionLineComponent","connectionLineContainerStyle","renderConnectionLine","_getNodeData","_getNodeData2","sourceNodeRect","sourceHandleBounds","sourceIsValid","_getNodeData3","_getNodeData4","targetNodeRect","targetHandleBounds","targetIsValid","edgeType","console","warn","targetNodeHandles","_getEdgePositions","sourceHandlePos","targetHandlePos","getEdgePositions","onEdgeClick","EdgeRenderer$1","Viewport","GraphView","onInit","ReactFlowInstance","isInitialized","viewportInitialized","setTimeout","useOnInitHandler","GraphView$1","GroupNode","ownKeys$2","_objectSpread$2","wrapNode","NodeWrapper","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","pointerEvents","visibility","ownKeys$1","_objectSpread$1","createNodeTypes","input","output","group","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","injectStyle","css","head","getElementsByTagName","createElement","appendChild","createTextNode","Wrapper","isWrapped","createStore","_excluded","ownKeys","_objectSpread","defaultNodeTypes","defaultEdgeTypes","initSnapGrid","initDefaultPosition","ReactFlow","_ref$nodeTypes","_ref$edgeTypes","_ref$connectionMode","_ref$deleteKeyCode","_ref$selectionKeyCode","_ref$multiSelectionKe","_ref$zoomActivationKe","_ref$snapToGrid","_ref$snapGrid","_ref$onlyRenderVisibl","_ref$selectNodesOnDra","_ref$minZoom","_ref$maxZoom","_ref$translateExtent","_ref$defaultMarkerCol","_ref$edgeUpdaterRadiu","_ref$noDragClassName","_ref$noWheelClassName","_ref$noPanClassName","_ref$fitView","_ref$connectOnClick","attributionPosition","_ref$elevateEdgesOnSe","nodeTypesWrapped","edgeTypesWrapped","createUseItemsState","applyChanges","initialItems","items","setItems","onItemsChange"],"sourceRoot":""}