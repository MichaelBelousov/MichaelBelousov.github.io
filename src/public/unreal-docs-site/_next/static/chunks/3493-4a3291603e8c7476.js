"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3493],{93493:function(e,t,n){n.d(t,{Pu:function(){return p},ZP:function(){return C},Jt:function(){return x}});var a=n(159),o=n(91164),i=n(67294),r=n(3905),l=["components"],p=(i.createElement,{title:"Create a Component",tile:{name:"Create a Component",description:"This tutorial will guide you through the process of creating a component in an organization.",href:"/tutorials/create-a-component",durationInMinutes:20,relatedApiIds:["library"],showInFirstSteps:!1,firstStepsSequenceNumber:3}}),d=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},s=d("Introduction"),c=d("TutorialSection"),m=d("LinkButton"),u=d("PostmanIcon"),f=d("CreateSampleAppButton"),h=d("Alert"),y=d("Title"),b=d("CodeBlock"),k=d("ContinueLearningSection"),T=d("TileList"),g=d("Tile"),v=d("ResourceTile"),w={metadata:p};function C(e){var t=e.components,n=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},w,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(s,{skillLevel:"Basic",durationInMinutes:"20",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This tutorial will take you through the process of creating a component in an organization."),(0,r.kt)("p",null,"By the end of this walk-through, you will be able to utilize the API endpoints in order to create a component and its variations, documents and webLinks.")),(0,r.kt)(c,{actions:[(0,r.kt)(m,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(u,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A tool such as ",(0,r.kt)("inlineCode",{parentName:"li"},"Postman")," that can be used to execute http calls. These calls can also be made using the ",(0,r.kt)("inlineCode",{parentName:"li"},"TryIt")," button in the API documentation."),(0,r.kt)("li",{parentName:"ul"},"User must be affiliated with an Organization and should either be an Organization Administrator or have \u201cUpload\u201d and \u201cRead\u201d permission at Organization level to upload components to catalog."),(0,r.kt)("li",{parentName:"ul"},"For more information about User Management please visit our Bentley Communities ",(0,r.kt)("a",{parentName:"li",href:"https://communities.bentley.com/communities/other_communities/licensing_cloud_and_web_services/w/wiki/50711/user-management-2-0"},"Licensing, Cloud, and Web Services")," wiki page."),(0,r.kt)("li",{parentName:"ul"},"Most of the time, a component should have a design file associated to the component as part of design document. Design file is a CAD file, used in CAD applications i.e. MicroStation, Revit etc. Library API supports all types of design files to create components. You should have a design file to associate\nto component as a design document. Theoretically a component can exist without any files, but that may not be beneficial. In this example we will use rfa design file."))),(0,r.kt)(c,{actions:[(0,r.kt)(f,{tooltip:"Register a basic SPA App for this tutorial",scopes:["realitydata:read","imodels:read","imodels:modify","library:read","library:modify","storage:read","storage:modify"],clientName:"Upload component to catalog tutorial",mdxType:"CreateSampleAppButton"},"Register Application")],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-register-an-application"},"1. Register an Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs. You can use the ",(0,r.kt)("strong",{parentName:"p"},"Register")," button to automatically create your first single page application (SPA). This will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorizesinglepageapplicationsspaanddesktopmobileapplicationsnative"},"Authorization Code Flow for your SPA application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_CLIENT_ID")," - this is the unique identifier for your application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_REDIRECT_URI")," - specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_LOGOUT_URI")," - specifies where users can be returned to after logging out. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Post logout redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_SCOPES")," - list of accesses granted to the application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Or optionally:")," Register and configure your application manually following instructions in ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial.\nMake sure that your application is associated with ",(0,r.kt)("strong",{parentName:"p"},"iModels"),", ",(0,r.kt)("strong",{parentName:"p"},"Library"),", ",(0,r.kt)("strong",{parentName:"p"},"RealityData")," and ",(0,r.kt)("strong",{parentName:"p"},"Storage")," APIs and has ",(0,r.kt)("inlineCode",{parentName:"p"},"realitydata:read imodels:read imodels:modify library:read library:modify storage:read storage:modify")," scopes enabled."))),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-a-token"},"2. Get a token"),(0,r.kt)("p",null,"Before you can make a request to the APIs, a user token is needed. There are several ways to get it."),(0,r.kt)("h3",{id:"implement-authorization-code-flow-in-the-application"},"Implement Authorization Code Flow in the application"),(0,r.kt)("p",null,"Follow this ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/"},"article")," to implement Authorization code workflow in your application."),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Here you can use Client ID generated from previous registration step."),(0,r.kt)("h3",{id:"grab-a-user-token-from-api-reference-try-it-section"},"Grab a user token from Api reference \u201cTry it\u201d Section"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go ",(0,r.kt)("a",{parentName:"li",href:"/apis/library/operations/upload-component/"},"here")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Try it")," button."),(0,r.kt)("li",{parentName:"ol"},"Under the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," section, select ",(0,r.kt)("inlineCode",{parentName:"li"},"authorizationCode")," from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"After the sign in popup closes, the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," header with token value should be visible beneath the ",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP request")," dropdown."),(0,r.kt)("li",{parentName:"ol"},"Copy & paste the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," value for this tutorial.")),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Use user token to replace JWT_TOKEN dynamic parameter in the next steps.")),(0,r.kt)(c,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"POST https://api.bentley.com/library/catalogs HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "displayName": "Tutorial Sample Catalog",\n    "description": "Tutorial Sample Description",\n    "region": "US",\n    "hashtags": ["SampleHashtag1", "SampleHashtag2"]\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 937\ncontent-type: application/json\ndate: Thu, 24 Jun 2021 14:44:18 GMT\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nx-correlation-id: 5262b13f-394e-49b8-95ea-a5361d2513a3\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "catalog": {\n      "id": "7f427c30-8dce-4803-81dc-e8681a3bd757",\n      "displayName": "Tutorial Sample Catalog",\n      "description": "Tutorial Sample Description",\n      "region": "US",\n      "createdDateTime": "2021-09-06T06:03:56.1923267Z",\n      "lastModifiedDateTime": "2021-09-06T06:03:56.1923267Z",\n      "hashtags": ["SampleHashtag1", "SampleHashtag2"]\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-difference-between-upload-component-and-create-component"},"3. Difference Between Upload Component and Create Component"),(0,r.kt)("p",null,"The Library API provides two options to add components in an organization repository i.e. Upload Component and Create Component."),(0,r.kt)("p",null,"Upload Component expects a design file should be uploaded in the system and upload background job extracts information from the design file i.e. thumbnail image, variations, manufacturer, category and application etc.\nupload activity uses all this information to create a component and associate all this metadata to the component. This saves from the effort of making multiple requests to add the information to the component. Currently Upload Component support only three types of design files i.e. rfa, dgn and cel files."),(0,r.kt)("p",null,"Instructions to upload components to a catalog can be found ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/upload-component-to-catalog"},"here")),(0,r.kt)("p",null,"We can add component without using upload workflow explained above but this needs more effort in terms of calling API endpoints since we have to make additional requests for adding thumbnail document, creating\nmanufacturer, application, category, if required and also adding variations in the components. So it is recommended to use upload workflow if the design file is rfa, dgn or cel. In this tutorial we will create\ncomponent without upload workflow.")),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-referenced-entities"},"4. Referenced Entities"),(0,r.kt)("p",null,"A component can have referenced entities i.e. Catalog, Category, Application and Manufacturer. These are optional properties of a component to be created, but provide useful information. Manufacturer as the name specifies, is manufacturer of the component.\nApplication specifies the CAD application, a component can be consumed for different purposes. Similarly category and catalogs are used to group the components. You need to have the ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," property value of each of these entities to be used for component\ncreation.\nIf you don\u2019t already have, the Library API provides endpoints to create and manage these referenced entities. You can create these entities if applicable to the component and may save the ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," property of each to be used in next steps."),(0,r.kt)("p",null,"You can use following TryIt options in the Library API documentation to create these entities."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-catalog"},"Library API documentation to create Catalog")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-category"},"Library API documentation to create Category")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-application"},"Library API documentation to create Application")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-manufacturer"},"Library API documentation to create Manufacturer"))),(0,r.kt)(c,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"POST https://api.bentley.com/library/upload-component HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "displayName": "Tutorial Sample Door",\n    "description": "Tutorial Sample Door",\n    "state": "Draft",\n    "catalogs": ["7f427c30-8dce-4803-81dc-e8681a3bd757"],\n    "category": "63b7d70a-a426-4530-8c0f-3efd6a6c0da7",\n    "application": "1418693a-8f60-4719-af0b-ceee1ad41e33",\n    "manufacturer": "d4485150-ad6d-4d76-a3e2-50a0f690afc9",\n    "hashtags": [\n        "samplehashtag1",\n        "samplehashtag2"\n    ]\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 202 Accepted\ncontent-length: 776\ncontent-type: application/json\ndate: Thu, 09 Sep 2021 13:34:53 GMT\nlocation: https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nx-correlation-id: 8c0daea7-c45b-4d01-b4c5-29e99278316a\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "component": {\n        "id": "afd712cf-db65-46fa-a05d-9c6bc8be0d1f",\n        "displayName": "Tutorial Sample Door",\n        "description": "Tutorial Sample Door",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T13:34:54.6310298Z",\n        "lastModifiedDateTime": "2021-09-09T13:34:54.6310298Z",\n        "supportedFileTypes": [],\n        "hashtags": ["samplehashtag1", "samplehashtag2"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/1418693a-8f60-4719-af0b-ceee1ad41e33"\n            },\n            "manufacturer": {\n                "href": "https://api.bentley.com/library/manufacturers/d4485150-ad6d-4d76-a3e2-50a0f690afc9"\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/63b7d70a-a426-4530-8c0f-3efd6a6c0da7"\n            }\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"5-create-component"},"5. Create Component"),(0,r.kt)("p",null,"To create a component, prepare request body and make a POST call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/create-component")," endpoint. ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"state")," are required properties.\nProvide appropriate ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," value, We have rfa file of a digital door, so let\u2019s set ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," as 'Tutorial Sample Door\u2019. ",(0,r.kt)("inlineCode",{parentName:"p"},"state")," property can have enum values Draft, Published, Checked, Approved and Archived, which are used during different stages of component life cycle.\nFor now we assign the value 'Draft\u2019. We already have ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," property of referenced entities, so we will provide these values to manufacturer, catalog, category and application respectively."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-component"},"Library API documentation")," for descriptions of the different properties.")),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"6-add-documents"},"6. Add Documents"),(0,r.kt)("p",null,"At this stage a component is created but it doesn\u2019t have any documents. You can associate Design, Reference, Thumbnail and GalleryImage documents to the component. In this example we will associate a design document\nto the component, other documents can also be associated with same steps, the only difference is setting the value of \u201cpurpose\u201d property in document request body. You should have corresponding images, reference files to upload\nduring the document creation process, depending upon which document you are creating."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-component-document"},"Library API documentation")," for descriptions of the different properties."),(0,r.kt)("p",null,"Adding document is a multi-step process, we will go through these steps next.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"POST https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/documents HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "displayName": "Tutorial Sample Design Document",\n    "extension": "rfa",\n    "purpose": "Design",\n    "available": false,\n    "isActive": true,\n    "version": null,\n    "previousVersionId": null,\n    "associatedDesignDocument": null\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 719\ncontent-type: application/json\ndate: Thu, 09 Sep 2021 15:29:08 GMT\nlocation: https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/documents/648486bf-6f04-4750-aa67-7fe521d01896\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nx-correlation-id: e4912dc9-983e-4f31-bd50-87423fd21ad2\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "document": {\n        "id": "648486bf-6f04-4750-aa67-7fe521d01896",\n        "displayName": "Tutorial Sample Design Document",\n        "extension": "rfa",\n        "version": "1",\n        "previousVersionId": null,\n        "purpose": "Design",\n        "size": -1,\n        "available": false,\n        "isActive": true,\n        "createdDateTime": "2021-09-09T15:29:08.3172685Z",\n        "lastModifiedDateTime": "2021-09-09T15:29:08.3172685Z",\n        "_links": {\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/648486bf-6f04-4750-aa67-7fe521d01896.rfa?sv=2018-03-28&sr=b&sig=03LfBtIfpFgpOnQPp4YaEj%2BbSsNBXQE1XOd83J6tXrA%3D&se=2021-09-09T16%3A29%3A08Z&sp=rcw&rscd=attachment%3B%20filename%3DTutorial%2BSample%2BDesign%2BDocument.rfa"\n            }\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"61-create-document-instance"},"6.1 Create Document Instance"),(0,r.kt)("p",null,"A POST call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/documents")," endpoint will create a new document instance for the component. ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"purpose")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"extension")," are required properties. ",(0,r.kt)("inlineCode",{parentName:"p"},"purpose")," can have enum values Design, Thumbnail, Reference, GalleryImage and TypeCatalog, depending upon which type of document you want\nto associate to a component. As we are associating a design document, ",(0,r.kt)("inlineCode",{parentName:"p"},"purpose")," should be set to 'Design\u2019."),(0,r.kt)("p",null,"The POST call will return a new document instance. The ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," will be used in next steps, you may want to save this Id. At this moment a document instance has been associated\nto the component but there is no actual file attached to this document. We will do that in the next step.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"PUT https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/648486bf-6f04-4750-aa67-7fe521d01896.rfa?sv=2018-03-28&sr=b&sig=03LfBtIfpFgpOnQPp4YaEj%2BbSsNBXQE1XOd83J6tXrA%3D&se=2021-09-09T16%3A29%3A08Z&sp=rcw&rscd=attachment%3B%20filename%3DTutorial%2BSample%2BDesign%2BDocument.rfa HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"x-ms-blob-type: BlockBlob",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"http",code:"File Binary Content",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"62-upload-document-file"},"6.2 Upload Document File"),(0,r.kt)("p",null,"Create Document response from the previous step contains a url in ",(0,r.kt)("inlineCode",{parentName:"p"},"_links->fileUrl->href")," property. File upload can be done by making a Http PUT request on the provided url via tool such as ",(0,r.kt)("inlineCode",{parentName:"p"},"Postman")," or programmatically use Azure libraries to upload file (",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/rest/api/storageservices/put-blob"},"https://docs.microsoft.com/en-us/rest/api/storageservices/put-blob"),").")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"PUT https://api.bentley.com/library/components/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/documents/afd712cf-db65-46fa-a05d-9c6bc8be0d1f HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "displayName": "Tutorial Sample Design Document",\n    "extension": "rfa",\n    "version": "1",\n    "previousVersionId": null,\n    "purpose": "Design",\n    "available": true,\n    "isActive": true\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 201 Created\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Fri, 10 Sep 2021 05:28:03 GMT\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nvary: Accept-Encoding\nx-correlation-id: 3b4b2e41-3ea6-4597-bda0-6db60a038320\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "document": {\n        "id": "648486bf-6f04-4750-aa67-7fe521d01896",\n        "displayName": "Tutorial Sample Design Document",\n        "extension": "rfa",\n        "version": "1",\n        "previousVersionId": null,\n        "purpose": "Design",\n        "size": 0,\n        "available": true,\n        "isActive": true,\n        "createdDateTime": "2021-09-09T15:29:08.3172685Z",\n        "lastModifiedDateTime": "2021-09-10T05:28:03.4442503Z",\n        "_links": {\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/648486bf-6f04-4750-aa67-7fe521d01896.rfa?sv=2018-03-28&sr=b&sig=lTnFsfrQmEqIdEMqLD%2FQ%2FjEQTAjL5T5Y8mFsR8idPQ4%3D&se=2021-09-10T06%3A28%3A03Z&sp=r&rscd=attachment%3B%20filename%3DTutorial%2BSample%2BDesign%2BDocument.rfa"\n            }\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"63-update-document-instance"},"6.3 Update Document Instance"),(0,r.kt)("p",null,"The last step in associating a document to component is to notify the system that file has been uploaded. This is achieved by setting \u201cavailable\u201d property of the document instance to true.\nMake a PUT call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/documents/648486bf-6f04-4750-aa67-7fe521d01896")," endpoint to update the document. Update request expects\nrequest body must contain all the desired properties since this will replace existing document with current document definition.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"POST https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/variations HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "associatedDesignDocument": "648486bf-6f04-4750-aa67-7fe521d01896",\n    "displayName": "Sample Variation for Door",\n    "adHocProperties": [{\n        "displayName": "Width",\n        "value": "50",\n        "type": "DoubleType",\n        "unitOfMeasure": "Millimeters"\n    }, {\n        "displayName": "Height",\n        "value": "2200",\n        "type": "DoubleType",\n        "unitOfMeasure": "Millimeters"\n    }, {\n        "displayName": "Length",\n        "value": "900",\n        "type": "DoubleType",\n        "unitOfMeasure": "Millimeters"\n    }, {\n        "displayName": "Material",\n        "value": "Wood",\n        "type": "StringType",\n        "unitOfMeasure": ""\n    }]\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 749\ncontent-type: application/json\ndate: Fri, 10 Sep 2021 06:47:25 GMT\nlocation: https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/variations/99e5cb56-0057-47af-86da-9c8f793a296f\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nx-correlation-id: 7e5f1fe2-f813-4711-914f-0f5b9826ffd9\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "variation": {\n        "id": "99e5cb56-0057-47af-86da-9c8f793a296f",\n        "displayName": "Sample Variation for Door",\n        "createdDateTime": "2021-09-10T06:47:25.728234Z",\n        "lastModifiedDateTime": "2021-09-10T06:47:25.728234Z",\n        "adHocProperties": [{\n            "displayName": "Width",\n            "value": "50",\n            "type": "DoubleType",\n            "unitOfMeasure": "Millimeters"\n        }, {\n            "displayName": "Height",\n            "value": "2200",\n            "type": "DoubleType",\n            "unitOfMeasure": "Millimeters"\n        }, {\n            "displayName": "Length",\n            "value": "900",\n            "type": "DoubleType",\n            "unitOfMeasure": "Millimeters"\n        }, {\n            "displayName": "Material",\n            "value": "Wood",\n            "type": "StringType",\n            "unitOfMeasure": ""\n        }],\n        "_links": {\n            "associatedDesignDocument": {\n                "href": "https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/documents/648486bf-6f04-4750-aa67-7fe521d01896"\n            }\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"7-add-variations"},"7. Add Variations"),(0,r.kt)("p",null,"A component can have different variations, a variation essentially is different models, sizes, types of the same component. Since component itself has fixed schema, variation can also be used to add other metadata related to the component. Even if there are not\nmultiple variations available, a default variation can be created to add any additional properties which can\u2019t be added in a component directly. The core of the component is design file, since component can have multiple design files, each design file can have its\nown variations. ",(0,r.kt)("inlineCode",{parentName:"p"},"associatedDesignDocument")," property is used to set the corresponding design file ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," to make a connection of the variation to design file in the component."),(0,r.kt)("p",null,"A POST call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/variations")," endpoint will create a new variation. Let\u2019s add a variation for the component we have created in this example, we will assign ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," of the design document\ncreated in the previous steps to ",(0,r.kt)("inlineCode",{parentName:"p"},"associatedDesignDocument")," in the request Body. Add an appropriate ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," for the variation. A variation has list of adhoc properties containing ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"value"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"unitOfMeasure"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," is enum and can have StringType, IntegerType, DoubleType, FloatType and BooleanType. Adhoc properties give you more control to add\nany type of metadata/properties to a component. In case of our example, a door, we can add adhoc properties by adding door dimensions and its material. In case of material, ",(0,r.kt)("inlineCode",{parentName:"p"},"unitOfMeasure")," is not applicable, so we can\nleave that field empty for this case."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-component-variation"},"Library API documentation to create variation")," for descriptions of the different properties."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/get-component-variations"},"Library API documentation to get variations"))),(0,r.kt)(c,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"POST https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/weblinks HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Body"),(0,r.kt)(b,{language:"json",code:'{\n    "displayName": "Tutorial sample webLink",\n    "uri": "https://www.sampleweblink.com/sampleweblink"\n}',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 252\ncontent-type: application/json\ndate: Fri, 10 Sep 2021 09:55:29 GMT\nlocation: https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/weblinks/2e3e34d1-b01c-42c8-9669-beef6a2e843b\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nx-correlation-id: f6452b93-a875-4496-b73b-633c82f500c5\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "webLink": {\n        "id": "2e3e34d1-b01c-42c8-9669-beef6a2e843b",\n        "displayName": "Tutorial sample webLink",\n        "uri": "https://www.sampleweblink.com/sampleweblink",\n        "createdDateTime": "2021-09-10T09:55:28.5295325Z",\n        "lastModifiedDateTime": "2021-09-10T09:55:28.5295325Z"\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"8-add-weblinks"},"8. Add WebLinks"),(0,r.kt)("p",null,"Another optional related entity you can add in a component is webLink. Component can have some related material over the web, some specification document, description or any related information. You can add the web url to a component as a webLink.\nA POST call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components/afd712cf-db65-46fa-a05d-9c6bc8be0d1f/weblinks")," endpoint will create a new webLink."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/create-component-weblink"},"Library API documentation to create webLink")," for descriptions of the different properties."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/get-component-weblinks"},"Library API documentation to get webLinks"))),(0,r.kt)(k,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,r.kt)("p",null,"Congratulation for completing Creating Component tutorial! You should be able to create components and associate related variations, documents and webLinks to the component."),(0,r.kt)(T,{mdxType:"TileList"},(0,r.kt)(g,{name:"Query and Download Component from a Catalog",description:"Guide on querying and downloading component from a catalog.",href:"/tutorials/query-and-download-component-from-catalog/",mdxType:"Tile"}),(0,r.kt)(g,{name:"Upload Component to a Catalog",description:"Guide on uploading component to a catalog.",href:"/tutorials/upload-component-to-catalog/",mdxType:"Tile"})),(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(T,{mdxType:"TileList"},(0,r.kt)(v,{title:"Library API",href:"/apis/library/",description:"There are more capabilities, which could be used for managing components in library.",mdxType:"ResourceTile"}),(0,r.kt)(v,{title:"iTwin Library Sample App",href:"https://github.com/iTwin/library-api-sample-app",description:"Sample application that uses the Library API to create, upload and query components.",isExternal:!0,mdxType:"ResourceTile"}))))}C.isMDXComponent=!0;var x=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-register-an-application",level:2,title:"1. Register an Application",children:[]},{id:"2-get-a-token",level:2,title:"2. Get a token",children:[{id:"implement-authorization-code-flow-in-the-application",level:3,title:"Implement Authorization Code Flow in the application",children:[]},{id:"grab-a-user-token-from-api-reference-try-it-section",level:3,title:"Grab a user token from Api reference \u201cTry it\u201d Section",children:[]}]},{id:"3-difference-between-upload-component-and-create-component",level:2,title:"3. Difference Between Upload Component and Create Component",children:[]},{id:"4-referenced-entities",level:2,title:"4. Referenced Entities",children:[]},{id:"5-create-component",level:2,title:"5. Create Component",children:[]},{id:"6-add-documents",level:2,title:"6. Add Documents",children:[{id:"61-create-document-instance",level:3,title:"6.1 Create Document Instance",children:[]},{id:"62-upload-document-file",level:3,title:"6.2 Upload Document File",children:[]},{id:"63-update-document-instance",level:3,title:"6.3 Update Document Instance",children:[]}]},{id:"7-add-variations",level:2,title:"7. Add Variations",children:[]},{id:"8-add-weblinks",level:2,title:"8. Add WebLinks",children:[]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}}}]);