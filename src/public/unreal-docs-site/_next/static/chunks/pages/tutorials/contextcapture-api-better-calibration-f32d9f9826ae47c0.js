(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{41905:function(t,e,i){"use strict";i.d(e,{Pu:function(){return l},ZP:function(){return y},Jt:function(){return k}});var n=i(159),a=i(91164),o=i(67294),r=i(3905),s=["components"],l=(o.createElement,{title:"Better calibration in ContextCapture",tile:{name:"Better calibration in ContextCapture",description:"Learn how to specify calibration settings in ContextCapture, and download the result of a calibration",thumbnail:"/images/cccs-calibration-thumb.jpg",href:"/tutorials/contextcapture-api-better-calibration/",durationInMinutes:10,relatedApiIds:["contextcapture"]}}),c=function(t){return function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)}},u=c("Introduction"),d=c("TutorialSection"),p=c("Title"),m=c("CodeBlock"),h=c("ContinueLearningSection"),f=c("TileList"),g=c("Tile"),C=c("ResourceTile"),x={metadata:l};function y(t){var e=t.components,i=(0,a.Z)(t,s);return(0,r.kt)("wrapper",(0,n.Z)({},x,i,{components:e,mdxType:"MDXLayout"}),(0,r.kt)(u,{skillLevel:"Expert",durationInMinutes:"10",summaryImageSrc:"/images/cccs-calibration-header.jpg",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"The goal of this tutorial is to specify calibration settings to ",(0,r.kt)("em",{parentName:"p"},"ContextCapture"),", so that you can obtain a better model."),(0,r.kt)("p",null,"In this tutorial, we will cover how to send calibration settings to ",(0,r.kt)("em",{parentName:"p"},"ContextCapture"),", and how to retrieve calibration reports from the service.")),(0,r.kt)(d,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Completed the ",(0,r.kt)("a",{parentName:"li",href:"/tutorials/contextcapture-api-quick-start"},"ContextCapture Quick Start tutorial"),"."),(0,r.kt)("li",{parentName:"ul"},"A basic understanding of the calibration/aerotriangulation concept in ContextCapture. See ",(0,r.kt)("a",{parentName:"li",href:"https://docs.bentley.com/LiveContent/web/ContextCapture%20Help-v10/en/GUID-95336991-F284-4AD8-A33B-9AE341507D5C.html"},"ContextCapture Master Help")," for a description of the calibration settings"))),(0,r.kt)(d,{actions:[(0,r.kt)(p,{mdxType:"Title"},"AT Settings exchange structure"),(0,r.kt)(m,{language:"json",code:'{\n  "ATSettingsExchange":{\n    "PhotogroupEstimationMode": "OnePass"-"MultiPass",\n    "ColorEqualizationMode": "EqualizeBlockwise"-"EqualizeNone",\n    "SplatsMode": "SplatsAtlas"-"SplatsNone",\n    "AdjustmentConstraints": "None"|"UserConstraints"|"ControlPoints"|"PositionMetadata"|"PointClouds"|"Automatic",\n    "RigidRegistration": "None"|"UserConstraints"|"ControlPoints"|"PositionMetadata"|"PointClouds"|"Automatic",\n    "EstimationGroups": "PerPhotogroup"-"PerPhoto",\n    "RotationPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "CenterPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "FocalPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "PrincipalPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "RadialPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "TangentialPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "TiePointsPolicy": "Compute"-"Keep",\n    "FisheyeFocalPolicy": "Compute"-"Keep"-"AdjustFisheyeFocalSymmetric"-"AdjustFisheyeFocalAsymmetric",\n    "FisheyeDistortionPolicy": "Compute"-"Keep"-"AdjustFisheyeDistortion_01xx0"-"AdjustFisheyeDistortion_x1xx0"-"AdjustFisheyeDistortion_x1xxx"-"AdjustWithinTolerance %.%",\n    "AspectRatioPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "SkewPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "PairSelectionMode": "Default"-"Sequence"-"Loop"-"Exhaustive"-"Similar images only",\n    "PairSelectionMaxDistance": int,\n    "KeyPointsDensity": "Normal"-"High",\n    "ExtractQR": "QR Codes"|"April Tags"|"Chili Tags"|"Disabled",\n    "ComponentConstructionMode": "OnePass"-"MultiPass"\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-specifying-calibration-settings"},"1. Specifying calibration settings"),(0,r.kt)("p",null,"If you want to apply specific settings for the calibration, you can add a file in the workspace reality data: the file ",(0,r.kt)("inlineCode",{parentName:"p"},"at_settings.json")," has to be uploaded to ",(0,r.kt)("inlineCode",{parentName:"p"},"/{jobId}/data/"),".\nNote that no check on the uploaded file is performed until the job is actually submitted, and if the parameters are not fitted to the inputs, the job will failed."),(0,r.kt)("p",null,"Note that every properties in the following structure are optional.\nStrings separated by ",(0,r.kt)("inlineCode",{parentName:"p"},"-")," mean only one option can be specified. Strings separated by ",(0,r.kt)("inlineCode",{parentName:"p"},"|")," can be combined using ",(0,r.kt)("inlineCode",{parentName:"p"},"|"),", eg: ",(0,r.kt)("inlineCode",{parentName:"p"},'"QR Codes|Chili Tags"'),". For parameter ",(0,r.kt)("inlineCode",{parentName:"p"},'"AdjustWithinTolerance %.%"'),", ",(0,r.kt)("inlineCode",{parentName:"p"},"%.%")," has to be replace by a double."),(0,r.kt)("p",null,"If you have a preset and you want to apply it, upload it as ",(0,r.kt)("inlineCode",{parentName:"p"},"at_preset.cfg")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"/{jobId}/data/"),". No need to specify the name in the the ATSettings file.")),(0,r.kt)(d,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-accessing-calibration-results"},"2. Accessing calibration results"),(0,r.kt)("p",null,"Once the step ",(0,r.kt)("em",{parentName:"p"},"AT_CloudExport")," is executed, you can access calibration results (including reports) through the workspace reality data."),(0,r.kt)("p",null,"In ",(0,r.kt)("inlineCode",{parentName:"p"},"/{jobId}/outputs/calibration/")," you will find:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"acquisition_report"),", a folder containing an HTML page with CSS regarding the acquisition of your images"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"quality_report"),", a folder containing HTML pages regarding with quality of your calibration"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"block.xmlz")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"block - TiePoints.xmlz"),", the corresponding ",(0,r.kt)("em",{parentName:"li"},"CCOrientations")," of this calibration"))),(0,r.kt)(h,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,r.kt)("p",null,"Congratulations for completing the ",(0,r.kt)("em",{parentName:"p"},"ContextCapture")," calibration tutorial!\nYou should now be able to specify calibration settings and retrieve reports once a calibration is completed."),(0,r.kt)("p",null,"To go further and use ",(0,r.kt)("em",{parentName:"p"},"ContextCapture")," to its maximum potential, you can check the following tutorials."),(0,r.kt)(f,{mdxType:"TileList"},(0,r.kt)(g,{name:"Using cache in ContextCapture",description:"This tutorial focuses on using cache for faster processing in ContextCapture",thumbnail:"/images/cccs-cache-thumb.png",href:"/tutorials/contextcapture-api-how-to-use-cache",mdxType:"Tile"}),(0,r.kt)(g,{name:"Better production in ContextCapture",description:"Learn how to specify production settings in ContextCapture",thumbnail:"/images/cccs-production-thumb.jpg",href:"/tutorials/contextcapture-api-better-production",mdxType:"Tile"})),(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(f,{mdxType:"TileList"},(0,r.kt)(C,{title:"Projects API",href:"/apis/projects/",description:"Project is necessary for using ContextCapture API. You can check its possibilities.",mdxType:"ResourceTile"}),(0,r.kt)(C,{title:"Reality Data API",href:"/apis/realitydata/",description:"Reality Data API is necessary for uploading inputs for ContextCapture, and downloading outputs.",mdxType:"ResourceTile"}))))}y.isMDXComponent=!0;var k=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-specifying-calibration-settings",level:2,title:"1. Specifying calibration settings",children:[]},{id:"2-accessing-calibration-results",level:2,title:"2. Accessing calibration results",children:[]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},31389:function(t,e,i){"use strict";i.d(e,{Z:function(){return p}});var n=i(61565),a=i(67294),o=i(94184),r=i.n(o),s=(i(50371),i(73351)),l=i(85893),c=function(t){var e=t.item,i=t.setActiveItem,n=t.className,a=t.activeItem,o=t.prefix;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"menuItem-container",children:(0,l.jsx)(s.D,{href:"".concat(null!==o&&void 0!==o?o:"#").concat(e.id),children:(0,l.jsx)("span",{onClick:function(){return i(e.id)},className:"".concat(n," ").concat(e.id===a?"active":""),children:e.title})})})})},u=function(t){var e=t.items,i=t.setActiveItem,n=t.activeItem,a=t.navPrefix;return(0,l.jsx)(l.Fragment,{children:e.map((function(t,e){return(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{item:t,className:"sideMenuItem",setActiveItem:i,activeItem:n,prefix:a},t.id),t.children.map((function(t){return(0,l.jsx)(c,{item:t,className:"sideMenuItem sideMenuSubItem",setActiveItem:i,activeItem:n,prefix:a},t.id)}))]},e)}))})},d=i(71125),p=function(t){var e,i=a.useState(!1),o=(0,n.Z)(i,2),s=o[0],c=o[1],p=a.useState(""),m=(0,n.Z)(p,2),h=m[0],f=m[1],g=a.useState(!1),C=(0,n.Z)(g,2),x=C[0],y=C[1];a.useEffect((function(){var e;t.items.length>0&&f(null!==(e=t.activeItem)&&void 0!==e?e:t.items[0].id)}),[t.activeItem]),a.useEffect((function(){var t=function(){var t=window.location.hash.substring(1,window.location.hash.length);f(t),y(!1)};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),[]),a.useEffect((function(){x&&c(!1)}),[x]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.j,{isOpened:s,onClick:function(){c((function(t){return!t}))}}),(0,l.jsx)("div",{id:"tutorial-side-navigation-pane",className:r()(t.className,"sticky-container",s?"opened":void 0),children:(0,l.jsx)("div",{className:"sideMenu sticky-element",children:(0,l.jsxs)("div",{className:"sideMenu-large",children:[t.header,(0,l.jsx)(u,{items:t.items,setActiveItem:function(t){y(!0),f(t)},activeItem:h,navPrefix:null!==(e=t.navPrefix)&&void 0!==e?e:"#"}),t.actions&&(0,l.jsx)("div",{className:"side-menu-actions",children:t.actions})]})})})]})}},1176:function(t,e,i){"use strict";i(63673),i(67294);var n=i(29e3),a=i(31389),o=i(52203),r=i(85893);e.Z=function(t){return(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{id:"page",className:"container tutorial-container",children:[(0,r.jsx)("div",{id:"tutorial-header",children:(0,r.jsx)(n.s,{children:t.tutorial.headline})}),(0,r.jsxs)("div",{id:"tutorial-content",children:[(0,r.jsx)(a.Z,{items:t.tutorial.navigationItems}),(0,r.jsx)("div",{id:"tutorial-content-body",children:t.tutorial.tutorialSteps})]})]})})}},36508:function(t,e,i){"use strict";i.r(e);var n=i(3905),a=i(1176),o=i(55092),r=i(41905),s=(i(67294),i(80989)),l=i(85893);e.default=function(){var t={headline:r.Pu.title,navigationItems:(0,r.Jt)(),tutorialSteps:(0,l.jsx)(n.Zo,{components:o.d,children:(0,l.jsx)(r.ZP,{})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.d,{title:"".concat(r.Pu.title," - Tutorials | iTwin Platform")}),(0,l.jsx)(a.Z,{tutorial:t})]})}},32928:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/contextcapture-api-better-calibration",function(){return i(36508)}])},63673:function(){}},function(t){t.O(0,[8273,508,483,229,271,2033,6815,9527,1061,9774,2888,179],(function(){return e=32928,t(t.s=e);var e}));var e=t.O();_N_E=e}]);