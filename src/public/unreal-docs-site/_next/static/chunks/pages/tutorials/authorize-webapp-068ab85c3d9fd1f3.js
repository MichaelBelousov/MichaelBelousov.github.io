(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6391],{20398:function(e,t,n){"use strict";n.d(t,{Pu:function(){return l},ZP:function(){return T},Jt:function(){return v}});var i=n(159),a=n(91164),o=n(67294),r=n(3905),s=["components"],l=(o.createElement,{title:"Authorize Web Application",tile:{name:"Authorize Web Application",description:"This tutorial will show you how to register a Web Application, get an access token with it, and use it.",href:"/tutorials/authorize-webapp/",durationInMinutes:10,relatedApiIds:[]}}),c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},p=c("Introduction"),u=c("TutorialSection"),d=c("SignInButton"),h=c("CreateWebAppButton"),k=c("CodeBlock"),m=c("Title"),g=c("LinkWithUrl"),f=c("HttpSample"),N=c("Alert"),w=c("ContinueLearningSection"),y={metadata:l};function T(e){var t=e.components,n=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,i.Z)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(p,{skillLevel:"Basic",durationInMinutes:"10",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"In this tutorial you will create a ",(0,r.kt)("strong",{parentName:"p"},"Web Application"),", learn how ",(0,r.kt)("strong",{parentName:"p"},"authorization code flow")," works with ",(0,r.kt)("strong",{parentName:"p"},"Secret"),",\nand how to get an ",(0,r.kt)("strong",{parentName:"p"},"access token")," with it. In the end we will double check if the token is truly valid by making a request to one of the ",(0,r.kt)("strong",{parentName:"p"},"iTwin Platform API endpoints"),".")),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-register-a-web-application"},"1. Register a Web Application"),(0,r.kt)("h4",{id:"what-is-a-web-application"},"What is a Web Application?"),(0,r.kt)("p",null,"A ",(0,r.kt)("strong",{parentName:"p"},"Web Application")," is an application which runs on web system such as Android, Windows, iOS and etc.")),(0,r.kt)(u,{subSection:!0,actions:[(0,r.kt)(d,{mdxType:"SignInButton"})],mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"sign-in"},"Sign in"),(0,r.kt)("p",null,"To be able to register an application you need to be signed in.\nIf you are not already you can do that by clicking the ",(0,r.kt)("strong",{parentName:"p"},"Sign In")," button in the action pane or in the top right corner of the page.")),(0,r.kt)(u,{subSection:!0,actions:function(e){return[(0,r.kt)(h,{tooltip:"Register a basic Web Application for this tutorial",allowedScopes:["users:read"],clientName:"Authorize Webapp",mdxType:"CreateWebAppButton"},"Register Application"),(0,r.kt)(k,{language:"json",code:e.clientId&&e.redirectUris&&e.scope&&e.clientSecret?JSON.stringify({client_id:e.clientId,client_secret:e.clientSecret,redirect_uri:e.redirectUris&&e.redirectUris[0],scope:e.scope},void 0,2):void 0,mdxType:"CodeBlock"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"register-a-web-application"},"Register a Web Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs.\nYou can use the ",(0,r.kt)("strong",{parentName:"p"},"Register Application")," button to automatically create your first Web Application.\nThis will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorizingwebapplications"},"Authorization Code Flow for your Web Application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_id")," - This is the unique identifier for your application. It is displayed on the application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"redirectUris")," - Specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on the application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"scope")," - List of accesses granted to the application. Displayed on the application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_secret"),": Secret that was created and shown first time you created an application. ")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"For future use:")," Register and configure your application manually following the instructions in the ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial."))),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-an-access-token"},"2. Get an Access Token"),(0,r.kt)("h4",{id:"what-is-an-access-token"},"What is an access token?"),(0,r.kt)("p",null,"An ",(0,r.kt)("strong",{parentName:"p"},"Access Token")," is token which contains a string that can be used to make authenticated requests to an API to access protect resources (in this case iTwin Platform APIs).The string has no meaning to the application using it, but represents that the user has authorized the application to access their account.\nThe token is bounded by an appropriate lifetime, scopes, and other information that the server may require."),(0,r.kt)("h4",{id:"21-authorization-code-flow-with-secret"},"2.1. Authorization Code Flow with Secret"),(0,r.kt)("p",null,"This flow provides a way to authorize by redirecting to the Authorize endpoint,\ngetting a ",(0,r.kt)("strong",{parentName:"p"},"code")," back, and exchanging it for an ",(0,r.kt)("strong",{parentName:"p"},"access token")," in a subsequent call."),(0,r.kt)("p",null,"You can find more information ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorizingwebapplications"},"here"),", but it is more technical."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For this tutorial purposes we will split Application into two parts ",(0,r.kt)("strong",{parentName:"p"},"Frontend")," (UI stuff, that runs on user machine) and ",(0,r.kt)("strong",{parentName:"p"},"Backend")," (that runs inside server).")),(0,r.kt)("p",null,"Steps to get an access token using this flow:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Frontend navigates to authorization server."),(0,r.kt)("li",{parentName:"ol"},"Authorization server redirects back to your application (one of redirect URIs) with ",(0,r.kt)("strong",{parentName:"li"},"code")," query parameter."),(0,r.kt)("li",{parentName:"ol"},"Frontend part sends ",(0,r.kt)("strong",{parentName:"li"},"code")," to Backend."),(0,r.kt)("li",{parentName:"ol"},"Backend exchanges ",(0,r.kt)("strong",{parentName:"li"},"code")," for an ",(0,r.kt)("strong",{parentName:"li"},"access_token")," via the Token endpoint."),(0,r.kt)("li",{parentName:"ol"},"Backend sends ",(0,r.kt)("strong",{parentName:"li"},"access_token")," back to Frontend. (And keeps refresh token for himself)"))),(0,r.kt)(u,{subSection:!0,actions:function(e){var t;return[(0,r.kt)(m,{mdxType:"Title"},"Navigate to the Authorization Server"),(0,r.kt)(g,{url:e.authority+"/connect/authorize?"+new URLSearchParams({client_id:null!==(t=e.clientId)&&void 0!==t?t:"CLIENT_ID",redirect_uri:e.redirectUris&&e.redirectUris[0]||"http://localhost:3000",scope:e.scopes?e.scopes+" offline_access":"users:read offline_access",response_type:"code"}).toString(),mdxType:"LinkWithUrl"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"211-navigate-to-the-authorization-server"},"2.1.1. Navigate To the Authorization Server"),(0,r.kt)("p",null,"Application should open browser to allow user interact with authorization server.\nThis allow user to authorize agents authorization server and give consent to allow access part of his data through your application.\nIf you follow the interactive part you can click the ",(0,r.kt)("strong",{parentName:"p"},"Navigate")," button and it will open popup window that will hit authorization endpoint with required query parameters."),(0,r.kt)("p",null,"The URL will be built in this way:"),(0,r.kt)("p",null,"Authorization endpoint: ",(0,r.kt)("inlineCode",{parentName:"p"},"https://ims.bentley.com/connect/authorize")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Web Applications")," can ask for ",(0,r.kt)("strong",{parentName:"p"},"offline_access")," scope.  This will indicate that you want to receive a ",(0,r.kt)("strong",{parentName:"p"},"refresh_token")," which can be used to generate new ",(0,r.kt)("strong",{parentName:"p"},"access tokens")," ",(0,r.kt)("strong",{parentName:"p"},"without")," user interaction."),(0,r.kt)("p",null,"With query parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_id")," - This is the unique identifier for your application. Displayed on the application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID")," (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},"webapp-example"),")."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"redirect_uri")," - Specifies where you want to go back after successful authorization (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3000/redirect"),")."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"scope")," - List of accesses granted to the application. Displayed on the application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes")," (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},"users:read"),")."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"response_type")," - For this flow ",(0,r.kt)("strong",{parentName:"li"},"code")," is the only option and it indicates that you will get code as a query parameter when the user will come back from the authorization server.")),(0,r.kt)("p",null,"So in the end it should look something like this: ",(0,r.kt)("inlineCode",{parentName:"p"},"https://ims.bentley.com/connect/authorize?client_id=CLIENT_ID&redirect_uri=http%3A%2F%2Flocalhost%3A3000&scope=users%3Aread+offline_access&response_type=code"))),(0,r.kt)(u,{subSection:!0,actions:function(e){return[(0,r.kt)(m,{mdxType:"Title"},e.code?"Code query parameter value":""),(0,r.kt)(k,{language:"text",code:"string"===typeof e.code?e.code:JSON.stringify(e.code,void 0,2),mdxType:"CodeBlock"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"212-receive-the-code"},"2.1.2. Receive the code"),(0,r.kt)("p",null,"The code will be placed inside the redirect URL query parameter (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/redirect"),(0,r.kt)("strong",{parentName:"p"},"?code=random-string"),").\nThe application should take care of ",(0,r.kt)("strong",{parentName:"p"},"code")," query parameter extraction. If you follow the interactive steps the code should appear in the action pane.")),(0,r.kt)(u,{subSection:!0,actions:function(e){var t,n,i;return[(0,r.kt)(m,{mdxType:"Title"},"Request to Token endpoint"),(0,r.kt)(f,{method:"POST",url:"".concat(e.authority,"/connect/token"),headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:null!==(t=e.clientId)&&void 0!==t?t:"CLIENT_ID",client_secret:null!==(n=e.clientSecret)&&void 0!==n?n:"CLIENT_SECRET",grant_type:"authorization_code",code:null!==(i=e.code)&&void 0!==i?i:"CODE",redirect_uri:e.redirectUris&&e.redirectUris[0]||"http://localhost:3000"}).toString(),saveResponseTo:"tokenResponse",canSendRequest:e.code,mdxType:"HttpSample"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"213-receive-an-access-token"},"2.1.3. Receive an access token"),(0,r.kt)("p",null,"You need to call the token endpoint with the ",(0,r.kt)("strong",{parentName:"p"},"Content-Type")," header equal to ",(0,r.kt)("strong",{parentName:"p"},"application/x-www-form-urlencoded"),"."),(0,r.kt)("p",null,"Request body (with ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3schools.com/tags/ref_urlencode.ASP"},"URL encoded")," characters):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_id"),": Identification that is generated when the application is created.  You can find it in the ",(0,r.kt)("a",{parentName:"li",href:"/my-apps"},"My Apps")," page. If you generated it during this tutorial you can find it in the first step."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_secret"),": Secret that was created and shown first time you created an application."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"grant_type"),": ",(0,r.kt)("strong",{parentName:"li"},"authorization_code")," indicates that the application will use a ",(0,r.kt)("strong",{parentName:"li"},"code")," to get an ",(0,r.kt)("strong",{parentName:"li"},"access_token"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"code"),": Code that the application got after the redirect from the authorization server back to the application itself."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"redirect_uri"),": redirect URI there was code send.")),(0,r.kt)(N,{type:"informational",mdxType:"Alert"},(0,r.kt)("b",null,"Code is short lived"),": If your code has expired please Navigate to the authorization server one more time.")),(0,r.kt)(u,{subSection:!0,actions:function(e){return[(0,r.kt)(m,{mdxType:"Title"},"Response from the Token endpoint"),(0,r.kt)(k,{language:"json",code:JSON.stringify(e.tokenResponse||{access_token:"JWT_TOKEN",refresh_token:"REFRESH_TOKEN",token_type:"Bearer",expires_in:3599},void 0,2),mdxType:"CodeBlock"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"response-from-the-token-endpoint"},"Response from the Token endpoint"),(0,r.kt)("p",null,"Response contains:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"token_type"),": ",(0,r.kt)("strong",{parentName:"li"},"Bearer"),". This is part of the Authorization header that is constructed like ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorize: token_type access_token"),".  You can read more ",(0,r.kt)("a",{parentName:"li",href:"https://www.oauth.com/oauth2-servers/differences-between-oauth-1-2/bearer-tokens/"},"here"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"access_token"),": Access token itself (in ",(0,r.kt)("a",{parentName:"li",href:"https://jwt.io"},"JWT")," format) that will be passed in the ",(0,r.kt)("strong",{parentName:"li"},"Authorize")," header for API calls as ",(0,r.kt)("strong",{parentName:"li"},"Bearer JWT_TOKEN"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"refresh_token"),": Token that allows getting a new ",(0,r.kt)("strong",{parentName:"li"},"access token")," without user interaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"expires_in"),": Lifespan of the access token in seconds."))),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-get-an-access-token-using-a-refresh-token"},"3. Get an Access Token using a Refresh Token")),(0,r.kt)(u,{subSection:!0,actions:function(e){var t,n,i,a;return[(0,r.kt)(m,{mdxType:"Title"},"Refresh Token"),(0,r.kt)(f,{method:"POST",url:"".concat(e.authority,"/connect/token"),headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:null!==(t=e.clientId)&&void 0!==t?t:"CLIENT_ID",client_secret:null!==(n=e.clientSecret)&&void 0!==n?n:"CLIENT_SECRET",grant_type:"refresh_token",refresh_token:null!==(i=null===(a=e.tokenResponse)||void 0===a?void 0:a.refresh_token)&&void 0!==i?i:"REFRESH_TOKEN"}).toString(),saveResponseTo:"refreshedAccessToken",canSendRequest:e.tokenResponse,mdxType:"HttpSample"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"31-request-to-the-token-endpoint-with-refresh-token"},"3.1. Request to the Token endpoint with Refresh token"),(0,r.kt)("p",null,"You need to call the token endpoint with the ",(0,r.kt)("strong",{parentName:"p"},"Content-Type")," header equal to ",(0,r.kt)("strong",{parentName:"p"},"application/x-www-form-urlencoded"),"."),(0,r.kt)("p",null,"Request body (with ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3schools.com/tags/ref_urlencode.ASP"},"URL encoded")," characters):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_id"),": Identification that is generated when the application is created.  You can find it in the ",(0,r.kt)("a",{parentName:"li",href:"/my-apps"},"My Apps")," page. If you generated it during this tutorial you can find it in the first step."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"client_secret"),": Secret that was created and shown first time you created an application. "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"grant_type"),": ",(0,r.kt)("strong",{parentName:"li"},"refresh_token")," indicates that the application will use ",(0,r.kt)("strong",{parentName:"li"},"refresh_token")," to get ",(0,r.kt)("strong",{parentName:"li"},"access_token"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"refresh_token"),": refresh_token token itself that you got from the last request to the Token endpoint."))),(0,r.kt)(u,{subSection:!0,actions:function(e){var t;return[(0,r.kt)(m,{mdxType:"Title"},"Response from /users/me endpoint"),(0,r.kt)(k,{language:"json",code:JSON.stringify(null!==(t=e.refreshedAccessToken)&&void 0!==t?t:{access_token:"JWT_TOKEN",refresh_token:"REFRESH_TOKEN",token_type:"Bearer",expires_in:3599},void 0,4),mdxType:"CodeBlock"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"32-response-from-the-token-endpoint"},"3.2. Response from the Token endpoint"),(0,r.kt)("p",null,"Response contains:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"token_type"),": ",(0,r.kt)("strong",{parentName:"li"},"Bearer"),". This is part of the Authorization header that is constructed like ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorize: token_type access_token"),". You can read more ",(0,r.kt)("a",{parentName:"li",href:"https://www.oauth.com/oauth2-servers/differences-between-oauth-1-2/bearer-tokens/"},"here"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"access_token"),": Access token itself (in ",(0,r.kt)("a",{parentName:"li",href:"https://jwt.io"},"JWT")," format) that will be passed in the ",(0,r.kt)("strong",{parentName:"li"},"Authorize")," header for API calls as ",(0,r.kt)("strong",{parentName:"li"},"Bearer JWT_TOKEN"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"refresh_token"),": Token that allows you to get a new ",(0,r.kt)("strong",{parentName:"li"},"access token")," without user interaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"expires_in"),": Lifespan of the access token in seconds."))),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-make-the-request"},"4. Make the request")),(0,r.kt)(u,{subSection:!0,actions:function(e){var t,n;return[(0,r.kt)(m,{mdxType:"Title"},"Request to /users/me endpoint"),(0,r.kt)(f,{method:"GET",url:"".concat(e.baseUrl,"/users/me"),headers:{Authorization:"Bearer "+(null!==(t=null===(n=e.tokenResponse)||void 0===n?void 0:n.access_token)&&void 0!==t?t:"JWT_TOKEN"),Accept:"application/vnd.bentley.itwin-platform.v1+json"},body:void 0,saveResponseTo:"me",canSendRequest:e.tokenResponse,mdxType:"HttpSample"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"41-make-the-request-to-the-usersme-endpoint"},"4.1. Make the request to the /users/me endpoint"),(0,r.kt)("p",null,"This request will show that the newly created ",(0,r.kt)("strong",{parentName:"p"},"access token")," is valid and how to use it.\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"/users/me")," endpoint will retrieve the logged in user\u2019s profile information.\nIf you follow the interactive part you can click the ",(0,r.kt)("strong",{parentName:"p"},"Send request")," button.")),(0,r.kt)(u,{subSection:!0,actions:function(e){return[(0,r.kt)(m,{mdxType:"Title"},"Response from /users/me endpoint"),(0,r.kt)(k,{language:"json",code:JSON.stringify(e.me||{user:{displayName:"FirstName LastName",givenName:"FirstName",surname:"LastName",email:"FirstName.LastName@domain.com",alternateEmail:"FirstName.LastName@alternative.com",city:"CityName",country:"US",language:"EN",createdDateTime:"2021-08-27T10:19:07.2510000Z"}},void 0,2),mdxType:"CodeBlock"})]},mdxType:"TutorialSection"},(0,r.kt)("h4",{id:"42-response"},"4.2. Response"),(0,r.kt)("p",null,"This request will return user information (name, email, country and etc.).")),(0,r.kt)(w,{mdxType:"ContinueLearningSection"}))}T.isMDXComponent=!0;var v=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"1-register-a-web-application",level:2,title:"1. Register a Web Application",children:[]},{id:"2-get-an-access-token",level:2,title:"2. Get an Access Token",children:[]},{id:"3-get-an-access-token-using-a-refresh-token",level:2,title:"3. Get an Access Token using a Refresh Token",children:[]},{id:"4-make-the-request",level:2,title:"4. Make the request",children:[]}]}},31389:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(61565),a=n(67294),o=n(94184),r=n.n(o),s=(n(50371),n(73351)),l=n(85893),c=function(e){var t=e.item,n=e.setActiveItem,i=e.className,a=e.activeItem,o=e.prefix;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"menuItem-container",children:(0,l.jsx)(s.D,{href:"".concat(null!==o&&void 0!==o?o:"#").concat(t.id),children:(0,l.jsx)("span",{onClick:function(){return n(t.id)},className:"".concat(i," ").concat(t.id===a?"active":""),children:t.title})})})})},p=function(e){var t=e.items,n=e.setActiveItem,i=e.activeItem,a=e.navPrefix;return(0,l.jsx)(l.Fragment,{children:t.map((function(e,t){return(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{item:e,className:"sideMenuItem",setActiveItem:n,activeItem:i,prefix:a},e.id),e.children.map((function(e){return(0,l.jsx)(c,{item:e,className:"sideMenuItem sideMenuSubItem",setActiveItem:n,activeItem:i,prefix:a},e.id)}))]},t)}))})},u=n(71125),d=function(e){var t,n=a.useState(!1),o=(0,i.Z)(n,2),s=o[0],c=o[1],d=a.useState(""),h=(0,i.Z)(d,2),k=h[0],m=h[1],g=a.useState(!1),f=(0,i.Z)(g,2),N=f[0],w=f[1];a.useEffect((function(){var t;e.items.length>0&&m(null!==(t=e.activeItem)&&void 0!==t?t:e.items[0].id)}),[e.activeItem]),a.useEffect((function(){var e=function(){var e=window.location.hash.substring(1,window.location.hash.length);m(e),w(!1)};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),[]),a.useEffect((function(){N&&c(!1)}),[N]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.j,{isOpened:s,onClick:function(){c((function(e){return!e}))}}),(0,l.jsx)("div",{id:"tutorial-side-navigation-pane",className:r()(e.className,"sticky-container",s?"opened":void 0),children:(0,l.jsx)("div",{className:"sideMenu sticky-element",children:(0,l.jsxs)("div",{className:"sideMenu-large",children:[e.header,(0,l.jsx)(p,{items:e.items,setActiveItem:function(e){w(!0),m(e)},activeItem:k,navPrefix:null!==(t=e.navPrefix)&&void 0!==t?t:"#"}),e.actions&&(0,l.jsx)("div",{className:"side-menu-actions",children:e.actions})]})})})]})}},1176:function(e,t,n){"use strict";n(63673),n(67294);var i=n(29e3),a=n(31389),o=n(52203),r=n(85893);t.Z=function(e){return(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{id:"page",className:"container tutorial-container",children:[(0,r.jsx)("div",{id:"tutorial-header",children:(0,r.jsx)(i.s,{children:e.tutorial.headline})}),(0,r.jsxs)("div",{id:"tutorial-content",children:[(0,r.jsx)(a.Z,{items:e.tutorial.navigationItems}),(0,r.jsx)("div",{id:"tutorial-content-body",children:e.tutorial.tutorialSteps})]})]})})}},49411:function(e,t,n){"use strict";n.r(t);var i=n(3905),a=n(1176),o=n(55092),r=n(20398),s=(n(67294),n(80989)),l=n(85893);t.default=function(){var e={headline:r.Pu.title,navigationItems:(0,r.Jt)(),tutorialSteps:(0,l.jsx)(i.Zo,{components:o.d,children:(0,l.jsx)(r.ZP,{})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.d,{title:"".concat(r.Pu.title," - Tutorials | iTwin Platform")}),(0,l.jsx)(a.Z,{tutorial:e})]})}},16853:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/authorize-webapp",function(){return n(49411)}])},63673:function(){}},function(e){e.O(0,[8273,508,483,229,271,2033,6815,9527,1061,9774,2888,179],(function(){return t=16853,e(e.s=t);var t}));var t=e.O();_N_E=t}]);