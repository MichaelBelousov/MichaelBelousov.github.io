(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5480],{61810:function(e,t,i){"use strict";i.d(t,{Pu:function(){return l},ZP:function(){return g},Jt:function(){return j}});var n=i(159),r=i(91164),a=i(67294),o=i(3905),s=["components"],l=(a.createElement,{title:"Import Users into Project",tile:{name:"Import Users into Project",description:"This tutorial will demonstrate how to add users to a Project from a CSV file.",href:"/tutorials/import-users-to-project/",durationInMinutes:5,relatedApiIds:["projects"]}}),c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)}},u=c("Introduction"),d=c("TutorialSection"),m=c("Alert"),p=c("Title"),h=c("CodeBlock"),f=c("ContinueLearningSection"),k=c("TileList"),v=c("ResourceTile"),T={metadata:l};function g(e){var t=e.components,i=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},T,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(u,{skillLevel:"Basic",durationInMinutes:"5",mdxType:"Introduction"},(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"This tutorial will demonstrate how to add users to a Project from a CSV file. This tutorial is accompanied by a sample powershell script located ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/iTwin/platform-api-samples/tree/main/Administration/Project-Import-Users"},"here"),". Authorization is provided as a separate ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/iTwin/platform-api-samples/blob/main/Authorization/New-OidcAuthCodePkceLogin.ps1"},"script"),".")),(0,o.kt)(d,{mdxType:"TutorialSection"},(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"This tutorial assumes that you already have:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.1"},"PowerShell")," (Recommended 7.0+ version) installed."),(0,o.kt)("li",{parentName:"ul"},"Access to, or create a new, project to use this sample.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Process of creating a new project is covered in ",(0,o.kt)("a",{parentName:"li",href:"/tutorials/create-and-query-projects-guide/"},"this tutorial")))),(0,o.kt)("li",{parentName:"ul"},"Your own ",(0,o.kt)("strong",{parentName:"li"},"Desktop/Mobile")," application/client registered on iTwin Platform.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Steps to follow for registering an application can be found ",(0,o.kt)("a",{parentName:"li",href:"/tutorials/register-and-modify-application/"},"here"),"."),(0,o.kt)("li",{parentName:"ul"},"Make sure that your application/client is associated with ",(0,o.kt)("strong",{parentName:"li"},"Projects API")," and has ",(0,o.kt)("inlineCode",{parentName:"li"},"projects:read")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"projects:modify")," scopes enabled."))))),(0,o.kt)(d,{mdxType:"TutorialSection"},(0,o.kt)("h2",{id:"1-request-access-token-for-use-in-authorization-header"},"1. Request access token for use in Authorization header"),(0,o.kt)("p",null,"Authorization is required for all iTwin Platform API endpoints. See the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/iTwin/platform-api-samples/tree/main/Authorization"},"Authorization README")," for more information.\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/iTwin/platform-api-samples/blob/main/Administration/Project-Import-Users/Import-ProjectUsers.ps1"},"This tutorial powershell sample")," already includes code that obtains an authorization token."),(0,o.kt)(m,{mdxType:"Alert"},"These samples require an Authorization Code + PKCE client. Registration of a"," ",(0,o.kt)("strong",null,"Desktop/Mobile")," application/client will give you an Authorization Code + PKCE client.")),(0,o.kt)(d,{mdxType:"TutorialSection"},(0,o.kt)("h2",{id:"2-read-users-from-csv"},"2. Read users from CSV"),(0,o.kt)("p",null,"Reading users from a CSV is dependent upon your particular development framework and is outside the scope of this tutorial."),(0,o.kt)("p",null,"Users CSV file must be in following format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-CSV","data-language":"CSV","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:"Email: Roles\nuser1@example.com: &lt;comma-separated list of project roles&gt;\nuser2@example.com: &lt;comma-separated list of project roles&gt;\n"}}))),(0,o.kt)(d,{actions:[(0,o.kt)(p,{mdxType:"Title"},"Example HTTP request"),(0,o.kt)(h,{language:"http",code:"POST https://api.bentley.com/projects/validation/38b7e366-bc20-4bb1-9572-0797cf5221f/members HTTP/1.1\nAuthorization: Bearer JWT_TOKEN\nContent-Type: application/json",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,o.kt)("h2",{id:"3-add-each-user-to-the-project"},"3. Add each user to the Project"),(0,o.kt)("p",null,"Adding a team member to a project requires POSTing the request to the ",(0,o.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/projects/{id}/members")," endpoint."),(0,o.kt)("h4",{id:"request-headers"},"Request headers"),(0,o.kt)("p",null,"Two headers are required. An authorization header is needed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-HTTP","data-language":"HTTP","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:"Authorization: Bearer JWT_TOKEN\nContent-Type: application/json\n"}}))),(0,o.kt)(d,{subSection:!0,actions:[(0,o.kt)(p,{mdxType:"Title"},"Example request body"),(0,o.kt)(h,{language:"json",code:'{\n  "email":"john.doe@my-org.com",\n  "roleNames":[\n    "Project Role 1",\n    "Project Role 2"\n  ]\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,o.kt)("h4",{id:"request-body"},"Request body"),(0,o.kt)("p",null,"The request body is specified as JSON and requires the email and roleNames properties. The API works with one user at a time, thus one ",(0,o.kt)("em",{parentName:"p"},"email"),". Multiple roles may be requested via the ",(0,o.kt)("em",{parentName:"p"},"roleNames")," array.")),(0,o.kt)(f,{mdxType:"ContinueLearningSection"},(0,o.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,o.kt)(k,{mdxType:"TileList"},(0,o.kt)(v,{title:"Administration API group",href:"/api-groups/administration/",description:"Manage the users, projects, and organizations that interact with your iTwin.",mdxType:"ResourceTile"}),(0,o.kt)(v,{title:"Projects API documentation",href:"/apis/projects/",description:"An overview and detailed Projects API documentation.",mdxType:"ResourceTile"}),(0,o.kt)(v,{title:"iTwin Platform API samples",href:"https://github.com/iTwin/platform-api-samples",description:"PowerShell samples demonstrating API endpoints.",isExternal:!0,mdxType:"ResourceTile"}))))}g.isMDXComponent=!0;var j=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-request-access-token-for-use-in-authorization-header",level:2,title:"1. Request access token for use in Authorization header",children:[]},{id:"2-read-users-from-csv",level:2,title:"2. Read users from CSV",children:[]},{id:"3-add-each-user-to-the-project",level:2,title:"3. Add each user to the Project",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},31389:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var n=i(61565),r=i(67294),a=i(94184),o=i.n(a),s=(i(50371),i(73351)),l=i(85893),c=function(e){var t=e.item,i=e.setActiveItem,n=e.className,r=e.activeItem,a=e.prefix;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"menuItem-container",children:(0,l.jsx)(s.D,{href:"".concat(null!==a&&void 0!==a?a:"#").concat(t.id),children:(0,l.jsx)("span",{onClick:function(){return i(t.id)},className:"".concat(n," ").concat(t.id===r?"active":""),children:t.title})})})})},u=function(e){var t=e.items,i=e.setActiveItem,n=e.activeItem,r=e.navPrefix;return(0,l.jsx)(l.Fragment,{children:t.map((function(e,t){return(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{item:e,className:"sideMenuItem",setActiveItem:i,activeItem:n,prefix:r},e.id),e.children.map((function(e){return(0,l.jsx)(c,{item:e,className:"sideMenuItem sideMenuSubItem",setActiveItem:i,activeItem:n,prefix:r},e.id)}))]},t)}))})},d=i(71125),m=function(e){var t,i=r.useState(!1),a=(0,n.Z)(i,2),s=a[0],c=a[1],m=r.useState(""),p=(0,n.Z)(m,2),h=p[0],f=p[1],k=r.useState(!1),v=(0,n.Z)(k,2),T=v[0],g=v[1];r.useEffect((function(){var t;e.items.length>0&&f(null!==(t=e.activeItem)&&void 0!==t?t:e.items[0].id)}),[e.activeItem]),r.useEffect((function(){var e=function(){var e=window.location.hash.substring(1,window.location.hash.length);f(e),g(!1)};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),[]),r.useEffect((function(){T&&c(!1)}),[T]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.j,{isOpened:s,onClick:function(){c((function(e){return!e}))}}),(0,l.jsx)("div",{id:"tutorial-side-navigation-pane",className:o()(e.className,"sticky-container",s?"opened":void 0),children:(0,l.jsx)("div",{className:"sideMenu sticky-element",children:(0,l.jsxs)("div",{className:"sideMenu-large",children:[e.header,(0,l.jsx)(u,{items:e.items,setActiveItem:function(e){g(!0),f(e)},activeItem:h,navPrefix:null!==(t=e.navPrefix)&&void 0!==t?t:"#"}),e.actions&&(0,l.jsx)("div",{className:"side-menu-actions",children:e.actions})]})})})]})}},1176:function(e,t,i){"use strict";i(63673),i(67294);var n=i(29e3),r=i(31389),a=i(52203),o=i(85893);t.Z=function(e){return(0,o.jsx)(a.Z,{children:(0,o.jsxs)("div",{id:"page",className:"container tutorial-container",children:[(0,o.jsx)("div",{id:"tutorial-header",children:(0,o.jsx)(n.s,{children:e.tutorial.headline})}),(0,o.jsxs)("div",{id:"tutorial-content",children:[(0,o.jsx)(r.Z,{items:e.tutorial.navigationItems}),(0,o.jsx)("div",{id:"tutorial-content-body",children:e.tutorial.tutorialSteps})]})]})})}},11047:function(e,t,i){"use strict";i.r(t);var n=i(3905),r=i(1176),a=i(55092),o=i(61810),s=(i(67294),i(80989)),l=i(85893);t.default=function(){var e={headline:o.Pu.title,navigationItems:(0,o.Jt)(),tutorialSteps:(0,l.jsx)(n.Zo,{components:a.d,children:(0,l.jsx)(o.ZP,{})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.d,{title:"".concat(o.Pu.title," - Tutorials | iTwin Platform")}),(0,l.jsx)(r.Z,{tutorial:e})]})}},21785:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/import-users-to-project",function(){return i(11047)}])},63673:function(){}},function(e){e.O(0,[8273,508,483,229,271,2033,6815,9527,1061,9774,2888,179],(function(){return t=21785,e(e.s=t);var t}));var t=e.O();_N_E=t}]);