(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1894],{69687:function(e,t,n){"use strict";n(67294);var r=n(94184),s=n.n(r),a=n(72589),i=n(24506),o=(n(92939),n(85893));t.Z=function(e){var t=e.onSave,n=e.onCancel,r=e.message,c=e.className,u=e.submitLabel,l=void 0===u?"Save":u,d=e.cancelLabel,p=void 0===d?"Cancel":d;return(0,o.jsxs)("div",{id:"actions",className:s()("action-panel",c),children:[r&&(0,o.jsx)("div",{className:"agreement-section",children:(0,o.jsx)(a.x,{children:r})}),(0,o.jsx)(i.z,{size:"large",styleType:"cta",type:"submit",id:"save-app",onClick:t,children:l}),(0,o.jsx)(i.z,{size:"large",styleType:"default",type:"button",id:"cancel",onClick:n,children:p})]})}},54740:function(e,t,n){"use strict";n(31233);var r=n(23109),s=n(85893);t.Z=function(e){var t=e.header,n=e.children,a=e.footer;return(0,s.jsxs)("div",{className:"framed-card",children:[(0,s.jsxs)("div",{className:"framed-card-content",children:[(0,s.jsx)(r.D,{children:t}),n]}),a&&(0,s.jsx)("div",{className:"framed-card-footer",children:a})]})}},81878:function(e,t,n){"use strict";n(31345),n(67294);var r=n(56261),s=n(85893);t.Z=function(e){return e.breadcrumbs?(0,s.jsx)("div",{id:"page-header-with-breadcrumbs",children:(0,s.jsxs)("div",{className:"page-header-content-container",children:[e.breadcrumbs&&(0,s.jsx)(r.O,{className:"breadcrumbs",children:e.breadcrumbs}),(0,s.jsx)("div",{className:"page-header-content",children:e.content})]})}):(0,s.jsx)("div",{id:"page-header",children:e.content})}},31993:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});n(36581);var r=n(26034),s=n(85893);function a(e){var t=e.isFullPage,n=void 0!==t&&t,a=e.hasSecondaryHeader,i=void 0!==a&&a,o=(0,s.jsx)("div",{className:"spinner-page-overlay",children:(0,s.jsx)(r.p,{indeterminate:!0})});return n?(0,s.jsx)("div",{className:i?"full-page-with-secondary-header-overlay-container":"full-page-overlay-container",children:o}):o}},36031:function(e,t,n){"use strict";n.d(t,{ZP:function(){return z}});var r=n(61565),s=n(30266),a=n(809),i=n.n(a),o=n(67294),c=n(45274),u=n(29e3),l=n(72589),d=n(23098),p=n(86668),f=n(9838),h=n(36432),m=n(67685),v=n(83633),x=(n(40069),n(11163)),g=n(15390),y=n(36815),j=n(79036),b=n(86818),w=n(92809),S=n(20334),N=n(24506),k=n(60508),C=n(23109),I=(n(89278),n(54740)),A=n(85893);function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=t.map(function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=P,e.t1=P({},t),e.t2={},e.next=6,y.q7.getAllProjectReports(t.id);case 6:return e.t3=e.sent,e.t4={reports:e.t3,forbidden:!1},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 11:if(e.prev=11,e.t5=e.catch(0),403!==e.t5.response.status){e.next=15;break}return e.abrupt("return",P(P({},t),{},{reports:[],forbidden:!0}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),a=T(r),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=13;break}return c=o.value,e.next=9,c;case 9:(u=e.sent)&&n.push(u);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.Z)(i().mark((function e(t,n,r,s){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,y.qx.getMyProjects(t,10);case 4:return a=e.sent,e.t0=n,e.next=8,Z(a.projects);case 8:e.t1=e.sent,(0,e.t0)(e.t1),r(1),e.next=17;break;case 13:return e.prev=13,e.t2=e.catch(0),c.Z.negative("Failed to fetch projects",{hasCloseButton:!0}),e.abrupt("return",[]);case 17:return e.prev=17,s(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t,n,r,s){return e.apply(this,arguments)}}(),M=function(){var e=(0,s.Z)(i().mark((function e(t,n,r,s,a,o){var u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,y.qx.getMyProjects(t,10,n);case 4:if((u=e.sent)._links.next){e.next=8;break}return a(0),e.abrupt("return");case 8:return e.t0=s,e.t1=[],e.t2=(0,b.Z)(r),e.t3=b.Z,e.next=14,Z(u.projects);case 14:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=e.t1.concat.call(e.t1,e.t2,e.t5),(0,e.t0)(e.t6),a((function(e){return e+1})),e.next=25;break;case 21:return e.prev=21,e.t7=e.catch(0),c.Z.negative("Failed to fetch projects",{hasCloseButton:!0}),e.abrupt("return",[]);case 25:return e.prev=25,o(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,21,25,28]])})));return function(t,n,r,s,a,i){return e.apply(this,arguments)}}(),D=function(e,t){return e.filter((function(e){return[e.displayName,e.description].join(" ").toLowerCase().includes(t.toLowerCase())}))},E=function(e){var t=e.reports,n=e.setReports,a=(0,o.useState)(!0),u=a[0],l=a[1],p=(0,o.useState)(""),f=p[0],h=p[1],v=(0,o.useState)(!1),x=v[0],j=v[1],T=(0,o.useState)(""),R=T[0],O=T[1],E=(0,o.useState)([]),U=E[0],q=E[1],L=(0,o.useState)(!1),H=L[0],z=L[1],B=(0,o.useState)(""),K=B[0],W=B[1],G=(0,o.useState)([]),Y=G[0],V=G[1],$=(0,o.useState)(!1),_=$[0],Q=$[1],J=(0,o.useState)(!0),X=J[0],ee=J[1],te=(0,o.useState)([]),ne=te[0],re=te[1],se=(0,o.useState)(0),ae=se[0],ie=se[1],oe=(0,o.useState)([]),ce=oe[0],ue=oe[1],le=(0,o.useState)([]),de=le[0],pe=le[1],fe=(0,o.useState)(!1),he=fe[0],me=fe[1],ve=(0,o.useState)([]),xe=ve[0],ge=ve[1],ye=function(e){var t=(0,o.useState)([]),n=t[0],r=t[1];return(0,o.useEffect)((function(){!function(){var t=(0,s.Z)(i().mark((function t(){var n,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(!0),t.next=4,y.qx.getRecentProjects();case 4:return n=t.sent,t.next=7,Z(n);case 7:s=t.sent,r(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c.Z.negative("Failed to get recent projects and reports.",{hasCloseButton:!0});case 14:return t.prev=14,e(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),[n,r]}(l),je=(0,r.Z)(ye,1)[0],be=(0,o.useRef)(null),we=function(){h(""),re([]),ue([]),pe([]),j(!1)};(0,o.useEffect)((function(){be.current&&be.current.scrollIntoView({behavior:"smooth"})}),[he]);var Se=(0,o.useMemo)((function(){return[{Header:"Table",columns:[{id:"ProjectNumber",Header:"Project Number",accessor:"projectNumber",Filter:S.M.TextFilter()},{id:"Name",Header:"Name",accessor:"displayName",Filter:S.M.TextFilter()},{id:"reportCount",Header:"Report Count",accessor:"reports.length",width:"125px"}]}]}),[]),Ne=(0,o.useMemo)((function(){return[{Header:"Table",columns:[{id:"Name",Header:"Name",accessor:"displayName",Filter:S.M.TextFilter()},{id:"Description",Header:"Description",accessor:"description",Filter:S.M.TextFilter()}]}]}),[]),ke=(0,o.useMemo)((function(){return t}),[t]),Ce=(0,o.useMemo)((function(){return ne}),[ne]),Ie=(0,o.useMemo)((function(){return je}),[je]),Ae=(0,o.useMemo)((function(){return ce}),[ce]),Te=(0,o.useMemo)((function(){return U}),[U]),Re=(0,o.useMemo)((function(){return Y}),[Y]),Oe=(0,o.useMemo)((function(){return function(e,t){ue(t.original.reports),t.toggleRowSelected(!0),Pe()}}),[]),Pe=function(){z(!1),O(""),q([])},Ze=function(){V([]),Q(!1),W("")};return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:"reports-container",children:[(0,A.jsx)(I.Z,{header:"Associated Reports",children:(0,A.jsxs)("div",{className:"associated-reports-table",children:[(0,A.jsxs)("div",{className:"reports-table-header",children:[(0,A.jsxs)("div",{className:"header-content",children:[(0,A.jsx)(N.z,{styleType:"high-visibility",onClick:function(){me(!0),ue([]),Pe()},disabled:he,startIcon:(0,A.jsx)(g.zWu,{}),children:"Add Reports"}),(0,A.jsx)(N.z,{onClick:function(){var e=t.filter((function(e){return!xe.filter((function(t){return t.id===e.id})).length}));n(e),ge([]),_&&V(D(e,K))},disabled:0===xe.length,startIcon:(0,A.jsx)(g.uSB,{}),children:"Remove Selected"})]}),(0,A.jsx)("div",{className:"header-content",children:(0,A.jsx)("form",{onSubmit:function(e){e.preventDefault(),V(D(t,K)),Q(!0)},children:(0,A.jsx)(d.L,{id:"associatedReportSearch",placeholder:"Search",iconDisplayStyle:"inline",disabled:!_&&0===t.length,required:!0,value:K,onChange:function(e){W(e.target.value)},svgIcon:_?(0,A.jsx)(m.h,{onClick:function(){return setTimeout((function(){Ze()}),100)},styleType:"borderless",children:(0,A.jsx)(g.GG$,{})}):(0,A.jsx)(m.h,{disabled:!_&&0===t.length,type:"submit",styleType:"borderless",children:(0,A.jsx)(g.yrh,{})})})})})]}),(0,A.jsx)(k.i,{style:{height:"400px"},data:_?Re:ke,isSelectable:!0,columns:Ne,emptyTableContent:"No reports associated with this key.",onSelect:function(e){e&&ge(e)}})]})}),he&&(0,A.jsxs)("div",{children:[(0,A.jsx)(C.D,{children:"Report Lookup"}),(0,A.jsxs)("div",{className:"report-modification",ref:be,children:[(0,A.jsx)("div",{className:"project-selection-table",children:(0,A.jsxs)(I.Z,{header:"Projects",children:[(0,A.jsxs)("div",{className:"reports-table-header",children:[(0,A.jsxs)("div",{className:"header-content",children:[(0,A.jsx)(N.z,{className:X?"iui-active":"",onClick:(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we(),ee(!0);case 2:case"end":return e.stop()}}),e)}))),startIcon:(0,A.jsx)(g.h$b,{}),children:"View Recent"}),(0,A.jsx)(N.z,{className:X?"":"iui-active",onClick:(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!1),we(),e.next=4,F("",re,ie,l);case 4:case"end":return e.stop()}}),e)}))),startIcon:(0,A.jsx)(g.yrh,{}),children:"Search All"})]}),(0,A.jsx)("div",{className:"header-content",children:(0,A.jsx)("form",{onSubmit:function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),re([]),e.next=4,F(f,re,ie,l);case 4:j(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:!X&&(0,A.jsx)(d.L,{id:"projectContextSwitch",placeholder:"Search all projects",iconDisplayStyle:"inline",required:!0,value:f,onChange:function(e){h(e.target.value)},svgIcon:x?(0,A.jsx)(m.h,{onClick:function(){return setTimeout((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return we(),e.next=3,F("",re,ie,l);case 3:case"end":return e.stop()}}),e)}))),100)},styleType:"borderless",children:(0,A.jsx)(g.GG$,{})}):(0,A.jsx)(m.h,{type:"submit",styleType:"borderless",children:(0,A.jsx)(g.yrh,{})})})})})]}),(0,A.jsx)(k.i,{data:X?Ie:Ce,style:{height:"400px",minWidth:"374px"},onRowClick:Oe,isSortable:!1,columns:Se,emptyTableContent:"No projects found.",stateReducer:function(e,t){switch(t.type){case"toggleRowSelected":return P(P({},e),{},{selectedRowIds:(0,w.Z)({},t.id,t.value)})}return e},isRowDisabled:function(e){return e.forbidden},isLoading:u,onBottomReached:function(){!X&&ae&&M(f,ae,ne,re,ie,l)}})]})}),(0,A.jsx)("div",{className:"report-selection-table",children:(0,A.jsxs)(I.Z,{header:"Reports",children:[(0,A.jsxs)("div",{className:"reports-table-header",children:[(0,A.jsx)("div",{className:"header-content",children:(0,A.jsx)("div",{className:"interactive-corner",children:(0,A.jsx)(N.z,{onClick:function(){n((function(e){return[].concat((0,b.Z)(e),(0,b.Z)(de))})),me(!1),pe([]),Ze()},disabled:!(ce.length>0&&de.length>0),styleType:"high-visibility",startIcon:(0,A.jsx)(g.zWu,{}),children:"Add Selected"})})}),(0,A.jsx)("div",{className:"header-content",children:(0,A.jsx)("div",{children:(0,A.jsx)("form",{onSubmit:function(e){e.preventDefault(),q(D(ce,R)),z(!0)},children:(0,A.jsx)(d.L,{id:"reportSearch",placeholder:"Search reports",iconDisplayStyle:"inline",required:!0,value:R,onChange:function(e){O(e.target.value)},disabled:0===Ae.length,svgIcon:H?(0,A.jsx)(m.h,{onClick:function(){return setTimeout((function(){Pe()}),100)},styleType:"borderless",children:(0,A.jsx)(g.GG$,{})}):(0,A.jsx)(m.h,{type:"submit",styleType:"borderless",children:(0,A.jsx)(g.yrh,{})})})})})})]}),(0,A.jsx)(k.i,{style:{height:"400px"},isSelectable:!0,data:H?Te:Ae,columns:Ne,emptyTableContent:"No projects selected or reports available.",isRowDisabled:function(e){return t.some((function(t){return t.id.includes(e.id)}))},onSelect:function(e){e&&pe(e)}})]})})]})]})]})})},U=n(69687),q=n(81878),L=n(31993),H=function(e){var t=e.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/");return"".concat(t[2],"-").concat(t[0],"-").concat(t[1])},z=function(){var e=(0,o.useState)(""),t=e[0],n=e[1],a=(0,o.useState)([]),b=a[0],w=a[1],S=(0,o.useState)(),N=S[0],k=S[1],C=(0,o.useState)(""),T=C[0],R=C[1],O=(0,o.useState)(),P=O[0],Z=O[1],F=(0,o.useState)(!1),M=F[0],D=F[1],z=(0,j.ZP)(),B=(0,r.Z)(z,2),K=B[0],W=B[1],G=(0,o.useState)(!1),Y=G[0],V=G[1],$=(0,x.useRouter)(),_="/api-groups/reporting-insights/apis/insights/api-keys/",Q=null,J=$.query.id;!function(e,t,n,r,a,u,l){(0,o.useEffect)((function(){e&&(u(!0),function(){var o=(0,s.Z)(i().mark((function o(){var d,p,f,h;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,y.Hg.getApiKey(e);case 3:return d=o.sent,t(d.apiKey.name),o.t0=n,o.next=8,Promise.all(d.apiKey.reportIds.map(function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.q7.getReport(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:o.t1=o.sent,(0,o.t0)(o.t1),p=new Date(d.apiKey.expiresAt),r(p),a(H(p)),o.next=19;break;case 15:o.prev=15,o.t2=o.catch(0),c.Z.negative("".concat(null!==(f=null===(h=o.t2.response)||void 0===h?void 0:h.data)&&void 0!==f?f:"Failed to fetch API Key details."),{hasCloseButton:!0}),l(!0);case 19:return o.prev=19,u(!1),o.finish(19);case 22:case"end":return o.stop()}}),o,null,[[0,15,19,22]])})));return function(){return o.apply(this,arguments)}}()())}),[e,r,a,l,u,t,n])}(J,n,w,k,R,D,V),Y&&$.push(_);var X=function(){var e=(0,s.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K.allValid()){e.next=3;break}return W(!0),e.abrupt("return");case 3:if(e.prev=3,D(!0),!J){e.next=10;break}return e.next=8,y.Hg.updateApiKey(J,{name:t,reportIds:b.map((function(e){return e.id})),expiresAt:null===N||void 0===N?void 0:N.toISOString()});case 8:e.next=15;break;case 10:return e.t0=Z,e.next=13,y.Hg.createApiKey({name:t,reportIds:b.map((function(e){return e.id})),expiresAt:null===N||void 0===N?void 0:N.toISOString()});case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:J&&$.push(_),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(3),c.Z.negative(null!==(n="".concat(e.t2.response.data.message))&&void 0!==n?n:"Error saving API Key",{hasCloseButton:!0});case 21:return e.prev=21,D(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{id:"key-page",className:"page-content-container",children:[(0,A.jsx)(q.Z,{content:(0,A.jsxs)(u.s,{children:[J?"Modify":"Add"," API Key"]})}),(0,A.jsxs)("div",{className:"api-key-action-container",children:[(0,A.jsx)(I.Z,{header:"Details",children:(0,A.jsxs)("div",{className:"details-form",children:[(0,A.jsx)(l.x,{className:"field-legend",children:"Asterisk * indicates mandatory fields."}),(0,A.jsx)(d.L,{id:"name",required:!0,className:"names-input",label:"Name",value:t,onChange:function(e){n(e.target.value),K.showMessageFor("name")},message:K.message("name",t,"required"),status:K.message("name",t,"required")?"negative":void 0,onBlur:function(){K.showMessageFor("name")},onBlurCapture:function(e){n(e.target.value),K.showMessageFor("name")}}),(0,A.jsx)(d.L,{id:"expiresAt",className:"expires-at-input",label:"Expires At",type:"date",required:!0,min:H(new Date),max:function(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e.toISOString().split("T")[0]}(),value:T,onChange:function(e){var t=new Date(e.target.value.replaceAll("-","/"));t.setHours(23,59,59,999),k(t),R(e.target.value)},onBlur:function(){K.showMessageFor("expiresAt")},status:K.message("expiresAt",N,"required|WithinOneYearTimeFrame")?"negative":void 0,message:K.message("expiresAt",N,"required|WithinOneYearTimeFrame")})]})}),(0,A.jsx)(I.Z,{header:(0,A.jsxs)("div",{className:"reports-label",children:["Reports Menu",(0,A.jsx)(p.u,{placement:"auto",style:{pointerEvents:"auto",backgroundColor:"#000000"},content:(0,A.jsx)(l.x,{children:"User must have REPORTINGVIEW permission assigned at the Project level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled. Alternatively the user should be an Organization Administrator for the Organization that owns a given Project or iModel. An Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities wiki page."}),children:(0,A.jsx)("div",{className:"info-icon",children:(0,A.jsx)(g.MCn,{})})})]}),children:(0,A.jsx)(E,{reports:b,setReports:w})})]}),(0,A.jsx)(U.Z,{onSave:X,onCancel:function(){$.push(_)}})]}),M&&(0,A.jsx)(L.b,{}),(0,A.jsxs)(f.u,{title:"Success",modalRootId:"key-page",onClose:function(){$.push(_)},closeOnExternalClick:!1,isOpen:!!P,children:[(0,A.jsx)(h.V,{children:"You have successfully created a new API Key."}),(0,A.jsxs)("div",{className:"key-wrapper",children:[(0,A.jsx)(d.L,{label:"Key",value:null===P||void 0===P?void 0:P.data.apiKey.key,readOnly:!0,ref:function(e){return Q=e}}),(0,A.jsx)(m.h,{onClick:function(){return function(){var e;null===(e=Q)||void 0===e||e.select(),window.document.execCommand("copy"),c.Z.positive("Copied!",{hasCloseButton:!0,type:"temporary"})}()},children:(0,A.jsx)(g.xF4,{})})]}),(0,A.jsx)(v.b,{style:{marginTop:"5px"},type:"warning",children:"The key is only displayed once, you will not be able to retrieve it again after closing. Please copy the key."})]})]})}},70803:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(67294),s=n(55475),a=n(35818);function i(){var e=(0,a.nu)(),t=(0,a.WQ)();(0,r.useEffect)((function(){!e&&t&&s.O.signin()}),[e,t])}},79036:function(e,t,n){"use strict";n.d(t,{Iv:function(){return r}});var r,s=n(67294),a=n(41283),i=n.n(a),o=n(51477);!function(e){e.AppName="applicationName",e.ImodelName="iModelName",e.ApiGroups="apiGroups",e.AppType="appType",e.ImodelType="iModelType",e.RedirectURI="redirectURI",e.PostLogoutRedirectURI="postLogoutRedirectURI",e.Scopes="scopes",e.Owner="owner",e.IModelFile="iModelFile"}(r||(r={}));var c={UriIsSecure:{message:"Your URI is not allowed. URI must start with HTTPS or HTTP (only for loopback URIs).",rule:function(e){var t=RegExp("^http://(localhost:?)|(127.0.0.1:?)|(::1:?)");return!e.startsWith("http://")||t.test(e)}},AllowedUriScheme:{message:"URI scheme is not allowed.",rule:function(e){return!RegExp("^(javascript:)|(file:)|(data:)|(mailto:)|(ftp:)|(blob:)|(about:)|(ssh:)|(tel:)|(view-source:)|(ws:)|(wss:)").test(e)}},NoFragments:{message:"Fragments are not allowed.",rule:function(e){return-1===e.indexOf("#")}},IsWellFormedUri:{message:"URI is not absolute or well formed.",rule:function(e){return o.c.IsWellFormedUri(e)}},HasAtLeastOneAPIAssociation:{message:"Please select at least one API association.",rule:function(e){return e.filter((function(e){return e.isSelected})).length>0}},HasAtLeastOneScope:{message:"Please select at least one scope from any API association.",rule:function(e){return e.length>0},required:!0},AppTypeIsSelected:{message:"Please select application type.",rule:function(e){return void 0!==e}},ImodelSourceIsSelected:{message:"Please select iModel source.",rule:function(e){return void 0!==e}},MaxStringSize:{message:"The :field may not be greater than :max characters.",rule:function(e,t){return e.length<=parseFloat(t[0])},messageReplace:function(e,t){return e.replace(":max",t[0]).replace(":field",t[1])}},NoInvalidChars:{message:"Contains invalid characters.",rule:function(e){return!RegExp(/[<>/\\&#']/g).test(e)}},AllowedFileExtensions:{message:"This file type is not allowed.",rule:function(e,t){return t.some((function(t){return e.name.endsWith(t)}))}},NoSpacesInFileName:{message:"File name cannot contain spaces.",rule:function(e){return!e.name.match(/ /)}},WithinOneYearTimeFrame:{message:"Date must not be set in the past and not more than 1 year in the future.",rule:function(e){var t=new Date;return e.getTime()<t.getTime()+31536e6&&t.getTime()<e.getTime()}},ValidPhoneNumber:{message:"Number is in the wrong format.",rule:function(e){return!!e.match(/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/g)}}},u={required:"This field is required."};t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=(0,s.useState)(!1),r=n[0],a=n[1],o=(0,s.useState)(),l=(o[0],o[1]),d=(0,s.useRef)(new(i())({messages:e,validators:t,autoForceUpdate:{forceUpdate:function(){return l((function(e){return!e}))}}}));return(0,s.useEffect)((function(){r&&d.current.showMessages()}),[r]),[d.current,a]}},92939:function(){},31233:function(){},31345:function(){},36581:function(){},40069:function(){},89278:function(){}}]);