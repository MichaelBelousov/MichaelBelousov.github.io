"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{30036:function(e,n,o){o.r(n),n.default='# Copy Project Team Members And Roles To Another Project\n\nThis tutorial will demonstrate how to copy team members and roles from one Project to another. Each endpoint in this tutorial requires authorization. This tutorial is accompanied by a sample powershell script located [here](https://wwww.bentley.com). Authorization is provided as a separate script.\n\n## APIs/Endpoints used in this tutorial\n\nProjects API:\n\n- ["Get project roles" operation](/api-groups/administration/apis/projects/operations/get-project-roles)\n- ["Get project team members" operation](/api-groups/administration/apis/projects/operations/get-project-team-members)\n- ["Create project role" operation](/api-groups/administration/apis/projects/operations/create-project-role)\n- ["Add project team member" operation](/api-groups/administration/apis/projects/operations/add-project-team-member)\n\n### Notes\n\nTwo headers are required in each of the requests, that are used in this tutorial. An authorization header is needed. See the _Authorization_ topic under _Tutorials_ for more information.\n\n#### Required headers\n\n```HTTP\nAuthorization: Bearer <access_token>\nContent-Type: application/json\n```\n\n## Steps\n\n### Request access token for use in Authorization header\n\nObtaining an access token is required for all samples. See the _Authorization_ topic under _Tutorials_ for more information.\n\n### Get project roles from the source project.\n\nGetting roles from the source project requires sending a GET request to the `projects/v1/{id}/roles` endpoint.\n\n#### Request example\n\n```HTTP\nGET https://api.bentley.com/projects/v1/38b7e366-bc20-4bb1-9572-0797cf5221f/roles HTTP/1.1\n\nAuthorization: Bearer <access_token>\nContent-Type: application/json\n```\n\n#### Response body example\n\n```HTTP\n{\n    "roles": [{\n            "roleId": "752b5a3d-b9f2-4845-824a-99dd310b4898",\n            "displayName": "Project Reader",\n            "description": "Project Reader description"\n        },\n        {\n            "roleId": "ce5399cc-088c-4c48-9f7b-0bff2d72fc25",\n            "displayName": "Project Contributor",\n            "description": "Project Contributor description"\n        }\n    ]\n}\n```\n\n### Add each role to the destination project\n\nAdding a role to a project requires sending a POST request to the `projects/v1/{id}/roles` endpoint.\n\n#### Method and endpoint\n\n```HTTP\nPOST https://api.bentley.com/projects/v1/38b7e366-bc20-4bb1-9572-0797cf5221f/roles HTTP/1.1\n\nAuthorization: Bearer <access_token>\nContent-Type: application/json\n{\n    "displayName": "Sample role",\n    "description": "Sample role description"\n}\n```\n\nThe request body is specified as JSON and requires _displayName_ and _description_ as properties. The API works with one role at a time.\n\nThe response returns a JSON object that contains displayName, description and roleId properties. This response body could be used to set roleIds for the users we want to copy from the source project to the destination project.\n\n#### Response body example\n\n```HTTP\n{\n    "role": {\n        "roleId": "faa3dca1-a901-4659-9da1-d9f29ddcc288",\n        "displayName": "Project Role",\n        "description": "An example project role"\n    }\n}\n```\n\n### Get project team members from the source project.\n\nGetting team members from the source projects requires sending a GET request to the `projects/v1/{id}/members` endpoint.\n\n#### Request example\n\n```HTTP\nGET https://api.bentley.com/projects/v1/38b7e366-bc20-4bb1-9572-0797cf5221f/members HTTP/1.1\n\nAuthorization: Bearer <access_token>\nContent-Type: application/json\n```\n\n#### Response body example\n\n```HTTP\n{\n    "members": [{\n            "userId": "99cf5e21-735c-4598-99eb-fe3940f96353",\n            "email": "John.Johnson@org.com",\n            "givenName": "John",\n            "surname": "Johnson",\n            "organization": "Organization Corp.",\n            "roles": [\n                "Read Access",\n                "Write Access"\n            ]\n        },\n        {\n            "userId": "25407933-cad2-41a2-acf4-5a074c83046b",\n            "email": "Maria.Miller@org.com",\n            "givenName": "Maria",\n            "surname": "Miller",\n            "organization": "Organization Corp.",\n            "roles": [\n                "Read Access"\n            ]\n        }\n    ],\n    "_links": {\n        "next": {\n            "href": "https://api.bentley.com/projects/806b19d5-c037-48a4-aa98-e297c81453f1/member?$skip=2&$top=2"\n        }\n    }\n}\n```\n\n### Add each team member to the destination project\n\nAdding a member to a project requires sending a POST request to the `projects/v1/{id}/members` endpoint.\n\n#### Method and endpoint\n\n```HTTP\nPOST https://api.bentley.com/projects/v1/38b7e366-bc20-4bb1-9572-0797cf5221f/members HTTP/1.1\n\nAuthorization: Bearer <access_token>\nContent-Type: application/json\n{\n    "userId": "john.doe@my-org.com",\n    "roleIds": [\n        "722b866c-ef99-48e7-8d9b-d59953f2231c"\n    ]\n}\n```\n\nThe request body is specified as JSON and requires the userId and roleIds properties. The API works with one user at a time. Multiple roles may be assigned to the user via the roleIds array.\n'}}]);