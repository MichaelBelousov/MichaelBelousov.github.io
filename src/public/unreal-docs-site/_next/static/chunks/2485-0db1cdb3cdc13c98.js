"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2485],{12485:function(e,t,o){o.d(t,{Pu:function(){return s},ZP:function(){return I},Jt:function(){return N}});var a=o(159),i=o(91164),n=o(67294),r=o(3905),l=["components"],s=(n.createElement,{title:"Get started with Storage API",tile:{name:"Get started with Storage API",description:"This tutorial is introduction to Storage API explaining main workflows and operations.",href:"/tutorials/storage-quick-start/",durationInMinutes:45,relatedApiIds:["storage"]}}),d=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},p=d("Introduction"),c=d("TutorialSection"),f=d("LinkButton"),u=d("PostmanIcon"),m=d("CreateSampleAppButton"),h=d("Alert"),k=d("Title"),T=d("CodeBlock"),y=d("ContinueLearningSection"),b=d("TileList"),g=d("ResourceTile"),x={metadata:s};function I(e){var t=e.components,o=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},x,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(p,{skillLevel:"Basic",durationInMinutes:"45",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This quick start is going to help you work with using Storage API. Tutorial describes main operations required to create files with folders, retrieving and managing them.")),(0,r.kt)(c,{actions:[(0,r.kt)(f,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(u,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A tool such as ",(0,r.kt)("inlineCode",{parentName:"li"},"Postman")," that can be used to execute http calls. These calls can also be made using the ",(0,r.kt)("inlineCode",{parentName:"li"},"TryIt")," button in the API documentation except from requests for file uploads."),(0,r.kt)("li",{parentName:"ul"},"Project created and configured. Try ",(0,r.kt)("a",{parentName:"li",href:"/apis/projects/operations/create-project/"},"Projects API"),"."))),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-preparing-to-use-storage-api"},"1. Preparing to use Storage API"),(0,r.kt)("p",null,"There are some actions, which should be completed before starting using Storage API.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(m,{tooltip:"Register a basic SPA App for this tutorial",clientName:"Get started with Storage API tutorial",scopes:["storage:modify","storage:read"],mdxType:"CreateSampleAppButton"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"11-register-an-application"},"1.1 Register an Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs. You can use the ",(0,r.kt)("strong",{parentName:"p"},"Register")," button to automatically create your first single page application (SPA). This will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorizesinglepageapplicationsspaanddesktopmobileapplicationsnative"},"Authorization Code Flow for your SPA application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_CLIENT_ID")," - this is the unique identifier for your application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_REDIRECT_URI")," - specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_LOGOUT_URI")," - specifies where users can be returned to after logging out. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Post logout redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_SCOPES")," - list of accesses granted to the application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Or optionally:")," Register and configure your application manually following instructions in ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial.\nMake sure that your application is associated with ",(0,r.kt)("strong",{parentName:"p"},"Storage API")," and has ",(0,r.kt)("inlineCode",{parentName:"p"},"storage:modify storage:read")," scopes enabled."))),(0,r.kt)(c,{subSection:!0,mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"12-get-a-token"},"1.2 Get a token"),(0,r.kt)("p",null,"To make request to API user token is needed. There are several ways to get it."),(0,r.kt)("h3",{id:"implement-authorization-code-flow-in-the-application"},"Implement Authorization Code Flow in the application"),(0,r.kt)("p",null,"Follow this ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/"},"article")," to implement Authorization code workflow in your application."),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Here you can use Client ID generated from previous registration step."),(0,r.kt)("h4",{id:"grab-a-user-token-from-api-reference-try-it-section"},"Grab a user token from API reference \u201cTry it\u201d Section"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"/apis/storage/operations/get-top-level-folders-and-files-by-project/"},"Get top level folders and files by project - Storage")),(0,r.kt)("li",{parentName:"ol"},"Click \u201cTry it\u201d button."),(0,r.kt)("li",{parentName:"ol"},"On Authorization section select \u201cAuthorizationCode\u201d."),(0,r.kt)("li",{parentName:"ol"},"After popup closes Authorization header with your user token value should be visible."),(0,r.kt)("li",{parentName:"ol"},"Save user token value for this tutorial.")),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Use user token to replace JWT_TOKEN dynamic parameter in the next steps.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/storage?projectId=PROJECT_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "items": [],\n  "_links": {\n    "self": {\n        "href": "https://api.bentley.com/storage?projectId=PROJECT_ID&$skip=0&$top=100"\n    },\n    "prev": {\n        "href": "https://api.bentley.com/storage?projectId=PROJECT_ID&$skip=0&$top=100"\n    },\n    "next": {\n        "href": "https://api.bentley.com/storage?projectId=PROJECT_ID&$skip=100&$top=100"\n    },\n    "folder": {\n        "href": "https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"13-get-a-link-to-the-storage"},"1.3 Get a link to the Storage"),(0,r.kt)("p",null,"Files and folders created via Storage API are associated with project. If project is already existing then ",(0,r.kt)("strong",{parentName:"p"},"root folder"),", which is parent folder to first level files and folders could be retrieved by ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/create-project/"},"getting project")," operation."),(0,r.kt)("p",null,"Another way of getting link to the storage is by executing HTTP GET ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage?projectId=PROJECT_ID"},"https://api.bentley.com/storage?projectId=PROJECT_ID")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/get-top-level-folders-and-files-by-project/"},"Get top level folders and files by project documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Top level folders with files should be returned if there are any. Response will contain link to the storage, to the root folder.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/storage/folders/FOLDER_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "folder": {\n    "id": "FOLDER_ID",\n    "displayName": "test",\n    "description": "test folder",\n    "path": "folderName/test",\n    "lastModifiedByDisplayName": "Bob User",\n    "createdDateTime": "2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime": "2020-05-03T11:05:11.0133549Z",\n    "parentFolderId": "TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links": {\n      "createdBy": {\n          "href": "https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy": {\n          "href": "https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder": {\n          "href": "https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-folder"},"2. Get folder"),(0,r.kt)("p",null,"To retrieve root folder, HTTP GET ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/folders/FOLDER_ID"},"https://api.bentley.com/storage/folders/FOLDER_ID")," request should be executed by using link from previous section or by existing another root folder ID."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/get-folder/"},"Get folder documentation")," page, \u201cTry it\u201d section.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/folders/FOLDER_ID/folders HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:'{\n  "displayName": "test",\n  "description": "test folder"\n}',mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "folder": {\n    "id": "TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",\n    "displayName": "test",\n    "description": "test folder",\n    "path": "test",\n    "lastModifiedByDisplayName": "Bob User",\n    "createdDateTime": "2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime": "2020-05-03T11:05:11.0133549Z",\n    "parentFolderId": "TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links": {\n      "createdBy": {\n          "href": "https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy": {\n          "href": "https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder": {\n          "href": "https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response headers"),(0,r.kt)(T,{language:"http",code:"Location: https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-create-folder"},"3. Create folder"),(0,r.kt)("p",null,"Organize files in the better way by storing them in folders. To create folder request, payload should be send to HTTP POST ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/folders/FOLDER_ID/folders"},"https://api.bentley.com/storage/folders/FOLDER_ID/folders"),". It is necessary ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," to bet set while ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," is optional in the payload."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/create-folder/"},"Create folder documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Folder should be created and ready to be used.")),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-create-file"},"4. Create file"),(0,r.kt)("p",null,"Create file is three steps operation. Metadata needs to be created first then actual file should be uploaded and finally confirmation request needs to be sent. Created files can be synchronized with iModels. Try ",(0,r.kt)("a",{parentName:"p",href:"/api-groups/synchronization/"},"Synchronization API"),".")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/folders/FOLDER_ID/files HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:'{\n  "displayName": "test.txt",\n  "description": "test file"\n}',mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "_links": {\n    "completeUrl": {\n        "href": "https://api.bentley.com/storage/files/TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc/complete"\n    },\n    "uploadUrl": {\n        "href": "https://projectshareprodeussa01.blob.core.windows.net/azuresqldbecpluginstorage/ProjectShare/File/b6145b7f-fee9-4a13-b1e4-5d061970373e?sv=2017-04-17&sr=b&sig=4NfdEriAONQhbHGkrTAL4bNMzjW8Qm5l%2FoEPiSQl%2BPo%3D&se=2020-10-19T15:12:51Z&sp=rw&rscd=attachment%3B%20filename%3D%22test.txt%22&userid=b905387c-a685-4d27-aab7-468c9ff0c9a6"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"41-create-files-metadata"},"4.1 Create file\u2019s metadata"),(0,r.kt)("p",null,"Use roof folder ID from previous step to crate file in the same directory as previously created folder and execute HTTP POST ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/folders/FOLDER_ID/files"},"https://api.bentley.com/storage/folders/FOLDER_ID/files")," request. It is necessary ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," to bet set while ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," is optional in the payload."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/create-file/"},"Create file documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"File\u2019s metadata should be created and links from the response will be used in the further steps to create file.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"PUT https://projectshareprodeussa01.blob.core.windows.net/azuresqldbecpluginstorage/ProjectShare/File/b6145b7f-fee9-4a13-b1e4-5d061970373e?sv=2017-04-17&sr=b&sig=4NfdEriAONQhbHGkrTAL4bNMzjW8Qm5l%2FoEPiSQl%2BPo%3D&se=2020-10-19T15:12:51Z&sp=rw&rscd=attachment%3B%20filename%3D%22test.txt%22&userid=b905387c-a685-4d27-aab7-468c9ff0c9a6 HTTP/1.1\nx-ms-blob-type: BlockBlob",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:"test",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"42-upload-actual-file"},"4.2 Upload actual file"),(0,r.kt)("p",null,"This request is used to upload actual file. A tool such as ",(0,r.kt)("inlineCode",{parentName:"p"},"Postman")," should be used to make http request. Url should be picked from previous request\u2019s response where ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadUrl")," is specified. The maximum size of the file is ",(0,r.kt)("strong",{parentName:"p"},"256 MiB"),". If bigger file needs to be uploaded there are possibility to use Azure libraries to upload file via given Azure SAS url or by uploading file with ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/rest/api/storageservices/operations-on-block-blobs"},"multiple requests"),"."),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Note: Authorization header is not required for this request.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/files/TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc/complete HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "file":{\n    "id":"TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc",\n    "displayName":"test.txt",\n    "description":"test file",\n    "path":"folderName/test.txt",\n    "size":8,\n    "lastModifiedByDisplayName":"Bob User",\n    "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime":"2020-05-03T11:05:11.0133549Z",\n    "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links":{\n      "createdBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder":{\n        "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"43-complete-file-creation"},"4.3 Complete file creation"),(0,r.kt)("p",null,"After uploading actual file confirmation is needed. That will make file visible and it could be used further. Url should be picked from the first step of file\u2019s metadata creation where ",(0,r.kt)("inlineCode",{parentName:"p"},"completeUrl")," is specified."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/complete-file-creation/"},"Complete file upload")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Your file should be placed in the storage and be ready to be used.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/storage/files/FILE_ID/download HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+octet-stream\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Headers"),(0,r.kt)(T,{language:"http",code:"Location: https://projectshareprodeussa01.blob.core.windows.net/azuresqldbecpluginstorage/ProjectShare/File/b6145b7f-fee9-4a13-b1e4-5d061970373e?sv=2017-04-17&sr=b&sig=4NfdEriAONQhbHGkrTAL4bNMzjW8Qm5l%2FoEPiSQl%2BPo%3D&se=2020-10-19T15:12:51Z&sp=rw&rscd=attachment%3B%20filename%3D%22test.txt%22&userid=b905387c-a685-4d27-aab7-468c9ff0c9a6",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"5-download-file"},"5. Download file"),(0,r.kt)("p",null,"Created files can be downloaded by executing HTTP GET ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/files/FILE_ID/download"},"https://api.bentley.com/storage/files/FILE_ID/download")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/download-file/"},"Complete file upload")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Your file should be downloaded with the content specified in the previous request."),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"This query returns `302` redirect response and follow up request should be executed by using link from `Location` header.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/storage/folders/FOLDER_ID/list HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "items":[\n    {\n      "type":"folder",\n      "id":"TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",\n      "displayName":"test",\n      "description":"test folder",\n      "path":"test",\n      "lastModifiedByDisplayName":"Bob User",\n      "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n      "lastModifiedDateTime":"2020-05-03T11:05:11.0133549Z",\n      "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n      "_links":{\n        "createdBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "lastModifiedBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "parentFolder":{\n          "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n        }\n      }\n    },\n    {\n      "type":"file",\n      "id":"TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc",\n      "displayName":"test.txt",\n      "description":"test file",\n      "path":"folderName/test.txt",\n      "size":8,\n      "lastModifiedByDisplayName":"Bob User",\n      "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n      "lastModifiedDateTime":"2020-05-03T11:05:11.0133549Z",\n      "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n      "_links":{\n        "createdBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "lastModifiedBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "parentFolder":{\n          "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n        }\n      }\n    }\n  ],\n  "_links":{\n    "self":{\n      "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s/list?$skip=0&$top=100"\n    },\n    "prev":{\n      "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s/list?$skip=0&$top=100"\n    },\n    "next":{\n      "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s/list?$skip=100&$top=100"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"6-get-folders-and-files-in-the-folder"},"6. Get folders and files in the folder"),(0,r.kt)("p",null,"Usually for navigating through folders and files request for getting the is send. HTTP GET ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/folders/FOLDER_ID/list"},"https://api.bentley.com/storage/folders/FOLDER_ID/list")," with root folder id as folder id should be used to retrieve the items of root folder. It is possible to set page size by specifying ",(0,r.kt)("inlineCode",{parentName:"p"},"$skip")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"$top")," query parameters. ",(0,r.kt)("inlineCode",{parentName:"p"},"$top")," default is set to 100 if it is not changed."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/get-folders-and-files-in-folder/"},"Get folders and files in folder documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Your created folder and file should retrieved.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"PATCH https://api.bentley.com/storage/folders/FOLDER_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:'{\n  "displayName":"test update",\n  "description":"test folder update"\n}',mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "folder":{\n    "id":"TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",\n    "displayName":"test",\n    "description":"test folder",\n    "path":"test",\n    "lastModifiedByDisplayName":"Bob User",\n    "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime":"2020-05-03T11:09:02.0954397Z",\n    "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links":{\n      "createdBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder":{\n        "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"7-update-folder"},"7. Update folder"),(0,r.kt)("p",null,"To update folder\u2019s metadata request with payload should be send to HTTP PATCH ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/files/FOLDER_ID"},"https://api.bentley.com/storage/files/FOLDER_ID"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," properties can be updated by sending this request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/update-folder/"},"Update folder documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Folder\u2019s properties should be updated.")),(0,r.kt)(c,{actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"PATCH https://api.bentley.com/storage/files/FILE_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:'{\n  "displayName":"test update.txt",\n  "description":"test file update"\n}',mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "folder":{\n    "id":"TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",\n    "displayName":"test",\n    "description":"test folder",\n    "path":"test",\n    "lastModifiedByDisplayName":"Bob User",\n    "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime":"2020-05-03T11:15:02.0954397Z",\n    "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links":{\n      "createdBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder":{\n        "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"8-update-file"},"8. Update file"),(0,r.kt)("p",null,"To update file\u2019s metadata request with payload should be send to HTTP PATCH ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/files/FILE_ID"},"https://api.bentley.com/storage/files/FILE_ID"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," properties can be updated by sending this request same as with folder update."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/update-file/"},"Update file documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Files properties should be updated.")),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"9-update-files-content"},"9. Update file\u2019s content"),(0,r.kt)("p",null,"Update file\u2019s content is three steps operation. Request for initiating update need to be made first then actual file should be uploaded and finally confirmation request needs to be sent.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/files/FILE_ID/updateContent HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "_links":{\n    "completeUrl":{\n      "href":"https://api.bentley.com/storage/files/TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc/complete"\n    },\n    "uploadUrl":{\n      "href":"https://projectshareprodeussa01.blob.core.windows.net/azuresqldbecpluginstorage/ProjectShare/File/b6145b7f-fee9-4a13-b1e4-5d061970373e?sv=2017-04-17&sr=b&sig=4NfdEriAONQhbHGkrTAL4bNMzjW8Qm5l%2FoEPiSQl%2BPo%3D&se=2020-10-19T15:12:51Z&sp=rw&rscd=attachment%3B%20filename%3D%22test.txt%22&userid=b905387c-a685-4d27-aab7-468c9ff0c9a6"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"91-initiate-files-content-update"},"9.1 Initiate file\u2019s content update"),(0,r.kt)("p",null,"Use file ID from previous step and execute HTTP POST ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/files/FILE_ID/updateContent"},"https://api.bentley.com/storage/files/FILE_ID/updateContent")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/update-file-content/"},"Update file\u2019s content documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Hyperlinks will be created, which should be used be used in the further steps to update file\u2019s content.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"PUT https://projectshareprodeussa01.blob.core.windows.net/azuresqldbecpluginstorage/ProjectShare/File/b6145b7f-fee9-4a13-b1e4-5d061970373e?sv=2017-04-17&sr=b&sig=4NfdEriAONQhbHGkrTAL4bNMzjW8Qm5l%2FoEPiSQl%2BPo%3D&se=2020-10-19T15:12:51Z&sp=rw&rscd=attachment%3B%20filename%3D%22test.txt%22&userid=b905387c-a685-4d27-aab7-468c9ff0c9a6 HTTP/1.1\nx-ms-blob-type: BlockBlob",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Request Body"),(0,r.kt)(T,{language:"json",code:"test update",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"92-upload-actual-file"},"9.2 Upload actual file"),(0,r.kt)("p",null,"This request is used to upload actual file. A tool such as ",(0,r.kt)("inlineCode",{parentName:"p"},"Postman")," should be used to make http request. Url should be picked from previous request\u2019s response where ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadUrl")," is specified. The maximum size of the file is ",(0,r.kt)("strong",{parentName:"p"},"256 MiB"),". If bigger file needs to be uploaded there are possibility to use Azure libraries to upload file via given Azure SAS url or by uploading file with ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/rest/api/storageservices/operations-on-block-blobs"},"multiple requests"),"."),(0,r.kt)(h,{type:"informational",mdxType:"Alert"},"Note: Authorization headers is not required for this request.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/files/TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc/complete HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "file":{\n    "id":"TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc",\n    "displayName":"test.txt",\n    "description":"test file",\n    "path":"folderName/test.txt",\n    "size":8,\n    "lastModifiedByDisplayName":"Bob User",\n    "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n    "lastModifiedDateTime":"2020-05-03T11:25:46.8659753Z",\n    "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n    "_links":{\n      "createdBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "lastModifiedBy":{\n        "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n      },\n      "parentFolder":{\n        "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n      }\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"93-complete-files-content-upload"},"9.3 Complete file\u2019s content upload"),(0,r.kt)("p",null,"After uploading actual file confirmation is needed. Url should be picked from the first step where ",(0,r.kt)("inlineCode",{parentName:"p"},"completeUrl")," is specified."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage/operations/complete-file-creation/"},"Complete file upload")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"File\u2019s content should be updated.")),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"10-recycle-bin-operations"},"10. Recycle bin operations"),(0,r.kt)("p",null,"Files and folders can be deleted and restored. Deleted items can be queried as well because they will be only soft deleted and kept in the recycle bin. Items from recycle bin can be deleted manually if there is no reason to keep them longer otherwise they will be removed automatically after 30 days.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"DELETE https://api.bentley.com/storage/folders/FOLDER_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"101-delete-folder"},"10.1 Delete folder"),(0,r.kt)("p",null,"Let\u2019s delete created folder. Execute HTTP DELETE ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/folders/FOLDER_ID"},"https://api.bentley.com/storage/folders/FOLDER_ID")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/delete-folder/"},"Delete folder")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Folder should be soft deleted.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"DELETE https://api.bentley.com/storage/files/FILE_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"102-delete-file"},"10.2 Delete file"),(0,r.kt)("p",null,"Let\u2019s delete created file as well. Execute HTTP DELETE ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/files/FILE_ID"},"https://api.bentley.com/storage/files/FILE_ID")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/delete-file/"},"Delete file")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"File should be soft deleted.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/storage/recycleBin?projectId=PROJECT_ID HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(k,{mdxType:"Title"},"Response Body"),(0,r.kt)(T,{language:"json",code:'{\n  "items":[\n    {\n      "type":"folder",\n      "id":"TYJsPN0xtkWId0yUrXkS5pN5AQzuullIkxz5aDnDJSI",\n      "displayName":"test",\n      "description":"test folder",\n      "path":"test",\n      "lastModifiedByDisplayName":"Bob User",\n      "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n      "lastModifiedDateTime":"2020-05-03T11:05:11.0133549Z",\n      "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n      "_links":{\n        "createdBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "lastModifiedBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "parentFolder":{\n          "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n        }\n      }\n    },\n    {\n      "type":"file",\n      "id":"TYJsPN0xtkWId0yUrXkS5s4FlCroosBMlyDhZZmlzoc",\n      "displayName":"test.txt",\n      "description":"test file",\n      "path":"folderName/test.txt",\n      "size":8,\n      "lastModifiedByDisplayName":"Bob User",\n      "createdDateTime":"2020-05-03T11:05:11.0133549Z",\n      "lastModifiedDateTime":"2020-05-03T11:25:46.8659753Z",\n      "parentFolderId":"TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s",\n      "_links":{\n        "createdBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "lastModifiedBy":{\n          "href":"https://api.bentley.com/projects/6959daff-27f5-4b87-96ea-9917daa3a8ff/members/1140f95b-1ba0-49d9-bbf4-b53e54d80387"\n        },\n        "parentFolder":{\n          "href":"https://api.bentley.com/storage/folders/TYJsPN0xtkWId0yUrXkS5g0CIYaGZLxEozrWBCOcS_s"\n        }\n      }\n    }\n  ],\n  "_links":{\n    "self":{\n      "href":"https://api.bentley.com/storage/recycleBin?projectId=PROJECT_ID&$skip=0&$top=100"\n    },\n    "prev":{\n      "href":"https://api.bentley.com/storage/recycleBin?projectId=PROJECT_ID&$skip=0&$top=100"\n    },\n    "next":{\n      "href":"https://api.bentley.com/storage/recycleBin?projectId=PROJECT_ID&$skip=100&$top=100"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"103-get-folders-and-files-in-recycle-bin"},"10.3. Get folders and files in recycle bin"),(0,r.kt)("p",null,"Soft deleted files and folders can be retrieve. Send HTTP GET ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/recycleBin?projectId=PROJECT_ID"},"https://api.bentley.com/recycleBin?projectId=PROJECT_ID"),". It is possible to set page size by specifying ",(0,r.kt)("inlineCode",{parentName:"p"},"$skip")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"$top")," query parameters. ",(0,r.kt)("inlineCode",{parentName:"p"},"$top")," default is set to 100 if it is not changed."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/get-folders-and-files-in-recycle-bin/"},"Get folders and files in recycle bin documentation")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"File and folder, which were deleted previously should be showed.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/recycleBin/folders/FOLDER_ID/restore HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"104-restore-folder"},"10.4 Restore folder"),(0,r.kt)("p",null,"It is time to restore deleted folder. Execute HTTP POST ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/recycleBin/folders/FOLDER_ID/restore"},"https://api.bentley.com/storage/recycleBin/folders/FOLDER_ID/restore")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/restore-folder/"},"Restore folder")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"Folder should be successfully restored.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(k,{mdxType:"Title"},"HTTP request"),(0,r.kt)(T,{language:"http",code:"POST https://api.bentley.com/storage/recycleBin/files/FILE_ID/restore HTTP/1.1\nAccept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"105-restore-file"},"10.5 Restore file"),(0,r.kt)("p",null,"Finally file can be restored as well. Execute HTTP POST ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/storage/recycleBin/files/FILE_ID/restore"},"https://api.bentley.com/storage/recycleBin/files/FILE_ID/restore")," request."),(0,r.kt)("p",null,"You can execute the request in ",(0,r.kt)("a",{parentName:"p",href:"/apis/storage-update/operations/restore-file/"},"Restore file")," page, \u201cTry it\u201d section."),(0,r.kt)("p",null,"File should be successfully restored.")),(0,r.kt)(y,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,r.kt)("p",null,"Congratulation for completing Storage API tutorial! You should be able to manage your securely stored files, which can be integrated to other service."),(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(b,{mdxType:"TileList"},(0,r.kt)(g,{title:"Storage API",href:"/apis/storage/",description:"There are more capabilities, which could be used for retrieving files, folders and more.",mdxType:"ResourceTile"}),(0,r.kt)(g,{title:"Projects API",href:"/apis/projects/",description:"Project is necessary for using Storage API. You can check its possibilities.",mdxType:"ResourceTile"}),(0,r.kt)(g,{title:"Synchronization API",href:"/api-groups/synchronization/",description:"Files can be synchronized to iModel via Synchronization API.",mdxType:"ResourceTile"}),(0,r.kt)(g,{title:"Export issue",href:"/apis/issues-v1/operations/export-issues-to-storage/",description:"Issues can be exported as PDF files to Storage.",mdxType:"ResourceTile"}),(0,r.kt)(g,{title:"Export form",href:"/apis/forms/operations/export-form-to-storage/",description:"Forms can be exported as PDF files to Storage.",mdxType:"ResourceTile"}))))}I.isMDXComponent=!0;var N=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-preparing-to-use-storage-api",level:2,title:"1. Preparing to use Storage API",children:[{id:"11-register-an-application",level:3,title:"1.1 Register an Application",children:[]},{id:"12-get-a-token",level:3,title:"1.2 Get a token",children:[]},{id:"implement-authorization-code-flow-in-the-application",level:3,title:"Implement Authorization Code Flow in the application",children:[]},{id:"13-get-a-link-to-the-storage",level:3,title:"1.3 Get a link to the Storage",children:[]}]},{id:"2-get-folder",level:2,title:"2. Get folder",children:[]},{id:"3-create-folder",level:2,title:"3. Create folder",children:[]},{id:"4-create-file",level:2,title:"4. Create file",children:[{id:"41-create-files-metadata",level:3,title:"4.1 Create file\u2019s metadata",children:[]},{id:"42-upload-actual-file",level:3,title:"4.2 Upload actual file",children:[]},{id:"43-complete-file-creation",level:3,title:"4.3 Complete file creation",children:[]}]},{id:"5-download-file",level:2,title:"5. Download file",children:[]},{id:"6-get-folders-and-files-in-the-folder",level:2,title:"6. Get folders and files in the folder",children:[]},{id:"7-update-folder",level:2,title:"7. Update folder",children:[]},{id:"8-update-file",level:2,title:"8. Update file",children:[]},{id:"9-update-files-content",level:2,title:"9. Update file\u2019s content",children:[{id:"91-initiate-files-content-update",level:3,title:"9.1 Initiate file\u2019s content update",children:[]},{id:"92-upload-actual-file",level:3,title:"9.2 Upload actual file",children:[]},{id:"93-complete-files-content-upload",level:3,title:"9.3 Complete file\u2019s content upload",children:[]}]},{id:"10-recycle-bin-operations",level:2,title:"10. Recycle bin operations",children:[{id:"101-delete-folder",level:3,title:"10.1 Delete folder",children:[]},{id:"102-delete-file",level:3,title:"10.2 Delete file",children:[]},{id:"103-get-folders-and-files-in-recycle-bin",level:3,title:"10.3. Get folders and files in recycle bin",children:[]},{id:"104-restore-folder",level:3,title:"10.4 Restore folder",children:[]},{id:"105-restore-file",level:3,title:"10.5 Restore file",children:[]}]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}}}]);