<!DOCTYPE html><html class="iui-theme-light" lang="en"><head><meta charSet="utf-8"/><meta name="author" content="Bentley Systems"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/favicon.ico"/><title>Customizing the iTwin Viewer - &quot;The Basics&quot; - Tutorials | iTwin Platform</title><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/fdfd5e95539ee4cf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fdfd5e95539ee4cf.css" data-n-g=""/><link rel="preload" href="/_next/static/css/33913c869ee1ac51.css" as="style"/><link rel="stylesheet" href="/_next/static/css/33913c869ee1ac51.css" data-n-p=""/><link rel="preload" href="/_next/static/css/b04750cbcdbb5f46.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b04750cbcdbb5f46.css" data-n-p=""/><link rel="preload" href="/_next/static/css/031a6a56be31bdc1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/031a6a56be31bdc1.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-671c70ce128523ae.js" defer=""></script><script src="/_next/static/chunks/framework-47503b8bb4de6bb8.js" defer=""></script><script src="/_next/static/chunks/main-bf2559c32c399cd5.js" defer=""></script><script src="/_next/static/chunks/pages/_app-76d2c8ca7cd6b913.js" defer=""></script><script src="/_next/static/chunks/8273-b3fdb32d13755acb.js" defer=""></script><script src="/_next/static/chunks/508-344237facbbe8d27.js" defer=""></script><script src="/_next/static/chunks/229-c545af75936480f6.js" defer=""></script><script src="/_next/static/chunks/271-f512ee232c968e8b.js" defer=""></script><script src="/_next/static/chunks/2033-8075becf07fec240.js" defer=""></script><script src="/_next/static/chunks/6815-d6510a6bbae83ae8.js" defer=""></script><script src="/_next/static/chunks/9527-b56ba5c73e10cf6f.js" defer=""></script><script src="/_next/static/chunks/pages/tutorials/itwin-viewer-hello-world-fdb278e077a92244.js" defer=""></script><script src="/_next/static/V0kply8eojqLiVuR5gLk1/_buildManifest.js" defer=""></script><script src="/_next/static/V0kply8eojqLiVuR5gLk1/_ssgManifest.js" defer=""></script><script src="/_next/static/V0kply8eojqLiVuR5gLk1/_middlewareManifest.js" defer=""></script></head><body class="iui-body"><div id="__next" data-reactroot=""><div class="app"><div class="sticky-top" style="z-index:10"><div class="portal-header"><header class="iui-page-header"><div class="iui-left"><a id="itwin-platform-header-logo-link" href="/"><div class="iui-header-logo" role="button" tabindex="0"><svg id="header-logo-icon" class="iui-header-button-icon" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M6.341 8.712a.085.085 0 0 0-.062.012c-.03.022-.037.07-.04.137-.006.342-.013.342-.013.678.008.202.05.194.141.242l.394.222c.083.053.11.051.102.196l.01 1.759-.921-.534a.348.348 0 0 0-.112-.046c-.1-.019-.163.048-.16.217-.007.342-.013.25-.013.587.014.226.092.212.27.345l1.173.7a.953.953 0 0 0 .134.063l.087.01v.001h.004l.086-.01a.95.95 0 0 0 .135-.063l1.173-.701c.178-.133.256-.12.27-.345 0-.337-.006-.245-.013-.587.004-.225-.109-.269-.272-.171l-.981.569V9.608c0-.079-.015-.143-.186-.228l-.154-.088-.943-.548a.415.415 0 0 0-.109-.032zm.962-1.332a.535.535 0 1 0 .536.535.535.535 0 0 0-.536-.535zM5.762 2.308a2.98 2.98 0 0 0-3.258 3.32c-2.57.83-2.442 4.505.771 4.531h.253L3.52 8.278c.019-.461.009-.67.62-1.018l2.524-1.508a1.195 1.195 0 0 1 .631-.233 1.72 1.72 0 0 1 .643.233L10.46 7.26c.648.413.578.553.606 1.005-.002.563-.008 1.084-.014 1.613l-.003.28 2.22-.001c3.365 0 2.397-4.517-.785-3.247.113-2.842-2.416-2.806-3.444-1.893.02-1.003-.684-2.739-3.28-2.71zM5.71 1.75c2.477-.037 3.736 1.506 3.795 2.444.437-.406 3.39-.934 3.502 2.01 3.032-.958 4.772 4.57.18 4.57h-2.144l-.005.764v.113a.767.767 0 0 1-.017.132l-.013.044-.018.09a.701.701 0 0 1-.123.249l-.172.154-.02.018-.02.012-.139.1-.151.09v.004l-.176.1-.981.58c-.435.26-1.03.611-1.309.771a3.268 3.268 0 0 1-.362.19.474.474 0 0 1-.394.035 4.222 4.222 0 0 1-.46-.224c-.222-.125-.603-.35-.963-.565l-.32-.192v.006l-1.341-.79c-.32-.226-.51-.347-.523-.8l-.005-.879h-.383c-3.965-.033-3.962-4.67-1.233-5.493A3.545 3.545 0 0 1 5.71 1.751z"></path></svg><span class="iui-label">iTwin Platform</span></div></a></div><div class="iui-right"><a style="text-decoration:none;height:100%" class="desktop-header-button" href="/get-started/"><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-label"><div>Get Started</div></span></button></a><a style="text-decoration:none;height:100%" class="desktop-header-button" href="/apis/"><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-label"><div>Documentation</div></span></button></a><button class="iui-button iui-borderless iui-dropdown iui-header-button iui-active desktop-header-button" type="button" aria-label="Dropdown" aria-current="location"><span class="iui-label"><div>Learning</div></span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iui-icon"><path d="m4.8067 6h6.3953a.27961.27961 0 0 1 .24043.44321l-3.1736 3.45707a.33969.33969 0 0 1 -.48085 0l-3.2217-3.45707a.26909.26909 0 0 1 .24042-.44321z"></path></svg></button><a style="text-decoration:none;height:100%" class="desktop-header-button" href="/samples/"><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-label"><div>Samples</div></span></button></a><a style="text-decoration:none;height:100%" class="desktop-header-button" href="/support/"><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-label"><div>Support</div></span></button></a><button class="iui-button iui-borderless" type="button" id="mobile-header-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon" aria-hidden="true"><g fill-rule="evenodd"><path d="M0,12h16v2H0V12z"></path><path d="M0,7h16v2H0V7z"></path><path d="M0,2h16v2H0V2z"></path></g></svg></button><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-label"><div>Sign In</div></span></button></div></header><div class="header-menu-backdrop" style="display:none"><div class="collapsible-menu"><div class="collapsible-menu-close-area"><button class="iui-button iui-small iui-borderless header-close-button" type="button"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="iui-icon" aria-hidden="true"><path d="m14 0-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6 6-6"></path></svg></button></div><a style="text-decoration:none" href="/get-started/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Get Started</div></span></button></a><a style="text-decoration:none" href="/apis/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Documentation</div></span></button></a><a style="text-decoration:none" href="/tutorials/"><button class="iui-button iui-borderless iui-header-button iui-active hamburger-button" type="button" aria-current="location"><span class="iui-label"><div>Tutorials</div></span></button></a><a style="text-decoration:none" href="/accreditation/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Accreditation</div></span></button></a><a style="text-decoration:none" href="/powered-by-itwin/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Powered by iTwin</div></span></button></a><a style="text-decoration:none" href="/samples/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Samples</div></span></button></a><a style="text-decoration:none" href="/support/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Support</div></span></button></a><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-label"><div>Sign In</div></span></button></div></div></div></div><main class="content"><div id="page" class="container tutorial-container"><div id="tutorial-header"><h1 class="iui-text-headline iui-text-spacing">Customizing the iTwin Viewer - &quot;The Basics&quot;</h1></div><div id="tutorial-content"><div id="menu-button" data-testid="menu-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m16 11.3-1.4 1.4L8 6.1l-6.6 6.6L0 11.3l8-8"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m16 4.7-1.4-1.4L8 9.9 1.4 3.3 0 4.7l8 8z"></path></svg></div><div id="tutorial-side-navigation-pane" class="sticky-container"><div class="sideMenu sticky-element"><div class="sideMenu-large"><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#introduction"><span class="sideMenuItem ">Introduction</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#prerequisites"><span class="sideMenuItem ">Prerequisites</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#1-add-new-itwin-web-viewer-interface-component"><span class="sideMenuItem ">1. Add new iTwin Web Viewer interface component</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#2-your-first-ui-widget"><span class="sideMenuItem ">2. Your first UI Widget</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#3-beyond-hello-world"><span class="sideMenuItem ">3. Beyond Hello World</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#4-changing-the-background-color"><span class="sideMenuItem ">4. Changing the background color</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#continue-learning"><span class="sideMenuItem ">Continue learning</span></a></div></div><div><div class="menuItem-container"><a style="text-decoration:none" href="/tutorials/itwin-viewer-hello-world/#more-resources-that-you-may-like"><span class="sideMenuItem ">More resources that you may like</span></a></div></div></div></div></div><div id="tutorial-content-body"><div id="tutorial-summary-graphical-content"><div class="graphical-content-placeholder"><img src="/images/itwin-viewer-hello-world-sample.gif"/></div></div><div id="tutorial-introduction"><div class="tutorial-introduction-content"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#introduction" id="introduction">Introduction</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">This tutorial will take you through the first steps of customizing your <strong>iTwin Web Viewer</strong>. First you will learn <strong>how to add a new user interface component</strong>. Later you will <strong>customize that component</strong> to change the background color of your viewer.</p></div><div class="tutorial-summary"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#info" id="info">Info</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><div id="tutorial-summary-skill-level"><p class="iui-text-block iui-text-spacing label">Skill level:</p><p class="iui-text-block iui-text-spacing">Basic</p></div><div id="tutorial-summary-duration"><p class="iui-text-block iui-text-spacing label">Duration:</p><p class="iui-text-block iui-text-spacing">30<!-- --> minutes</p></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#prerequisites" id="prerequisites">Prerequisites</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">This tutorial assumes that you already have:</p><ul><li>Your own local source for the iTwin Web Viewer based on the template @itwin/web-viewer<ul><li>Instructions for that can be found <a href="/tutorials/web-application-quick-start" target="_blank">here</a></li></ul></li><li>Configured your local source to open the “House Model” sample iModel.<ul><li>Instructions to use this sample iModel can be found <a href="/tutorials/create-test-imodel-sample" target="_blank">here</a>.</li></ul></li></ul></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="title-placeholder"></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#1-add-new-itwin-web-viewer-interface-component" id="1-add-new-itwin-web-viewer-interface-component">1. Add new iTwin Web Viewer interface component</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">The iTwin Web Viewer viewer template generates several files. To start with, let’s take a look at the <code>App.tsx</code> file. This is where you should start in customizing your iTwin Viewer.</p><p class="iui-text-block iui-text-spacing">To start with <code>App.tsx</code> contains a single react functional component fittingly called <code>App</code>. The <code>App</code> component is responsible for:</p><ol><li>Authenticating the user</li><li>Rendering the <code>Viewer</code> component</li></ol><p class="iui-text-block iui-text-spacing">At the bottom of <code>App.tsx</code> you can see the <code>return</code> statement where the <code>Viewer</code> component is configured. Let’s focus on that for now.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="title-placeholder"></div><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Return statement of App.tsx where the Viewer component is configured</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">JSX</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">return</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>    </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag">div</span><span class="token tag"> </span><span class="token tag token attr-name">className</span><span class="token tag token attr-value token punctuation">=</span><span class="token tag token attr-value token punctuation">&quot;</span><span class="token tag token attr-value">viewer-container</span><span class="token tag token attr-value token punctuation">&quot;</span><span class="token tag token punctuation">&gt;</span><span class="token plain-text">
</span></span><span><span class="token plain-text">      </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag token class-name">Header</span><span class="token tag">
</span></span><span><span class="token tag">        </span><span class="token tag token attr-name">handleLogin</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">onLoginClick</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">        </span><span class="token tag token attr-name">loggedIn</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">isAuthorized</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">        </span><span class="token tag token attr-name">handleLogout</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">onLogoutClick</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">      </span><span class="token tag token punctuation">/&gt;</span><span class="token plain-text">
</span></span><span><span class="token plain-text">      </span><span class="token punctuation">{</span><span>isLoggingIn </span><span class="token operator">?</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>        </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag">span</span><span class="token tag token punctuation">&gt;</span><span class="token plain-text">&quot;Logging in....&quot;</span><span class="token tag token tag token punctuation">&lt;/</span><span class="token tag token tag">span</span><span class="token tag token punctuation">&gt;</span><span>
</span></span><span><span>      </span><span class="token punctuation">)</span><span> </span><span class="token punctuation">:</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>        isAuthorized </span><span class="token operator">&amp;&amp;</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>          </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag token class-name">Viewer</span><span class="token tag">
</span></span><span><span class="token tag">            </span><span class="token tag token attr-name">iTwinId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_ITWIN_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">            </span><span class="token tag token attr-name">iModelId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_IMODEL_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">            </span><span class="token tag token attr-name">authClient</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript token maybe-class-name">AuthorizationClient</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">oidcClient</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">          </span><span class="token tag token punctuation">/&gt;</span><span>
</span></span><span><span>        </span><span class="token punctuation">)</span><span>
</span></span><span><span>      </span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span><span class="token plain-text">    </span><span class="token tag token tag token punctuation">&lt;/</span><span class="token tag token tag">div</span><span class="token tag token punctuation">&gt;</span><span>
</span></span><span><span>  </span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing"><code>App</code> is just a react component. Like any react component, it returns JSX to tell react how to create HTML for the browser to render. Let’s start off by adding some custom code to our JSX. We can render a “Hello World” <code>span</code> above the viewer by simply creating the element above the component. Note that this needs to be surrounded in a <code>div</code> per the single parent rule for react.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Viewer component with &quot;Hello World&quot; span</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">JSX</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag">div</span><span class="token tag"> </span><span class="token tag token attr-name">style</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript"> height</span><span class="token tag token script language-javascript token punctuation">:</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;100%&#x27;</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag token punctuation">&gt;</span><span class="token plain-text">
</span></span><span><span class="token plain-text">  </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag">span</span><span class="token tag token punctuation">&gt;</span><span class="token plain-text">&quot;Hello World&quot;</span><span class="token tag token tag token punctuation">&lt;/</span><span class="token tag token tag">span</span><span class="token tag token punctuation">&gt;</span><span class="token plain-text">
</span></span><span><span class="token plain-text">  </span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag token class-name">Viewer</span><span class="token tag">
</span></span><span><span class="token tag">    </span><span class="token tag token attr-name">iTwinId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_ITWIN_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">    </span><span class="token tag token attr-name">iModelId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_IMODEL_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">    </span><span class="token tag token attr-name">authClient</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript token maybe-class-name">AuthorizationClient</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">oidcClient</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">  </span><span class="token tag token punctuation">/&gt;</span><span class="token plain-text">
</span></span><span><span class="token plain-text"></span><span class="token tag token tag token punctuation">&lt;/</span><span class="token tag token tag">div</span><span class="token tag token punctuation">&gt;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><div class="leading"><h3 class="iui-text-leading iui-text-spacing tutorial-heading"><a href="#11-result" id="11-result">1.1 Result</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3><hr class="solid"/></div><p class="iui-text-block iui-text-spacing"><img src="/images/hello_world_above.png" alt="HelloWorldAbove"/></p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="subheading-placeholder"></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#2-your-first-ui-widget" id="2-your-first-ui-widget">2. Your first UI Widget</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">So far, we haven’t done anything to change the way the viewer works. We’ve only just added a new <code>span</code> element <em>above</em> the viewer. To add our “Hello World” <code>span</code> into the viewer, we need to pass the <code>uiProviders</code> prop to the <code>Viewer</code> component.</p><p class="iui-text-block iui-text-spacing">The <code>uiProviders</code> prop is typed to require an array of objects that implements the <a href="https://www.itwinjs.org/reference/ui-abstract/uiitemsprovider/uiitemsprovider/" target="_blank">UIItemsProvider</a> interface. Passing in the array will allow us to extend the <code>Viewer</code> with custom UI components. To do that, we need to define our <code>MyFirstUiProvider</code> class so that it implements the <code>UiItemsProvider</code> interface. Our new provider will tell the <code>Viewer</code> to include our “Hello world” <code>span</code> within the view.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="title-placeholder"></div><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Passing uiProviders prop to Viewer component</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">JSX</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token tag token tag token punctuation">&lt;</span><span class="token tag token tag token class-name">Viewer</span><span class="token tag">
</span></span><span><span class="token tag">  </span><span class="token tag token attr-name">iTwinId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_ITWIN_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">  </span><span class="token tag token attr-name">iModelId</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript">process</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">env</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token constant">IMJS_IMODEL_ID</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript token operator">?</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token string">&#x27;&#x27;</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">  </span><span class="token tag token attr-name">authClient</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript token maybe-class-name">AuthorizationClient</span><span class="token tag token script language-javascript token punctuation">.</span><span class="token tag token script language-javascript token property-access">oidcClient</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag">  </span><span class="token tag token attr-name">uiProviders</span><span class="token tag token script language-javascript token script-punctuation punctuation">=</span><span class="token tag token script language-javascript token punctuation">{</span><span class="token tag token script language-javascript token punctuation">[</span><span class="token tag token script language-javascript token keyword">new</span><span class="token tag token script language-javascript"> </span><span class="token tag token script language-javascript token class-name">MyFirstUiProvider</span><span class="token tag token script language-javascript token punctuation">(</span><span class="token tag token script language-javascript token punctuation">)</span><span class="token tag token script language-javascript token punctuation">]</span><span class="token tag token script language-javascript token punctuation">}</span><span class="token tag">
</span></span><span><span class="token tag"></span><span class="token tag token punctuation">/&gt;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Create a new file called <code>MyFirstUiProvider.tsx</code> with contents shown in a code snippet.</p><p class="iui-text-block iui-text-spacing">Let’s review that code. We’ve defined our new <code>MyFirstUiProvider</code> class. In the new class we’ve defined <code>public readonly id</code> which is required to distinguish between different providers. Then notice that we’ve defined just one function called <code>provideWidgets</code>. This function will be called several times as the <code>Viewer</code> is building up the user interface. We will return an empty array except for when the <code>location</code> is equal to <code>StagePanelLocation.Right</code> and <code>section</code> is equal to <code>StagePanelSection.Start</code>. In that case, we will return a single widget that will supply our “Hello World” <code>span</code>.</p><p class="iui-text-block iui-text-spacing">Our <code>helloWidget</code> consists of three attributes:</p><ol><li><code>id</code> - used to uniquely identify the widget</li><li><code>label</code> - description label for our widget</li><li><code>getWidgetContent()</code> - returns our custom UI component</li></ol></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">&quot;MyFirstUiProvider.tsx&quot; file content</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">StagePanelSection</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">UiItemsProvider</span><span class="token punctuation">,</span><span>
</span></span><span><span></span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/ui-abstract&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span></span><span class="token keyword">import</span><span> </span><span class="token operator">*</span><span> </span><span class="token keyword">as</span><span> </span><span class="token maybe-class-name">React</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span></span><span class="token keyword">export</span><span> </span><span class="token keyword">class</span><span> </span><span class="token class-name">MyFirstUiProvider</span><span> </span><span class="token keyword">implements</span><span> </span><span class="token class-name">UiItemsProvider</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">readonly</span><span> id </span><span class="token operator">=</span><span> </span><span class="token string">&#x27;MyFirstProviderId&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token function">provideWidgets</span><span class="token punctuation">(</span><span>
</span></span><span><span>    stageId</span><span class="token punctuation">:</span><span> </span><span class="token builtin">string</span><span class="token punctuation">,</span><span>
</span></span><span><span>    stageUsage</span><span class="token punctuation">:</span><span> </span><span class="token builtin">string</span><span class="token punctuation">,</span><span>
</span></span><span><span>    </span><span class="token dom variable">location</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">,</span><span>
</span></span><span><span>    section</span><span class="token operator">?</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">StagePanelSection</span><span>
</span></span><span><span>  </span><span class="token punctuation">)</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">ReadonlyArray</span><span class="token operator">&lt;</span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token operator">&gt;</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>    </span><span class="token keyword">const</span><span> widgets</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span> </span><span class="token operator">=</span><span> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token keyword">if</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>      </span><span class="token dom variable">location</span><span> </span><span class="token operator">===</span><span> </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">.</span><span class="token property-access token maybe-class-name">Right</span><span> </span><span class="token operator">&amp;&amp;</span><span>
</span></span><span><span>      section </span><span class="token operator">===</span><span> </span><span class="token maybe-class-name">StagePanelSection</span><span class="token punctuation">.</span><span class="token property-access token maybe-class-name">Start</span><span>
</span></span><span><span>    </span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>      </span><span class="token keyword">const</span><span> helloWidget</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">AbstractWidgetProps</span><span> </span><span class="token operator">=</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>        id</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;HelloWidget&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>        label</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;Hello&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>        </span><span class="token function">getWidgetContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>          </span><span class="token keyword">return</span><span> </span><span class="token operator">&lt;</span><span>span</span><span class="token operator">&gt;</span><span class="token string">&quot;Hello World&quot;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span>span</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span>
</span></span><span><span>        </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span>
</span></span><span><span>      </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>      widgets</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span>helloWidget</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span>    </span><span class="token punctuation">}</span><span>
</span></span><span>
</span><span><span>    </span><span class="token keyword">return</span><span> widgets</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token punctuation">}</span><span>
</span></span><span><span></span><span class="token punctuation">}</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">At this point we need to import <code>MyFirstUiProvider</code> at the top of file <code>App.tsx</code>.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">MyFirstUiProvider import</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span> </span><span class="token maybe-class-name">MyFirstUiProvider</span><span> </span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&quot;./MyFirstUiProvider&quot;</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Finally, let’s clean up the <code>span</code> and <code>div</code> that we added directly into the <code>App</code> component earlier.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Return statement in App.tsx should look like this:</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">return</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>  </span><span class="token operator">&lt;</span><span>div className</span><span class="token operator">=</span><span class="token string">&quot;viewer-container&quot;</span><span class="token operator">&gt;</span><span>
</span></span><span><span>    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Header</span><span>
</span></span><span><span>      handleLogin</span><span class="token operator">=</span><span class="token punctuation">{</span><span>onLoginClick</span><span class="token punctuation">}</span><span>
</span></span><span><span>      loggedIn</span><span class="token operator">=</span><span class="token punctuation">{</span><span>isAuthorized</span><span class="token punctuation">}</span><span>
</span></span><span><span>      handleLogout</span><span class="token operator">=</span><span class="token punctuation">{</span><span>onLogoutClick</span><span class="token punctuation">}</span><span>
</span></span><span><span>    </span><span class="token operator">/</span><span class="token operator">&gt;</span><span>
</span></span><span><span>    </span><span class="token punctuation">{</span><span>isLoggingIn </span><span class="token operator">?</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>      </span><span class="token operator">&lt;</span><span>span</span><span class="token operator">&gt;</span><span class="token string">&quot;Logging in....&quot;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span>span</span><span class="token operator">&gt;</span><span>
</span></span><span><span>    </span><span class="token punctuation">)</span><span> </span><span class="token punctuation">:</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>      isAuthorized </span><span class="token operator">&amp;&amp;</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>        </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Viewer</span><span>
</span></span><span><span>          iTwinId</span><span class="token operator">=</span><span class="token punctuation">{</span><span>process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">IMJS_ITWIN_ID</span><span> </span><span class="token operator">?</span><span class="token operator">?</span><span> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">}</span><span>
</span></span><span><span>          iModelId</span><span class="token operator">=</span><span class="token punctuation">{</span><span>process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">IMJS_IMODEL_ID</span><span> </span><span class="token operator">?</span><span class="token operator">?</span><span> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">}</span><span>
</span></span><span><span>          authClient</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">AuthorizationClient</span><span class="token punctuation">.</span><span class="token property-access">oidcClient</span><span class="token punctuation">}</span><span>
</span></span><span><span>          uiProviders</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token keyword">new</span><span> </span><span class="token class-name">MyFirstUiProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span>
</span></span><span><span>        </span><span class="token operator">/</span><span class="token operator">&gt;</span><span>
</span></span><span><span>      </span><span class="token punctuation">)</span><span>
</span></span><span><span>    </span><span class="token punctuation">)</span><span class="token punctuation">}</span><span>
</span></span><span><span>  </span><span class="token operator">&lt;</span><span class="token operator">/</span><span>div</span><span class="token operator">&gt;</span><span>
</span></span><span><span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><div class="leading"><h3 class="iui-text-leading iui-text-spacing tutorial-heading"><a href="#21-result" id="21-result">2.1 Result</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3><hr class="solid"/></div><p class="iui-text-block iui-text-spacing">Now we have our “Hello World” <code>span</code> displaying in a panel within the <code>Viewer</code> component. It should look like this:</p><p class="iui-text-block iui-text-spacing"><img src="/images/hello_world_widget.png" alt="HelloWorldWidget"/></p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="subheading-placeholder"></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#3-beyond-hello-world" id="3-beyond-hello-world">3. Beyond Hello World</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">Saying hello to the world can be fun but we need to get past that. For this next step we’ll swap out our trivial <code>helloWidget</code> with something a little more interactive: a <a href="https://www.itwinjs.org/reference/ui-core/toggle/toggle/" target="_blank">Toggle</a>. Eventually this toggle will control the background color, so we’ll name our new widget <code>backgroundColorWidget</code>. Instead of returning a <code>span</code> we’ll return a <code>Toggle</code>.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="title-placeholder"></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Start by navigating back to <code>MyFirstUiProvider.tsx</code> and adding an import for <code>Toggle</code> at the top of the file.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Toggle import</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span> </span><span class="token maybe-class-name">Toggle</span><span> </span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/ui-core&#x27;</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Next switch out the <code>helloWidget</code> with the new <code>backgroundColorWidget</code>.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Switch out the helloWidget with the new backgroundColorWidget</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">if</span><span> </span><span class="token punctuation">(</span><span class="token dom variable">location</span><span> </span><span class="token operator">===</span><span> </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">.</span><span class="token property-access token maybe-class-name">Right</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token keyword">const</span><span> backgroundColorWidget</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">AbstractWidgetProps</span><span> </span><span class="token operator">=</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>    id</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;BackgroundColorWidget&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>    label</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;Background Color Toggle&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>    </span><span class="token function">getWidgetContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>      </span><span class="token keyword">return</span><span> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Toggle</span><span> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span>
</span></span><span><span>    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>  widgets</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span>backgroundColorWidget</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span></span><span class="token punctuation">}</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Notice the only significant difference is that <code>getWidgetContent</code> is now returning a <code>Toggle</code>. It doesn’t do anything interesting yet, but it should look like this:</p><p class="iui-text-block iui-text-spacing"><img src="/images/background_color_toggle.png" alt="Background Color Toggle"/></p></div></div><div class="tutorial-content-section-actions dark sticky-container"></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#4-changing-the-background-color" id="4-changing-the-background-color">4. Changing the background color</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><p class="iui-text-block iui-text-spacing">For this last step, let’s put our new toggle to work. We want the toggle to control the background color in the view of our house iModel. When the toggle is on, we’ll override the background color to “skyblue”. When the toggle is off, we’ll change the background color back to its original color.</p><p class="iui-text-block iui-text-spacing">To do this, we need to pass the <code>onChange</code> prop to the <code>Toggle</code> component.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="title-placeholder"></div><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Passing the onChange prop to the Toggle component</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">return</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>  </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Toggle</span><span>
</span></span><span><span>    onChange</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">toggle</span><span class="token punctuation">)</span><span> </span><span class="token arrow operator">=&gt;</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>      </span><span class="token keyword">if</span><span> </span><span class="token punctuation">(</span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">toggledOnce</span><span> </span><span class="token operator">===</span><span> </span><span class="token boolean">false</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>        </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">originalColor</span><span> </span><span class="token operator">=</span><span>
</span></span><span><span>          </span><span class="token maybe-class-name">IModelApp</span><span class="token punctuation">.</span><span class="token property-access">viewManager</span><span class="token punctuation">.</span><span class="token property-access">selectedView</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token property-access">displayStyle</span><span class="token punctuation">.</span><span class="token property-access">backgroundColor</span><span class="token punctuation">.</span><span class="token property-access">tbgr</span><span class="token punctuation">;</span><span>
</span></span><span><span>        </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">toggledOnce</span><span> </span><span class="token operator">=</span><span> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span>
</span></span><span><span>      </span><span class="token punctuation">}</span><span>
</span></span><span>
</span><span><span>      </span><span class="token keyword">const</span><span> color </span><span class="token operator">=</span><span> toggle
</span></span><span><span>        </span><span class="token operator">?</span><span> </span><span class="token maybe-class-name">ColorDef</span><span class="token punctuation">.</span><span class="token method function property-access">computeTbgrFromString</span><span class="token punctuation">(</span><span class="token string">&#x27;skyblue&#x27;</span><span class="token punctuation">)</span><span>
</span></span><span><span>        </span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">originalColor</span><span class="token punctuation">;</span><span>
</span></span><span><span>      </span><span class="token maybe-class-name">IModelApp</span><span class="token punctuation">.</span><span class="token property-access">viewManager</span><span class="token punctuation">.</span><span class="token property-access">selectedView</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token method function property-access">overrideDisplayStyle</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span>
</span></span><span><span>        backgroundColor</span><span class="token punctuation">:</span><span> color</span><span class="token punctuation">,</span><span>
</span></span><span><span>      </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span>    </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span>
</span></span><span><span>  </span><span class="token operator">/</span><span class="token operator">&gt;</span><span>
</span></span><span><span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">Since we’re using two new static variables here, we need to add this to to our <code>MyFirstUiProvider</code> class at the beginning of our definition.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Adding toggledOnce and originalColor variables to MyFirstUiProvider class</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">export</span><span> </span><span class="token keyword">class</span><span> </span><span class="token class-name">MyFirstUiProvider</span><span> </span><span class="token keyword">implements</span><span> </span><span class="token class-name">UiItemsProvider</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">readonly</span><span> id </span><span class="token operator">=</span><span> </span><span class="token string">&#x27;HelloWorldProvider&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">static</span><span> toggledOnce</span><span class="token punctuation">:</span><span> </span><span class="token builtin">boolean</span><span> </span><span class="token operator">=</span><span> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">static</span><span> originalColor</span><span class="token punctuation">:</span><span> </span><span class="token builtin">number</span><span class="token punctuation">;</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><p class="iui-text-block iui-text-spacing">The first condition checks for only the first trigger of the toggle using boolean <code>toggledOnce</code>. If true, we need to store the original color in static variable <code>MyFirstUiProvider.originalColor</code>. We are using the global singleton <a href="https://www.itwinjs.org/reference/imodeljs-frontend/imodelapp/imodelapp/" target="_blank">IModelApp</a> to get to the viewManager that can provide the current <code>backgroundColor</code>. We also need to flip variable <code>MyFirstUiProvider.toggledOnce</code> to true to make sure we only store the original color once.</p><p class="iui-text-block iui-text-spacing">Notice we’re using the function <a href="https://www.itwinjs.org/reference/imodeljs-frontend/views/viewport/overridedisplaystyle/" target="_blank">overrideDisplayStyle()</a> on the currently selected view. To get the view, we use the same global singleton <a href="https://www.itwinjs.org/reference/imodeljs-frontend/imodelapp/imodelapp/" target="_blank">IModelApp</a> to get to the <a href="https://www.itwinjs.org/reference/imodeljs-frontend/views/viewmanager/" target="_blank">viewManager</a>.</p><p class="iui-text-block iui-text-spacing">Our completed <code>MyFirstUiProvider.tsx</code> file should look similar to the one shown in a code snippet.</p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="sticky-element"><div class="action"><div class="action-title"><p class="iui-text-block iui-text-spacing">Completed MyFirstUiProvider.tsx file</p><hr class="solid"/></div></div><div class="action"><div style="width:calc(100% - 44px);margin:0 22px 22px"><div class="iui-codeblock copy-code-block dark"><div class="iui-title-bar"><span class="iui-title">TYPESCRIPT</span><button class="iui-button iui-borderless" type="button" aria-label="Copy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-icon"><path d="m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"></path></svg><span class="iui-label">Copy</span></button></div><pre class="iui-codeblock-content"><pre style="background-color:#fff"><code><span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span> </span><span class="token maybe-class-name">ColorDef</span><span> </span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/imodeljs-common&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span><span></span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span> </span><span class="token maybe-class-name">IModelApp</span><span> </span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/imodeljs-frontend&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span><span></span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">StagePanelSection</span><span class="token punctuation">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">UiItemsProvider</span><span class="token punctuation">,</span><span>
</span></span><span><span></span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/ui-abstract&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span><span></span><span class="token keyword">import</span><span> </span><span class="token punctuation">{</span><span> </span><span class="token maybe-class-name">Toggle</span><span> </span><span class="token punctuation">}</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;@bentley/ui-core&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span></span><span class="token keyword">import</span><span> </span><span class="token operator">*</span><span> </span><span class="token keyword">as</span><span> </span><span class="token maybe-class-name">React</span><span> </span><span class="token keyword">from</span><span> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span></span><span class="token keyword">export</span><span> </span><span class="token keyword">class</span><span> </span><span class="token class-name">MyFirstUiProvider</span><span> </span><span class="token keyword">implements</span><span> </span><span class="token class-name">UiItemsProvider</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">readonly</span><span> id </span><span class="token operator">=</span><span> </span><span class="token string">&#x27;HelloWorldProvider&#x27;</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">static</span><span> toggledOnce</span><span class="token punctuation">:</span><span> </span><span class="token builtin">boolean</span><span> </span><span class="token operator">=</span><span> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token keyword">static</span><span> originalColor</span><span class="token punctuation">:</span><span> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token keyword">public</span><span> </span><span class="token function">provideWidgets</span><span class="token punctuation">(</span><span>
</span></span><span><span>    stageId</span><span class="token punctuation">:</span><span> </span><span class="token builtin">string</span><span class="token punctuation">,</span><span>
</span></span><span><span>    stageUsage</span><span class="token punctuation">:</span><span> </span><span class="token builtin">string</span><span class="token punctuation">,</span><span>
</span></span><span><span>    </span><span class="token dom variable">location</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">,</span><span>
</span></span><span><span>    section</span><span class="token operator">?</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">StagePanelSection</span><span>
</span></span><span><span>  </span><span class="token punctuation">)</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">ReadonlyArray</span><span class="token operator">&lt;</span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token operator">&gt;</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>    </span><span class="token keyword">const</span><span> widgets</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">AbstractWidgetProps</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span> </span><span class="token operator">=</span><span> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span>
</span></span><span><span>    </span><span class="token keyword">if</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>      </span><span class="token dom variable">location</span><span> </span><span class="token operator">===</span><span> </span><span class="token maybe-class-name">StagePanelLocation</span><span class="token punctuation">.</span><span class="token property-access token maybe-class-name">Right</span><span> </span><span class="token operator">&amp;&amp;</span><span>
</span></span><span><span>      section </span><span class="token operator">===</span><span> </span><span class="token maybe-class-name">StagePanelSection</span><span class="token punctuation">.</span><span class="token property-access token maybe-class-name">Start</span><span>
</span></span><span><span>    </span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>      </span><span class="token keyword">const</span><span> backgroundColorWidget</span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">AbstractWidgetProps</span><span> </span><span class="token operator">=</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>        id</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;BackgroundColorWidget&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>        label</span><span class="token punctuation">:</span><span> </span><span class="token string">&#x27;Background Color Toggle&#x27;</span><span class="token punctuation">,</span><span>
</span></span><span><span>        </span><span class="token function">getWidgetContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>          </span><span class="token keyword">return</span><span> </span><span class="token punctuation">(</span><span>
</span></span><span><span>            </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Toggle</span><span>
</span></span><span><span>              onChange</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">toggle</span><span class="token punctuation">)</span><span> </span><span class="token arrow operator">=&gt;</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>                </span><span class="token keyword">if</span><span> </span><span class="token punctuation">(</span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">toggledOnce</span><span> </span><span class="token operator">===</span><span> </span><span class="token boolean">false</span><span class="token punctuation">)</span><span> </span><span class="token punctuation">{</span><span>
</span></span><span><span>                  </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">originalColor</span><span> </span><span class="token operator">=</span><span>
</span></span><span><span>                    </span><span class="token maybe-class-name">IModelApp</span><span class="token punctuation">.</span><span class="token property-access">viewManager</span><span class="token punctuation">.</span><span class="token property-access">selectedView</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token property-access">displayStyle</span><span class="token punctuation">.</span><span class="token property-access">backgroundColor</span><span class="token punctuation">.</span><span class="token property-access">tbgr</span><span class="token punctuation">;</span><span>
</span></span><span><span>                  </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">toggledOnce</span><span> </span><span class="token operator">=</span><span> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span>
</span></span><span><span>                </span><span class="token punctuation">}</span><span>
</span></span><span>
</span><span><span>                </span><span class="token keyword">const</span><span> color </span><span class="token operator">=</span><span> toggle
</span></span><span><span>                  </span><span class="token operator">?</span><span> </span><span class="token maybe-class-name">ColorDef</span><span class="token punctuation">.</span><span class="token method function property-access">computeTbgrFromString</span><span class="token punctuation">(</span><span class="token string">&#x27;skyblue&#x27;</span><span class="token punctuation">)</span><span>
</span></span><span><span>                  </span><span class="token punctuation">:</span><span> </span><span class="token maybe-class-name">MyFirstUiProvider</span><span class="token punctuation">.</span><span class="token property-access">originalColor</span><span class="token punctuation">;</span><span>
</span></span><span><span>                </span><span class="token maybe-class-name">IModelApp</span><span class="token punctuation">.</span><span class="token property-access">viewManager</span><span class="token punctuation">.</span><span class="token property-access">selectedView</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token method function property-access">overrideDisplayStyle</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span>
</span></span><span><span>                  backgroundColor</span><span class="token punctuation">:</span><span> color</span><span class="token punctuation">,</span><span>
</span></span><span><span>                </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span>              </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span>
</span></span><span><span>            </span><span class="token operator">/</span><span class="token operator">&gt;</span><span>
</span></span><span><span>          </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span>        </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span>
</span></span><span><span>      </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span>
</span></span><span>
</span><span><span>      widgets</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span>backgroundColorWidget</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span>
</span></span><span><span>    </span><span class="token punctuation">}</span><span>
</span></span><span>
</span><span><span>    </span><span class="token keyword">return</span><span> widgets</span><span class="token punctuation">;</span><span>
</span></span><span><span>  </span><span class="token punctuation">}</span><span>
</span></span><span><span></span><span class="token punctuation">}</span></span></code></pre></pre></div></div></div></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><div class="leading"><h3 class="iui-text-leading iui-text-spacing tutorial-heading"><a href="#51-result" id="51-result">5.1 Result</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3><hr class="solid"/></div><p class="iui-text-block iui-text-spacing">Result when the toggle is on:</p><p class="iui-text-block iui-text-spacing"><img src="/images/background_toggled_blue.png" alt="Background blue"/></p><p class="iui-text-block iui-text-spacing">Result when the toggle is off:</p><p class="iui-text-block iui-text-spacing"><img src="/images/original_background_color.png" alt="Background original"/></p></div></div><div class="tutorial-content-section-actions dark sticky-container"><div class="subheading-placeholder"></div></div></div><div class="tutorial-content-section"><div class="tutorial-content-section-description sticky-container"><div class="sticky-element"><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#continue-learning" id="continue-learning">Continue learning</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><div style="display:flex;gap:22px;flex-wrap:wrap;margin-bottom:22px"><a style="text-decoration:none" href="/tutorials/adding-showcase-widgets-to-your-itwin-viewer/"><div class="iui-tile tutorial-tile"><div class="iui-thumbnail"><div class="iui-picture" style="background-image:url(/images/view_attributes_ported_results.png)"></div></div><div class="iui-content"><div class="iui-name"><span class="iui-name-label">Adding showcase widgets to your iTwin Viewer</span></div><div class="iui-description">This tutorial will take widgets from the sample showcase and add them into your iTwin Viewer using the `uiProviders` prop.</div></div></div></a><a style="text-decoration:none" href="/tutorials/web-application-quick-start/"><div class="iui-tile tutorial-tile"><div class="iui-thumbnail"><div class="iui-picture" style="background-image:url(/images/retail-tutorial-sample-small.png)"></div></div><div class="iui-content"><div class="iui-name"><span class="iui-name-label">Start building a Viewer App</span></div><div class="iui-description">This quick start is intended to help you get started with using iTwin Platform visualization components. By the end of this walk-through, you will be able to build and run a web application for viewing an infrastructure digital twin (iTwin).</div></div></div></a></div><h2 class="iui-text-title iui-text-spacing tutorial-heading title"><a href="#more-resources-that-you-may-like" id="more-resources-that-you-may-like">More resources that you may like</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2><div style="display:flex;gap:22px;flex-wrap:wrap;margin-bottom:22px"><div class="iui-tile tutorial-tile resource-tile"><div class="iui-content"><div class="iui-name"><a style="text-decoration:none" target="_blank" href="/tutorials/create-test-imodel-sample/"><span class="iui-name-label">Create a test iModel from a Bentley provided sample</span></a></div><div class="iui-description"><div>The quickest way to get access to a cloud hosted iModel is by creating an iModel seeded with Bentley provided sample data.</div></div></div></div><div class="iui-tile tutorial-tile resource-tile"><div class="iui-content"><div class="iui-name"><a style="text-decoration:none" target="_blank" href="/tutorials/create-test-imodel-sample/#house-sample"><span class="iui-name-label">Sample House Model</span></a></div><div class="iui-description"><div>Bentley provided sample of a House for test iModel creation.</div></div></div></div><div class="iui-tile tutorial-tile resource-tile"><div class="iui-content"><div class="iui-name"><a style="text-decoration:none" target="_blank" href="https://www.itwinjs.org/reference/ui-abstract/uiitemsprovider/uiitemsprovider/"><span class="iui-name-label">UI Provider</span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4L10.6 0M16 16V7h-1v8H1V1h8V0H0v16z"></path></svg></a></div><div class="iui-description"><div>Describes interface of objects that want to provide UI component to the running IModelApp.</div></div></div></div><div class="iui-tile tutorial-tile resource-tile"><div class="iui-content"><div class="iui-name"><a style="text-decoration:none" target="_blank" href="https://www.itwinjs.org/reference/imodeljs-frontend/imodelapp/imodelapp/"><span class="iui-name-label">IModelApp</span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4L10.6 0M16 16V7h-1v8H1V1h8V0H0v16z"></path></svg></a></div><div class="iui-description"><div>Global singleton that connects the user interface with the iTwin.js services.</div></div></div></div><div class="iui-tile tutorial-tile resource-tile"><div class="iui-content"><div class="iui-name"><a style="text-decoration:none" target="_blank" href="https://www.itwinjs.org/sandboxes/"><span class="iui-name-label">Visit the iTwin Code Sandbox</span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4L10.6 0M16 16V7h-1v8H1V1h8V0H0v16z"></path></svg></a></div><div class="iui-description"><div>The iTwin Code Sandbox provides many samples demonstrating options for customizing the iTwin viewer.</div></div></div></div></div></div></div></div></div></div></div></main><footer class="iui-legal-footer"><ul><li>© <!-- -->2022<!-- --> Bentley Systems, Incorporated</li><li><span class="iui-separator"></span><a href="https://connect-agreementportal.bentley.com/AgreementApp/Home/Eula/view/readonly/BentleyConnect" target="_blank" rel="noreferrer">Terms of service</a></li><li><span class="iui-separator"></span><a href="https://www.bentley.com/en/privacy-policy" target="_blank" rel="noreferrer">Privacy</a></li><li><span class="iui-separator"></span><a href="https://www.bentley.com/en/terms-of-use-and-select-online-agreement" target="_blank" rel="noreferrer">Terms of use</a></li><li><span class="iui-separator"></span><a href="https://www.bentley.com/en/cookie-policy" target="_blank" rel="noreferrer">Cookies</a></li><li><span class="iui-separator"></span><a href="https://connect.bentley.com/Legal" target="_blank" rel="noreferrer">Legal notices</a></li></ul></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/tutorials/itwin-viewer-hello-world","query":{},"buildId":"V0kply8eojqLiVuR5gLk1","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>