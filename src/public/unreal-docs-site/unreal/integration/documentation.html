<!DOCTYPE html><html class="iui-theme-light" lang="en"><head><meta charSet="utf-8"/><meta name="author" content="Bentley Systems"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/favicon.ico"/><title>Documentation - iTwin Unreal Integration | iTwin Platform</title><meta name="next-head-count" content="6"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K95F6GW');</script><style>@layer global-overrides, itwinui;</style><link rel="preload" href="/unreal-docs-site/static/css/6a68c8a7b2a77f53.css" as="style"/><link rel="stylesheet" href="/unreal-docs-site/static/css/6a68c8a7b2a77f53.css" data-n-g=""/><link rel="preload" href="/unreal-docs-site/static/css/99338c7953687cf2.css" as="style"/><link rel="stylesheet" href="/unreal-docs-site/static/css/99338c7953687cf2.css" data-n-g=""/><link rel="preload" href="/unreal-docs-site/static/css/f0cd2b2bf7c25b51.css" as="style"/><link rel="stylesheet" href="/unreal-docs-site/static/css/f0cd2b2bf7c25b51.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/unreal-docs-site/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/unreal-docs-site/static/chunks/webpack-5260ea72744590ab.js" defer=""></script><script src="/unreal-docs-site/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/unreal-docs-site/static/chunks/main-557073a0905b564b.js" defer=""></script><script src="/unreal-docs-site/static/chunks/pages/_app-6b8898c21a2e4b95.js" defer=""></script><script src="/unreal-docs-site/static/chunks/8670-b234e6d64ae1c03d.js" defer=""></script><script src="/unreal-docs-site/static/chunks/9149-291b03257a78519e.js" defer=""></script><script src="/unreal-docs-site/static/chunks/1890-8899679a21c19c06.js" defer=""></script><script src="/unreal-docs-site/static/chunks/6821-a9a6b75108c534f7.js" defer=""></script><script src="/unreal-docs-site/static/chunks/6198-937305f2e4c7e571.js" defer=""></script><script src="/unreal-docs-site/static/chunks/9332-d9571a93b65b4eb1.js" defer=""></script><script src="/unreal-docs-site/static/chunks/1086-f3437467cb4ff40d.js" defer=""></script><script src="/unreal-docs-site/static/chunks/2485-2143135845abb0ac.js" defer=""></script><script src="/unreal-docs-site/static/chunks/5448-4dfa443ff6dfa78d.js" defer=""></script><script src="/unreal-docs-site/static/chunks/8865-f4e98f095a7b2803.js" defer=""></script><script src="/unreal-docs-site/static/chunks/882-4fc97da7d656f672.js" defer=""></script><script src="/unreal-docs-site/static/chunks/6100-98b32e1c5282ca60.js" defer=""></script><script src="/unreal-docs-site/static/chunks/3939-f76c7e1ca80e79df.js" defer=""></script><script src="/unreal-docs-site/static/chunks/3493-45e74e7e89d7db81.js" defer=""></script><script src="/unreal-docs-site/static/chunks/7514-f8c524508d2c9036.js" defer=""></script><script src="/unreal-docs-site/static/chunks/5200-afe4cd317e64bcbe.js" defer=""></script><script src="/unreal-docs-site/static/chunks/2053-3763889f2f8b423c.js" defer=""></script><script src="/unreal-docs-site/static/chunks/8704-ab7df28feeebaa7f.js" defer=""></script><script src="/unreal-docs-site/static/chunks/pages/unreal/integration/%5Btab%5D-4019dfedf23c1531.js" defer=""></script><script src="/unreal-docs-site/static/4I2YaoF9Uf026tEb78Qcd/_buildManifest.js" defer=""></script><script src="/unreal-docs-site/static/4I2YaoF9Uf026tEb78Qcd/_ssgManifest.js" defer=""></script></head><body class="iui-body portal-root"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K95F6GW"
            height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="app"><div class="sticky-top" style="z-index:10"><div class="portal-header dark-blue" data-theme="dark"><header class="iui-page-header page-header"><div class="iui-left"><a id="itwin-platform-header-logo-link" href="/"><div class="iui-header-logo" role="button" tabindex="0"><svg id="header-logo-icon" class="iui-header-button-icon" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15.997 3.95a1.405 1.405 0 0 0-.682-1.122L11.901.802a1.397 1.397 0 0 0-1.427 0L10.3.906l-1.017.604L7.06 2.828a1.404 1.404 0 0 0-.684 1.202v1.113l-.85-.504a1.397 1.397 0 0 0-1.427 0l-2.157 1.28-.995.59-.262.156A1.404 1.404 0 0 0 0 7.867v4.103c0 .027.001.054.003.08a1.405 1.405 0 0 0 .682 1.122l3.414 2.026a1.397 1.397 0 0 0 1.427 0l.175-.104 1.017-.604 2.222-1.318a1.404 1.404 0 0 0 .685-1.202v-1.113l.85.504a1.397 1.397 0 0 0 1.426 0l2.157-1.28.996-.59.262-.156A1.404 1.404 0 0 0 16 8.133V4.03c0-.027-.001-.054-.003-.08zM4.82 6.619a.744.744 0 1 1-.744.744.744.744 0 0 1 .744-.744zm2.037 6.375-.3.184-1.071.66-.367.227-.19.117a.174.174 0 0 1-.043.02.253.253 0 0 1-.173-.012l-.017-.008-.103-.064-1.825-1.124V11.86s.006-.244.316-.067l1.126.692v-2.428l-.701-.433V8.492s.006-.244.317-.066l1.582.973v3.091l1.132-.696c.31-.177.317.067.317.067zm8.548-7.889v3.028a.807.807 0 0 1-.393.69l-.262.156-.996.591-2.156 1.28a.802.802 0 0 1-.82 0l-1.153-.685V7.867a1.404 1.404 0 0 0-.685-1.202l-1.124-.667-.846-.502V4.03a.807.807 0 0 1 .393-.69L9.585 2.02l1.018-.604.175-.103a.803.803 0 0 1 .82 0l3.414 2.025a.814.814 0 0 1 .392.645l.001.046zm-3.958-2.713 2.157 1.329V5.06s-.008.288-.375.078L11.9 4.32v2.87l.829.511v1.34s-.007.288-.374.078l-1.87-1.15V4.316l-1.338.822c-.367.21-.374-.078-.374-.078V3.72l.354-.217 1.266-.78.434-.268.224-.138a.205.205 0 0 1 .05-.025.299.299 0 0 1 .205.016l.02.01z"></path></svg><span class="iui-label"><strong>iTwin Platform</strong></span></div></a></div><div class="iui-right"><a class="iui-button iui-borderless iui-header-button desktop-header-button" type="button" href="/get-started"><span class="iui-button-label"><div>Get Started</div></span></a><a class="iui-button iui-borderless iui-header-button iui-active desktop-header-button" type="button" aria-current="location" href="/apis"><span class="iui-button-label"><div>Documentation</div></span></a><button class="iui-button iui-borderless iui-dropdown iui-header-button iui-header-dropdown-button desktop-header-button" type="button" aria-label="Dropdown"><span class="iui-button-label"><div>Learning</div></span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iui-button-icon"><path d="m4.8067 6h6.3953a.27961.27961 0 0 1 .24043.44321l-3.1736 3.45707a.33969.33969 0 0 1 -.48085 0l-3.2217-3.45707a.26909.26909 0 0 1 .24042-.44321z"></path></svg></button><a class="iui-button iui-borderless iui-header-button desktop-header-button" type="button" href="/samples"><span class="iui-button-label"><div>Samples</div></span></a><button class="iui-button iui-borderless iui-dropdown iui-header-button iui-header-dropdown-button desktop-header-button" type="button" aria-label="Dropdown"><span class="iui-button-label"><div>Support</div></span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iui-button-icon"><path d="m4.8067 6h6.3953a.27961.27961 0 0 1 .24043.44321l-3.1736 3.45707a.33969.33969 0 0 1 -.48085 0l-3.2217-3.45707a.26909.26909 0 0 1 .24042-.44321z"></path></svg></button><button class="iui-button iui-borderless" type="button" id="mobile-header-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="iui-button-icon" aria-hidden="true"><g fill-rule="evenodd"><path d="M0,12h16v2H0V12z"></path><path d="M0,7h16v2H0V7z"></path><path d="M0,2h16v2H0V2z"></path></g></svg></button><button class="iui-button iui-borderless iui-header-button desktop-header-button" type="button"><span class="iui-button-label"><div>Sign In</div></span></button></div></header><div class="header-menu-backdrop" style="display:none"><div class="collapsible-menu"><div class="collapsible-menu-close-area"><button class="iui-button iui-borderless iui-small header-close-button" type="button"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="iui-button-icon" aria-hidden="true"><path d="m14 0-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6 6-6"></path></svg></button></div><a class="hamburger-nav-link" href="/get-started/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Get Started</div></span></button></a><a class="hamburger-nav-link" href="/apis/"><button class="iui-button iui-borderless iui-header-button iui-active hamburger-button" type="button" aria-current="location"><span class="iui-button-label"><div>Documentation</div></span></button></a><a class="hamburger-nav-link" href="/tutorials/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Tutorials</div></span></button></a><a class="hamburger-nav-link" href="/accreditation/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Accreditation</div></span></button></a><a class="hamburger-nav-link" href="/powered-by-itwin/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Powered by iTwin</div></span></button></a><a class="hamburger-nav-link" href="/samples/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Samples</div></span></button></a><a class="hamburger-nav-link" href="/support/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Get Support</div></span></button></a><a class="hamburger-nav-link" href="https://itwinplatform.ideas.aha.io/"><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Submit an Idea</div></span><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="iui-button-icon"><path d="m16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4-1.9-1.9m5.4 16v-9h-1v8h-14v-14h8v-1h-9v16z"></path></svg></button></a><button class="iui-button iui-borderless iui-header-button hamburger-button" type="button"><span class="iui-button-label"><div>Sign In</div></span></button></div></div></div></div><main class="content"><div id="page" class="api-documentation page-content-container"><div><div id="page-header-with-breadcrumbs"><div class="page-header-content-container"><nav class="iui-breadcrumbs breadcrumbs" aria-label="Breadcrumb"><ol class="iui-breadcrumbs-list"><li class="iui-breadcrumbs-item iui-breadcrumbs-item-overrides"><a href="/apis/">Documentation</a></li><li class="iui-breadcrumbs-separator" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m4.7 0-1.4 1.4 6.6 6.6-6.6 6.6 1.4 1.4 8-8z"></path></svg></li><li class="iui-breadcrumbs-item iui-breadcrumbs-item-overrides"><a href="/unreal/">iTwin for Unreal</a></li><li class="iui-breadcrumbs-separator" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m4.7 0-1.4 1.4 6.6 6.6-6.6 6.6 1.4 1.4 8-8z"></path></svg></li><li class="iui-breadcrumbs-item iui-breadcrumbs-item-overrides"><span aria-current="location">iTwin Unreal Integration</span></li></ol></nav><div class="page-header-content"><div class="api-documentation-header"><h1 class="iui-text-headline iui-text-spacing">Documentation</h1></div></div></div></div><div id="page-body"><div id="menu-button" data-testid="menu-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m16 11.3-1.4 1.4L8 6.1l-6.6 6.6L0 11.3l8-8"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m16 4.7-1.4-1.4L8 9.9 1.4 3.3 0 4.7l8 8z"></path></svg></div><div id="api-documentation-side-navigation-pane" class="sticky-containerfalse"><div class="sideMenu sticky-element"><div class="sideMenu-large"><div class="sideMenu-1"><div class="menuItem-container"><a href="/unreal/integration/overview/"><span class="sideMenuItem-1"><span>Overview</span></span></a></div></div><div class="sideMenu-1"><div class="menuItem-container"><a href="/unreal/integration/documentation/"><span class="sideMenuItem-1 active"><span>Documentation</span></span></a></div></div><div class="sideMenu-1"><div class="menuItem-container"><a href="/unreal/integration/tutorials/"><span class="sideMenuItem-1"><span>Tutorials</span></span></a></div></div><div class="sideMenu-1"><div class="menuItem-container"><a href="/unreal/integration/blueprint-api-reference/"><span class="sideMenuItem-1"><span>Blueprint API Reference</span></span></a></div></div></div></div></div><div id="api-documentation-page-content"><div><h1 class="iui-text-headline iui-text-spacing documentation-headline" id="itwinexporterfordatasmith">iTwin Exporter for Datasmith</h1>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The iTwin Exporter for Datasmith provides a viewer interface and
tools to load and export iTwin data as a <code class="iui-code">.udatasmith</code> file and
the corresponding Datasmith <code class="iui-code">_Assets</code> directory. Use Unreal Engine&#x27;s Datasmith importer plugin
and our iTwin Datasmith plugin to import the exported datasmith content.
The Datasmith scene can be created with all of your geometric element metadata embedded for accessing
at runtime in Unreal Engine and at import time when using Visual Dataprep to process the scene during import.</p>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#tableofcontents" id="tableofcontents">Table of Contents</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<ol class="documentation-ol">
<li><a href="#itwinunrealdatasmithplugin">iTwin Unreal Datasmith Plugin</a><ol class="documentation-ol">
<li><a href="#plugincompatibility">Plugin compatibility</a></li></ol></li>
<li><a href="#animationsandschedulescripts">Animations and schedule scripts</a><ol class="documentation-ol">
<li><a href="#combinedmeshexportanimationsupport">Combined-mesh export animation support</a></li>
<li><a href="#noncombinedmeshexportanimationsupport">Non-combined-mesh export animation support</a></li></ol></li>
<li><a href="#performanceconsiderations">Performance considerations</a><ol class="documentation-ol">
<li><a href="#combinedmeshexportisthedefault">Combined-mesh export is the default</a></li>
<li><a href="#noncombinedmeshexportdoesnotpreservetheelementhierarchy">Non-combined-mesh export does not preserve the element hierarchy</a></li>
<li><a href="#filteringexportedelements">Filtering exported elements</a></li>
<li><a href="#filteringwithvisualdataprep">Filtering with Visual Dataprep</a></li></ol></li>
<li><a href="#materials">Materials</a><ol class="documentation-ol">
<li><a href="#custommaterialswithvisibilityanimatedcombinedmeshexports">Custom materials with visibility-animated combined-mesh exports</a></li></ol></li>
<li><a href="#metadata">Metadata</a><ol class="documentation-ol">
<li><a href="#limitations">Limitations</a></li>
<li><a href="#animationdata">Animation data</a></li></ol></li>
<li><a href="#commandlineinterface">Command line interface</a><ol class="documentation-ol">
<li><a href="#usingthecommandlineinterface">Using the command line interface</a></li></ol></li>
</ol>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#itwinunrealdatasmithplugin" id="itwinunrealdatasmithplugin">iTwin Unreal Datasmith Plugin</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The iTwin Exporter for Datasmith helps you install
the <em>iTwin Unreal Datasmith Plugin</em> providing C++ and Blueprint
APIs for controlling the animations of your iTwin. This plugin
also provides the default materials for your scene. See the
<a href="/unreal/integration/blueprint-api-reference" rel="noopener noreferrer" target="_blank">Blueprint API reference</a>.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#plugincompatibility" id="plugincompatibility">Plugin compatibility</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The plugin is compatible and has been tested with Unreal Engine versions 4.26.1 through 5.0.0.
The plugin may successfuly recompile on older versions but there is a bug in the Datasmith importer for those versions
that could impact some animations.</p>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#animationsandschedulescripts" id="animationsandschedulescripts">Animations and schedule scripts</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#combinedmeshexportanimationsupport" id="combinedmeshexportanimationsupport">Combined-mesh export animation support</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">In combined-mesh exports we currently support</p>
<ul class="documentation-ul">
<li>cutting plane (growing) animations</li>
<li>color animations (such as SYNCHRO appearance profiles)</li>
<li>visibility animations</li>
<li>transformation animations such as rotation, translation, and scaling</li>
<li>transformation-animated (moving) objects do <em>not</em> support color or cutting plane animations</li>
</ul>
<p class="iui-text-block iui-text-spacing documentation-paragraph">All non-transformation animations for combined-mesh scenes are performed by special dynamic materials applied to your meshes by the
<a href="/unreal/integration/blueprint-api-reference/#AScheduledActor" rel="noopener noreferrer" target="_blank">ScheduledActor</a> class from the iTwin Unreal Datasmith Plugin, which exposes a <a href="/unreal/integration/blueprint-api-reference" rel="noopener noreferrer" target="_blank">Blueprint and C++ API</a> for managing
the animation state. All transformation-animated objects are exported as separated objects and animated using an Unreal
which you must add to the scene and manually manage due to limitations in the Datasmith API.
Consult Unreal Engine&#x27;s <a href="https://docs.unrealengine.com/AnimatingObjects/Sequencer/Overview/" rel="noopener noreferrer" target="_blank">Sequencer Overview</a>
for more information on level sequences.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#noncombinedmeshexportanimationsupport" id="noncombinedmeshexportanimationsupport">Non-combined-mesh export animation support</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">We do not currently support cutting plane (growing) animations or color animations in
non-combined mesh exports due to limitations in the Datasmith API. Visibility and transform animations are supported.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">An Unreal Level Sequence provides animations for non-combined mesh scenes. You must add a level sequence actor to the scene yourself
and control it using Unreal&#x27;s sequencer.
Consult Unreal Engine&#x27;s <a href="https://docs.unrealengine.com/AnimatingObjects/Sequencer/Overview/" rel="noopener noreferrer" target="_blank">Sequencer Overview</a>
for more information on level sequences.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">You may notice useless visibility tracks on some static meshes, this is an issue in Datasmith, and we are working closely
with Epic to resolve it.</p>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#performanceconsiderations" id="performanceconsiderations">Performance considerations</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Consider the following when trying to improve the performance of your scene.
But always be aware that hardware is often a significant bottleneck when performing intense graphical work, such as working with scenes in Unreal Engine.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#combinedmeshexportisthedefault" id="combinedmeshexportisthedefault">Combined-mesh export is the default</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Many scenes are too large to handle directly in Unreal without manually processing them. As such, we
recommend using the &quot;combined meshes&quot; feature during export. Combined-mesh exports combines all of the geometry in
your scene into one static mesh. You can then apply high-fidelity materials to your material slots; see the <a href="#Materials">Materials</a> section
for limitations.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">If you have an extremely high amount of instanced geometry or pieces of your geometry are too distant to be visible together, you may benefit from performing a separate or non-combined mesh export. Non-combined mesh export enables frustum culling of separate objects in the scene
which generally increases performance in those cases, and makes it easier to edit your objects in Unreal.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#noncombinedmeshexportdoesnotpreservetheelementhierarchy" id="noncombinedmeshexportdoesnotpreservetheelementhierarchy">Non-combined-mesh export does not preserve the element hierarchy</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">iModels meticulously split geometry into a sprawling hierarchy of elements. While this is great for your data and its organization,
translating them into Unreal actors can be much less performant than collapsing the hierarchy. As such, the hierarchy of elements in your iModel
is not preserved since it would require a lot of empty actors; it is instead flattened into a list of geometry-containing elements.
This ensures speedier imports and the best runtime performance possible, even when using a non-combined-mesh export.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">To use the hierarchy information when writing your own Visual Dataprep recipes,
every mesh element of the actor scene has a metadata property <code class="iui-code">ElementPathByLabel</code>,
a forward-slash delimited string of User Labels (or Ids) of parent elements and models to reach your element in the scene.
For instance, <code class="iui-code">/0x1/0x20000000003/Site.dwfx/Walls (13)/Basic Wall (13)/Site Perimeter Fence (13)/Basic Wall [613789]</code>.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#filteringexportedelements" id="filteringexportedelements">Filtering exported elements</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Hide elements, models, and categories in the viewport using the element tree on the right or, once an element is selected,
with the visibility tools in the top-left horizontal toolbar. Once you&#x27;ve hidden the objects you want to filter, use the &quot;Export Current View&quot;
tool in the top-left horizontal toolbar to export and filter those elements.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Use the <strong>Saved-Views Widget</strong> to save your viewport state if you want to re-export the scene again with these parts hidden.
Use advanced export to write <a href="https://www.itwinjs.org/learning/ecsql/" rel="noopener noreferrer" target="_blank">ECSQL</a> queries to customize which elements are
filtered using custom logic such as geometric queries.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#filteringwithvisualdataprep" id="filteringwithvisualdataprep">Filtering with Visual Dataprep</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Another technique for getting more performance out of your iModel geometry in Unreal is using Datasmith&#x27;s Visual Dataprep to process your scene.
Use Dataprep recipes to filter out obscured and unnecessary actors and to optimize geometry with Datasmith&#x27;s support for the <a href="https://docs.unrealengine.com/TestingAndOptimization/ProxyGeoTool/" rel="noopener noreferrer" target="_blank">proxy geometry tool</a>.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Reducing your actor count, getting rid of any unnecessary geometry, and optimizing unnecessarily dense geometry will all help lower the runtime costs of your scene.</p>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#materials" id="materials">Materials</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<p class="iui-text-block iui-text-spacing documentation-paragraph">In the combined-mesh export, differently colored or textured parts of your iModel will be split into different material slots; geometry with
the same underlying color but different textures in the
All meshes, combined or not, store the original color of underlying graphics in the corresponding mesh vertices for use in materials.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">If dividing material slots further would improve your workflow, either by category and model or by using ECSQL,
please vote for that feature on our <a href="https://itwinplatform.ideas.aha.io/?category=7010781758179112615" rel="noopener noreferrer" target="_blank">ideas portal</a>.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#custommaterialswithvisibilityanimatedcombinedmeshexports" id="custommaterialswithvisibilityanimatedcombinedmeshexports">Custom materials with visibility-animated combined-mesh exports</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Materials need to opt-in to the visibility animation if controlled by the <a href="/unreal/integration/blueprint-api-reference#AScheduledActor" rel="noopener noreferrer" target="_blank">ScheduledActor</a>. To do so:</p>
<ol class="documentation-ol">
<li><p class="iui-text-block iui-text-spacing documentation-paragraph">In the lower right corner of the <strong>Content Browser</strong>, press <strong>View Options</strong>, and mark the <strong>Show Plugin Content</strong> checkbox.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph"><img class="documentation-image" alt="in the bottom right of the Content Browser open View Options and make sure &quot;Show Plugin Content&quot; is checked" src="/unreal-docs-site/static/images/unreal-export-show-plugin-content.png" style="max-width:100%;max-height:350px"/></p></li>
<li><p class="iui-text-block iui-text-spacing documentation-paragraph">Open the the offending material in the material editor, set its blend mode to &quot;Masked&quot; (or if it&#x27;s transparent, keep it).</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph"><img class="documentation-image" alt="material details Blend Mode" src="/unreal-docs-site/static/images/unreal-export-set-material-blend-mode.png" style="max-width:100%;max-height:350px"/></p></li>
<li><p class="iui-text-block iui-text-spacing documentation-paragraph">Add a material function node, set it to use the iTwin Datasmith Importer Plugin&#x27;s <code class="iui-code">MF_SynchroVisibilityAnimate</code> material function,
and connect it to your material&#x27;s opacity. You may want to blend (e.g. with a multiply node) the visibility animation&#x27;s opacity with any
other opacity your material is already using.</p></li>
</ol>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#metadata" id="metadata">Metadata</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<p class="iui-text-block iui-text-spacing documentation-paragraph">There are multiple options for exporting metadata. Due to how metadata is attached in Unreal Engine, metadata is only
available when not using the &quot;combine meshes&quot; option. The default metadata export setting is &quot;element metadata&quot;, which includes data
directly attached to the exported geometric elements.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#limitations" id="limitations">Limitations</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The &quot;all metadata&quot; option will bring in all data corresponding to all exported elements from the iModel, but can be significantly slower than
the default option. In all cases, because only geometric elements are exported, the metadata of other elements in the hierarchy is
not brought into Unreal.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#animationdata" id="animationdata">Animation data</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The <code class="iui-code">ScheduledActor</code> and the <code class="iui-code">SceneMetaData</code> actor when exporting will contain a metadata entry <code class="iui-code">ScheduleScript</code>, which will contain the entire scene&#x27;s
animation data in a JSON format which comes from the iTwin.js
<a href="https://www.itwinjs.org/reference/core-common/displaystyles/renderschedule/renderschedule.script/" rel="noopener noreferrer" target="_blank">RenderSchedule.Script</a>.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The <code class="iui-code">ScheduledActor</code> actually parses and uses this at runtime to perform the combined-scene animation, and that code ships with the plugin
and is therefore freely available to view and extend in your own projects.</p>
<h2 class="iui-text-title iui-text-spacing documentation-title"><a href="#commandlineinterface" id="commandlineinterface">Command line interface</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h2>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The iTwin Exporter for Datasmith application comes with a command line interface, sometimes called the CLI. This can be useful in advanced
automation cases. With it, you can run an export without opening the graphical user-interface of the application at all, as well as any
amount of filtered exports in a row without any user interaction.</p>
<h3 class="iui-text-subheading iui-text-spacing documentation-subheading"><a href="#usingthecommandlineinterface" id="usingthecommandlineinterface">Using the command line interface</a><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="permalink"><path d="m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"></path></svg></h3>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Because the iTwin Exporter for Datasmith is only available for the Windows operating system, we recommend using
<a href="https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.2" rel="noopener noreferrer" target="_blank">PowerShell</a> to use the command line interface of programs
such as the iTwin Exporter for Datasmith.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">You must first find the application&#x27;s executable file, it is typically installed at
<code class="iui-code">C:\Users\&lt;YOUR_USER_NAME&gt;\AppData\Local\iTwinDatasmithExporter\app-&lt;YOUR_APP_VERSION&gt;\iTwinDatasmithExporter.exe</code>.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Open a terminal with a shell, such as PowerShell, or Command Prompt, both of which come with modern Windows, and try the following command.
Be sure to replace the executable path containing <code class="iui-code">&lt;YOUR_USER_NAME&gt;</code> and <code class="iui-code">&lt;YOUR_APP_VERSION&gt;</code> with the complete path you find on your local computer.</p>
<div class="iui-text-block documentation-paragraph"><pre class="documentation-codeblock"><code class="iui-code pswh language-pswh">C:\Users\&lt;YOUR_USER_NAME&gt;\AppData\Local\iTwinDatasmithExporter\app-&lt;YOUR_APP_VERSION&gt;\iTwinDatasmithExporter.exe export --help
</code></pre></div>
<p class="iui-text-block iui-text-spacing documentation-paragraph">The <code class="iui-code">--help</code> command will list all currently available options and their defaults.
If you do not use the <code class="iui-code">export</code> keyword as the first argument after the executable path, the graphical-user interface will be launched instead.</p>
<p class="iui-text-block iui-text-spacing documentation-paragraph">Following is a sample usage of the CLI to export an online model as a combined mesh scene with a z offset of 200 (and x and y are the default offset to the
center of the unreal space), all filtered by a saved view named &quot;My Saved View&quot;.</p>
<div class="iui-text-block documentation-paragraph"><pre class="documentation-codeblock"><code class="iui-code pswh language-pswh">C:\Users\&lt;YOUR_USER_NAME&gt;\AppData\Local\iTwinDatasmithExporter\app-&lt;YOUR_APP_VERSION&gt;\iTwinDatasmithExporter.exe export `
  --iTwinId b3416222-bf0f-4009-92c9-25bed16a2cc&quot; `
  --iModelId 64b4a1e5-2f7e-4e8e-942d-314bdc274aa5 `
  --savedViewName &quot;My Saved View&quot; `
  --combineMeshes `
  -z 200 `
  --destination D:\Somewhere\On\Disk\my-model.udatasmith
</code></pre></div></div></div></div></div></div></main><div class="iui-root transparent-container" data-iui-theme="light" data-iui-contrast="default"><footer class="iui-legal-footer footer"><ul class="iui-legal-footer-list"><li class="iui-legal-footer-item">© 2024 Bentley Systems, Incorporated</li><li class="iui-legal-footer-separator" aria-hidden="true"></li><li class="iui-legal-footer-item"><a href="/terms-of-service" target="_blank" rel="noreferrer">Terms of service</a></li><li class="iui-legal-footer-separator" aria-hidden="true"></li><li class="iui-legal-footer-item"><a href="https://www.bentley.com/en/privacy-policy" target="_blank" rel="noreferrer">Privacy</a></li><li class="iui-legal-footer-separator" aria-hidden="true"></li><li class="iui-legal-footer-item"><a href="https://www.bentley.com/en/terms-of-use-and-select-online-agreement" target="_blank" rel="noreferrer">Terms of use</a></li><li class="iui-legal-footer-separator" aria-hidden="true"></li><li class="iui-legal-footer-item"><a href="https://www.bentley.com/en/cookie-policy" target="_blank" rel="noreferrer">Cookies</a></li><li class="iui-legal-footer-separator" aria-hidden="true"></li><li class="iui-legal-footer-item"><a href="https://connect.bentley.com/Legal" target="_blank" rel="noreferrer">Legal notices</a></li></ul></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"tab":"documentation","overview":"# iTwin for Unreal Engine\n\nBring your iTwin data into Unreal Engine using the iTwin Exporter for Datasmith application.\nWith it, you can export iModel data into the Datasmith format and import it into\nyour Unreal project.\n\nThe iTwin Exporter for Datasmith offers the following features:\n\n- Export your model's geometry and element metadata into Unreal Engine\n- Export animation data such as schedules in your iTwin as level sequences in Unreal Engine\n- Use existing iTwin saved views to filter exports by models, categories, elements\n- In advanced use cases, leverage the power of [ECSQL](https://www.itwinjs.org/learning/ecsql/) for filtering exports.\n\n\u003ca href=\"https://autoupdatecdn.bentley.com/itwinexporterdatasmith/iTwinDatasmithExporterSetup.exe\" download\u003e\n  \u003cbutton class=\"iui-button iui-high-visibility download-button\" type=\"button\"\u003e\n    \u003cspan class=\"iui-label\"\u003e\n      Download now\n    \u003c/span\u003e\n  \u003c/button\u003e\n\u003c/a\u003e\n\nDownload the iTwin Exporter for Datasmith and get started with our\n[step-by-step tutorials](/unreal/integration/tutorials).\nBe sure to check the [documentation](/unreal/integration/overview) for troubleshooting and questions.\n\n\u003cimg src=\"/unreal-docs-site/static/images/unreal-export-app-fullscreen.png\" alt=\"iTwinViewer\" title=\"iTwin Viewer\" style=\"max-width:100%;max-height:500px;\"/\u003e\n","documentation":"# iTwin Exporter for Datasmith\n\nThe iTwin Exporter for Datasmith provides a viewer interface and\ntools to load and export iTwin data as a `.udatasmith` file and\nthe corresponding Datasmith `_Assets` directory. Use Unreal Engine's Datasmith importer plugin\nand our iTwin Datasmith plugin to import the exported datasmith content.\nThe Datasmith scene can be created with all of your geometric element metadata embedded for accessing\nat runtime in Unreal Engine and at import time when using Visual Dataprep to process the scene during import.\n\n## Table of Contents\n\n1. [iTwin Unreal Datasmith Plugin](#itwinunrealdatasmithplugin)\n    1. [Plugin compatibility](#plugincompatibility)\n1. [Animations and schedule scripts](#animationsandschedulescripts)\n    1. [Combined-mesh export animation support](#combinedmeshexportanimationsupport)\n    1. [Non-combined-mesh export animation support](#noncombinedmeshexportanimationsupport)\n1. [Performance considerations](#performanceconsiderations)\n    1. [Combined-mesh export is the default](#combinedmeshexportisthedefault)\n    1. [Non-combined-mesh export does not preserve the element hierarchy](#noncombinedmeshexportdoesnotpreservetheelementhierarchy)\n    1. [Filtering exported elements](#filteringexportedelements)\n    1. [Filtering with Visual Dataprep](#filteringwithvisualdataprep)\n1. [Materials](#materials)\n    1. [Custom materials with visibility-animated combined-mesh exports](#custommaterialswithvisibilityanimatedcombinedmeshexports)\n1. [Metadata](#metadata)\n    1. [Limitations](#limitations)\n    1. [Animation data](#animationdata)\n1. [Command line interface](#commandlineinterface)\n    1. [Using the command line interface](#usingthecommandlineinterface)\n\n## iTwin Unreal Datasmith Plugin\n\nThe iTwin Exporter for Datasmith helps you install\nthe _iTwin Unreal Datasmith Plugin_ providing C++ and Blueprint\nAPIs for controlling the animations of your iTwin. This plugin\nalso provides the default materials for your scene. See the\n[Blueprint API reference](/unreal/integration/blueprint-api-reference).\n\n### Plugin compatibility\n\nThe plugin is compatible and has been tested with Unreal Engine versions 4.26.1 through 5.0.0.\nThe plugin may successfuly recompile on older versions but there is a bug in the Datasmith importer for those versions\nthat could impact some animations.\n\n## Animations and schedule scripts\n\n### Combined-mesh export animation support\n\nIn combined-mesh exports we currently support\n\n- cutting plane (growing) animations\n- color animations (such as SYNCHRO appearance profiles)\n- visibility animations\n- transformation animations such as rotation, translation, and scaling\n  - transformation-animated (moving) objects do _not_ support color or cutting plane animations\n\nAll non-transformation animations for combined-mesh scenes are performed by special dynamic materials applied to your meshes by the\n[ScheduledActor](/unreal/integration/blueprint-api-reference/#AScheduledActor) class from the iTwin Unreal Datasmith Plugin, which exposes a [Blueprint and C++ API](/unreal/integration/blueprint-api-reference) for managing\nthe animation state. All transformation-animated objects are exported as separated objects and animated using an Unreal\nwhich you must add to the scene and manually manage due to limitations in the Datasmith API.\nConsult Unreal Engine's [Sequencer Overview](https://docs.unrealengine.com/AnimatingObjects/Sequencer/Overview/)\nfor more information on level sequences.\n\n### Non-combined-mesh export animation support\n\nWe do not currently support cutting plane (growing) animations or color animations in\nnon-combined mesh exports due to limitations in the Datasmith API. Visibility and transform animations are supported.\n\nAn Unreal Level Sequence provides animations for non-combined mesh scenes. You must add a level sequence actor to the scene yourself\nand control it using Unreal's sequencer.\nConsult Unreal Engine's [Sequencer Overview](https://docs.unrealengine.com/AnimatingObjects/Sequencer/Overview/)\nfor more information on level sequences.\n\nYou may notice useless visibility tracks on some static meshes, this is an issue in Datasmith, and we are working closely\nwith Epic to resolve it.\n\n## Performance considerations\n\nConsider the following when trying to improve the performance of your scene.\nBut always be aware that hardware is often a significant bottleneck when performing intense graphical work, such as working with scenes in Unreal Engine.\n\n### Combined-mesh export is the default\n\nMany scenes are too large to handle directly in Unreal without manually processing them. As such, we\nrecommend using the \"combined meshes\" feature during export. Combined-mesh exports combines all of the geometry in\nyour scene into one static mesh. You can then apply high-fidelity materials to your material slots; see the [Materials](#Materials) section\nfor limitations.\n\nIf you have an extremely high amount of instanced geometry or pieces of your geometry are too distant to be visible together, you may benefit from performing a separate or non-combined mesh export. Non-combined mesh export enables frustum culling of separate objects in the scene\nwhich generally increases performance in those cases, and makes it easier to edit your objects in Unreal.\n\n### Non-combined-mesh export does not preserve the element hierarchy\n\niModels meticulously split geometry into a sprawling hierarchy of elements. While this is great for your data and its organization,\ntranslating them into Unreal actors can be much less performant than collapsing the hierarchy. As such, the hierarchy of elements in your iModel\nis not preserved since it would require a lot of empty actors; it is instead flattened into a list of geometry-containing elements.\nThis ensures speedier imports and the best runtime performance possible, even when using a non-combined-mesh export.\n\nTo use the hierarchy information when writing your own Visual Dataprep recipes,\nevery mesh element of the actor scene has a metadata property `ElementPathByLabel`,\na forward-slash delimited string of User Labels (or Ids) of parent elements and models to reach your element in the scene.\nFor instance, `/0x1/0x20000000003/Site.dwfx/Walls (13)/Basic Wall (13)/Site Perimeter Fence (13)/Basic Wall [613789]`.\n\n### Filtering exported elements\n\nHide elements, models, and categories in the viewport using the element tree on the right or, once an element is selected,\nwith the visibility tools in the top-left horizontal toolbar. Once you've hidden the objects you want to filter, use the \"Export Current View\"\ntool in the top-left horizontal toolbar to export and filter those elements.\n\nUse the **Saved-Views Widget** to save your viewport state if you want to re-export the scene again with these parts hidden.\nUse advanced export to write [ECSQL](https://www.itwinjs.org/learning/ecsql/) queries to customize which elements are\nfiltered using custom logic such as geometric queries.\n\n### Filtering with Visual Dataprep\n\nAnother technique for getting more performance out of your iModel geometry in Unreal is using Datasmith's Visual Dataprep to process your scene.\nUse Dataprep recipes to filter out obscured and unnecessary actors and to optimize geometry with Datasmith's support for the [proxy geometry tool](https://docs.unrealengine.com/TestingAndOptimization/ProxyGeoTool/).\n\nReducing your actor count, getting rid of any unnecessary geometry, and optimizing unnecessarily dense geometry will all help lower the runtime costs of your scene.\n\n## Materials\n\nIn the combined-mesh export, differently colored or textured parts of your iModel will be split into different material slots; geometry with\nthe same underlying color but different textures in the\nAll meshes, combined or not, store the original color of underlying graphics in the corresponding mesh vertices for use in materials.\n\nIf dividing material slots further would improve your workflow, either by category and model or by using ECSQL,\nplease vote for that feature on our [ideas portal](https://itwinplatform.ideas.aha.io/?category=7010781758179112615).\n\n### Custom materials with visibility-animated combined-mesh exports\n\nMaterials need to opt-in to the visibility animation if controlled by the [ScheduledActor](/unreal/integration/blueprint-api-reference#AScheduledActor). To do so:\n\n1. In the lower right corner of the **Content Browser**, press **View Options**, and mark the **Show Plugin Content** checkbox.\n\n   \u003cimg alt='in the bottom right of the Content Browser open View Options and make sure \"Show Plugin Content\" is checked'\n        src=\"/unreal-docs-site/static/images/unreal-export-show-plugin-content.png\" style=\"max-width:100%;max-height:350px\"\u003e\n\n1. Open the the offending material in the material editor, set its blend mode to \"Masked\" (or if it's transparent, keep it).\n\n   \u003cimg alt=\"material details Blend Mode\"\n        src=\"/unreal-docs-site/static/images/unreal-export-set-material-blend-mode.png\"\n        style=\"max-width:100%;max-height:350px\"\u003e\n\n1. Add a material function node, set it to use the iTwin Datasmith Importer Plugin's `MF_SynchroVisibilityAnimate` material function,\n   and connect it to your material's opacity. You may want to blend (e.g. with a multiply node) the visibility animation's opacity with any\n   other opacity your material is already using.\n\n## Metadata\n\nThere are multiple options for exporting metadata. Due to how metadata is attached in Unreal Engine, metadata is only\navailable when not using the \"combine meshes\" option. The default metadata export setting is \"element metadata\", which includes data\ndirectly attached to the exported geometric elements.\n\n### Limitations\n\nThe \"all metadata\" option will bring in all data corresponding to all exported elements from the iModel, but can be significantly slower than\nthe default option. In all cases, because only geometric elements are exported, the metadata of other elements in the hierarchy is\nnot brought into Unreal.\n\n### Animation data\n\nThe `ScheduledActor` and the `SceneMetaData` actor when exporting will contain a metadata entry `ScheduleScript`, which will contain the entire scene's\nanimation data in a JSON format which comes from the iTwin.js\n[RenderSchedule.Script](https://www.itwinjs.org/reference/core-common/displaystyles/renderschedule/renderschedule.script/).\n\nThe `ScheduledActor` actually parses and uses this at runtime to perform the combined-scene animation, and that code ships with the plugin\nand is therefore freely available to view and extend in your own projects.\n\n## Command line interface\n\nThe iTwin Exporter for Datasmith application comes with a command line interface, sometimes called the CLI. This can be useful in advanced\nautomation cases. With it, you can run an export without opening the graphical user-interface of the application at all, as well as any\namount of filtered exports in a row without any user interaction.\n\n### Using the command line interface\n\nBecause the iTwin Exporter for Datasmith is only available for the Windows operating system, we recommend using\n[PowerShell](https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.2) to use the command line interface of programs\nsuch as the iTwin Exporter for Datasmith.\n\nYou must first find the application's executable file, it is typically installed at\n`C:\\Users\\\u003cYOUR_USER_NAME\u003e\\AppData\\Local\\iTwinDatasmithExporter\\app-\u003cYOUR_APP_VERSION\u003e\\iTwinDatasmithExporter.exe`.\n\nOpen a terminal with a shell, such as PowerShell, or Command Prompt, both of which come with modern Windows, and try the following command.\nBe sure to replace the executable path containing `\u003cYOUR_USER_NAME\u003e` and `\u003cYOUR_APP_VERSION\u003e` with the complete path you find on your local computer.\n\n```pswh\nC:\\Users\\\u003cYOUR_USER_NAME\u003e\\AppData\\Local\\iTwinDatasmithExporter\\app-\u003cYOUR_APP_VERSION\u003e\\iTwinDatasmithExporter.exe export --help\n```\n\nThe `--help` command will list all currently available options and their defaults.\nIf you do not use the `export` keyword as the first argument after the executable path, the graphical-user interface will be launched instead.\n\nFollowing is a sample usage of the CLI to export an online model as a combined mesh scene with a z offset of 200 (and x and y are the default offset to the\ncenter of the unreal space), all filtered by a saved view named \"My Saved View\".\n\n```pswh\nC:\\Users\\\u003cYOUR_USER_NAME\u003e\\AppData\\Local\\iTwinDatasmithExporter\\app-\u003cYOUR_APP_VERSION\u003e\\iTwinDatasmithExporter.exe export `\n  --iTwinId b3416222-bf0f-4009-92c9-25bed16a2cc\" `\n  --iModelId 64b4a1e5-2f7e-4e8e-942d-314bdc274aa5 `\n  --savedViewName \"My Saved View\" `\n  --combineMeshes `\n  -z 200 `\n  --destination D:\\Somewhere\\On\\Disk\\my-model.udatasmith\n```\n"},"__N_SSG":true},"page":"/unreal/integration/[tab]","query":{"tab":"documentation"},"buildId":"4I2YaoF9Uf026tEb78Qcd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>