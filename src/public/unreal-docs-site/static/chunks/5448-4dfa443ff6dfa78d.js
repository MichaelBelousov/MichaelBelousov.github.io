"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5448],{15448:function(e,t,a){a.d(t,{Jt:function(){return b},Pu:function(){return s},ZP:function(){return v}});var i=a(36864),n=a(4730),r=a(67294),o=a(3905),l=["components"],s=(r.createElement,{title:"Reality Management API - Essentials",tile:{name:"Reality Management API - Essentials",description:"An introduction to the Reality Management API. It covers the essential concepts required to get started.",thumbnail:"/unreal-docs-site/static/images/tutorials/reality-management-essentials/reality-management-essentials-thumbnail.jpg",href:"/tutorials/reality-management-essentials/",relatedApiIds:["realitymanagement","reality-management/reality-data"]}}),u=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)}},p=u("Alert"),d=u("Section"),m=u("AuthorizeUserButton"),c=u("CreateiTwinButton"),y=u("DownloadFilesButton"),h=u("RequestLine"),k=u("SimpleLink"),g=u("ExecutableCodeBlock"),f=u("LinkButtonUsingTutorialData"),w=u("TileList"),T=u("ResourceTile"),N={metadata:s};function v(e){var t=e.components,a=(0,n.Z)(e,l);return(0,o.kt)("wrapper",(0,i.Z)({},N,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"This tutorial covers the ",(0,o.kt)("em",{parentName:"p"},"essential")," topics for using the ",(0,o.kt)("a",{parentName:"p",href:"/apis/reality-management/overview"},"Reality Management API"),".\nYou will learn the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to create a reality data."),(0,o.kt)("li",{parentName:"ul"},"How to upload data files to your reality data."),(0,o.kt)("li",{parentName:"ul"},"How to query your created reality data.")),(0,o.kt)("p",null,"You will also see how your reality data looks in an iTwin Viewer application."),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Use sample data")),(0,o.kt)("p",null,"This tutorial walks you through using the Reality Management API. We recommend using\nsample names and data while learning the API for this tutorial. The same\ninstructions apply when using the Reality Management API for your production\napplications.")),(0,o.kt)("h2",{id:"before-you-begin"},"Before you begin"),(0,o.kt)("p",null,"Ensure you meet the following requirements before starting the tutorial:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Be familiar with the concept of an iTwin. See the ",(0,o.kt)("a",{parentName:"li",href:"/apis/itwins/overview/"},"iTwin API Overview")," for more information."),(0,o.kt)("li",{parentName:"ul"},"Be familiar with the concept of Reality Data. See the ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/overview/"},"Reality Management API Overview")," for more information."),(0,o.kt)("li",{parentName:"ul"},"(Optional) Be familiar with ",(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview"},"Azure Blob Storage"),".\nYou can complete this tutorial regardless of your Azure knowledge level."),(0,o.kt)("li",{parentName:"ul"},"(Optional) An API client tool that allows you to execute HTTP calls.\nFor ease of use, we have added executable code blocks enabling you to make sample requests within the tutorial.\nAPI client tools are helpful when testing your real-world applications.")),(0,o.kt)("h2",{id:"set-up-your-tutorial-environment"},"Set up your tutorial environment"),(0,o.kt)("p",null,"This section guides you through the pre-requisite steps for the tutorial so you can make sample API requests.\nIt also provides sample data for you to use during the tutorial."),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"authorize-your-requests"},"Authorize your requests"),(0,o.kt)("p",null,"This tutorial provides an access token enabling you to complete the tutorial without setting up your own authentication."),(0,o.kt)("p",null,"Click ",(0,o.kt)("strong",{parentName:"p"},"Authorize")," to generate the token. Your token is automatically populated in the headers of the sample requests."),(0,o.kt)(m,{scopes:["realitydata:read","realitydata:modify","itwins:modify"],mdxType:"AuthorizeUserButton"}),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Application permissions")),(0,o.kt)("p",null,"When using this API to authorize your own application, you need to define the\nscopes and permissions for your solution. See the ",(0,o.kt)("a",{parentName:"p",href:"/apis/overview/authorization"},"Authorization overview")," for more information.\nThe tutorial uses the following scopes to make reality managment API requests: ",(0,o.kt)("inlineCode",{parentName:"p"},"realitydata:read")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"realitydata:modify"),"."))),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"create-an-itwin"},"Create an iTwin"),(0,o.kt)("p",null,"To use the Reality Management API, you must associate your reality data with an iTwin."),(0,o.kt)("p",null,"Click ",(0,o.kt)("strong",{parentName:"p"},"Create iTwin"),"."),(0,o.kt)("p",null,"The ID of your iTwin is automatically populated in the requests that need it.\nMake sure save the iTwin ID. Click the ",(0,o.kt)("strong",{parentName:"p"},"Copy")," button to copy the ID and save it somewhere safe.\nWhen using the iTwin ID, make sure to remove the ",(0,o.kt)("em",{parentName:"p"},"iTwin ID")," label from the pasted copy."),(0,o.kt)(c,{name:"Reality_Management_Essentials_Tutorial_iTwin",accessTokenFunc:function(e){return e.accessToken?e.accessToken:void 0},mdxType:"CreateiTwinButton"}),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Manually create an iTwin")),(0,o.kt)("p",null,"An iTwin is required when using this API in your own applications. For more information on creating an iTwin, see the ",(0,o.kt)("a",{parentName:"p",href:"/apis/itwins/operations/create-itwin/"},"Create iTwin")," reference."))),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"get-your-data-files"},"Get your data files"),(0,o.kt)("p",null,"You must have reality data files on your computer to follow this tutorial. We have provided some sample files for you to use."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Download Data")," to download the sample reality data files."),(0,o.kt)("p",{parentName:"li"},"There are a lot of data files.\nIt may take a few minutes for them to download.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Please unzip the folder ",(0,o.kt)("inlineCode",{parentName:"p"},"Scene.zip")," after the download completes."),(0,o.kt)("p",{parentName:"li"},"There are a lot of data files.\nIt may take a few minutes for them to unzip."))),(0,o.kt)(y,{type:"folder",folderName:"Scene.zip",buttonText:"Download Data",jsonFilesManifest:{filename:"data_manifest.json",filepath:"/unreal-docs-site/static/images/tutorials/reality-management-essentials/data_manifest.json"},mdxType:"DownloadFilesButton"}),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Generate your own files")),(0,o.kt)("p",null,"Provide your own reality data files when using the Reality Management API in production applications. Please see the ",(0,o.kt)("a",{parentName:"p",href:"/apis/contextcapture/"},"Reality Modeling API")," for more information."))),(0,o.kt)("h2",{id:"create-a-reality-data"},"Create a reality data"),(0,o.kt)("p",null,"The Reality Management API enables you to create and manage reality models and data.\nA ",(0,o.kt)("em",{parentName:"p"},"reality model")," is the real world environment visualized in a reality data viewer and is stored as data files.\n",(0,o.kt)("em",{parentName:"p"},"Reality data")," is a place to store your reality model and any information describing that reality model."),(0,o.kt)("p",null,"Send a request to the create reality data endpoint:"),(0,o.kt)(h,{method:"POST",path:"/reality-management/reality-data/",href:"/apis/reality-management/operations/create-reality-data/",mdxType:"RequestLine"}),(0,o.kt)("p",null,"The example request includes the following properties in its body:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Parameter")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Required")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Description")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"iTwinId"),(0,o.kt)("td",{parentName:"tr",align:null},"No"),(0,o.kt)("td",{parentName:"tr",align:null},"The iTwin ID is a unique identifier associating your reality data with your iTwin. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-an-itwin",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"td"},"Create an iTwin"))," button during setup.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"displayName"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes"),(0,o.kt)("td",{parentName:"tr",align:null},"The user friendly name of the reality data.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"type"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes"),(0,o.kt)("td",{parentName:"tr",align:null},"Indicates the format of your reality data files. Find the list of available types in the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/rm-rd-details/#types"},"types table")," on the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/rm-rd-details/"},"Reality Data Properties")," page. For the sample files provided, the ",(0,o.kt)("inlineCode",{parentName:"td"},"type")," is ",(0,o.kt)("inlineCode",{parentName:"td"},"Cesium3DTiles"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"rootDocument"),(0,o.kt)("td",{parentName:"tr",align:null},"No"),(0,o.kt)("td",{parentName:"tr",align:null},"The path to the root document file. The root document file is a manifest containing extra information about the reality data and is used by the Visualization service to visualize your reality model. See the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/rm-rd-details/#root-document"},"Root Document")," section on the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/rm-rd-details/"},"Reality Data Properties")," page for more information. In our sample, the root document file is ",(0,o.kt)("inlineCode",{parentName:"td"},"electrical_substation.json")," in the ",(0,o.kt)("inlineCode",{parentName:"td"},"Scene")," folder making the ",(0,o.kt)("inlineCode",{parentName:"td"},"rootDocument")," value ",(0,o.kt)("inlineCode",{parentName:"td"},"Scene/electrical_substation.json"),".")))),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"More properties")),(0,o.kt)("p",null,"This step contains the bare minimum properties required for this tutorial.\nMany more properties are available and detailed in the\n",(0,o.kt)("a",{parentName:"p",href:"/apis/reality-management/operations/create-reality-data/#create-reality-data"},"Create reality data")," reference.")),(0,o.kt)("h3",{id:"create-reality-data-request-example"},"Create reality data request example"),(0,o.kt)(g,{method:"POST",path:"/reality-management/reality-data/",headers:function(e){var t;return{Accept:"application/vnd.bentley.itwin-platform.v1+json","Content-Type":"application/json",Authorization:null!==(t=e.accessToken)&&void 0!==t?t:"Bearer TOKEN"}},body:function(e){return'{\n    "iTwinId": "'.concat(e.iTwinId?e.iTwinId:"{iTwinId}",'",\n    "displayName": "Reality_Management_Essentials_Tutorial",\n    "type": "Cesium3DTiles",\n    "rootDocument": "Scene/electrical_substation.json"\n}')},dataToSave:[{variableName:"realityDataId",jsonQuery:"realityData.id"}],handleResponse:function(e,t){401===e.status&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Authorize your requests")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#authorize-your-requests","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"iTwinId"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create an iTwin")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-an-itwin","_self")},title:"Go to step"}}))},mdxType:"ExecutableCodeBlock"}),(0,o.kt)("p",null,"The ID of your reality data is automatically populated in the following requests that need it."),(0,o.kt)("h2",{id:"upload-your-reality-model-to-the-reality-datas-container"},"Upload your reality model to the reality data\u2019s container"),(0,o.kt)("p",null,"A reality data provides basic information about your reality model through its properties (such as what is the type/format of the files, where is the root document, etc).\nWhen you created your reality data, a container in the cloud was also created to serve as a home for your reality model."),(0,o.kt)("p",null,"This section details how to access and upload reality data files to that container."),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"get-your-reality-datas-container"},"Get your reality data\u2019s container"),(0,o.kt)("p",null,"The Reality Management API exposes two endpoints you can use to access your reality data\u2019s container.\nOne endpoint provides read access to the container. The other endpoint provides write access.\nHowever, both endpoints accept the same parameters.\nThe container is hosted in ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/"},"Azure Blob Storage"),"."),(0,o.kt)("p",null,"We want write access so you can upload the reality data files to the container.\nFor more information on read access, please see the ",(0,o.kt)("a",{parentName:"p",href:"/apis/reality-management/operations/get-read-access-to-reality-data-container"},"Retrieve read access to reality data container")," reference."),(0,o.kt)("p",null,"For write access, send the request to the write access endpoint."),(0,o.kt)(h,{method:"GET",path:"/reality-management/reality-data/{id}/writeaccess?iTwinId={iTwinId}",href:"/apis/reality-management/operations/get-write-access-to-reality-data-container/",mdxType:"RequestLine"}),(0,o.kt)("p",null,"The endpoint accepts the following parameters:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Parameter")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Required")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Description")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"id"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes"),(0,o.kt)("td",{parentName:"tr",align:null},"The ID of your reality data. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you completed the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-reality-data-request-example",mdxType:"SimpleLink"},"Create reality data request example"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"iTwinId"),(0,o.kt)("td",{parentName:"tr",align:null},"No"),(0,o.kt)("td",{parentName:"tr",align:null},"The ID of your iTwin. It affects the permissions for accessing the container as discussed in the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/operations/get-write-access-to-reality-data-container/"},"Retrieve write access to reality data container")," reference. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-an-itwin",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"td"},"Create an iTwin"))," button during setup.")))),(0,o.kt)("h4",{id:"retrieve-write-access-to-reality-data-container-request-example"},"Retrieve write access to reality data container request example"),(0,o.kt)(g,{method:"GET",path:function(e){var t,a;return"/reality-management/reality-data/".concat(null!==(t=e.realityDataId)&&void 0!==t?t:"{id}","/writeaccess?iTwinId=").concat(null!==(a=e.iTwinId)&&void 0!==a?a:"{iTwinId}")},headers:function(e){var t;return{Accept:"application/vnd.bentley.itwin-platform.v1+json",Authorization:null!==(t=e.accessToken)&&void 0!==t?t:"Bearer TOKEN"}},handleResponse:function(e,t){401===e.status&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Authorize your requests")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#authorize-your-requests","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"id"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create a reality data")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-a-reality-data","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"iTwinId"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create an iTwin")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-an-itwin","_self")},title:"Go to step"}}))},mdxType:"ExecutableCodeBlock"}),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"href")," returned in the response is a SAS URI with write access to the Azure blob hosting your reality data\u2019s container."),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Understanding the SAS URI")),(0,o.kt)("p",null,"Understanding the SAS URI is not required to use it for the API or tutorial.\nYou can learn more about Azure Storage SAS URI\u2019s\nfrom ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview#sas-token"},"Microsoft\u2019s SAS token documentation"),"."))),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"upload-your-files-to-the-container"},"Upload your files to the container"),(0,o.kt)("p",null,"Microsoft has several workflows available for uploading data to an Azure blob.\nExhaustively exploring these options is beyond this scope of this tutorial.\nHowever, we will point you to a couple of workflows that will allow you to upload the previously downloaded ",(0,o.kt)("inlineCode",{parentName:"p"},"Scene")," folder with as little friction as possible."),(0,o.kt)(d,{level:3,mdxType:"Section"},(0,o.kt)("h4",{id:"uploading-the-files-via-the-command-line"},"Uploading the files via the command line"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10"},"AzCopy")," is a command line tool that you can use to upload files to your storage account.\nThis is our recommended way to upload your files for the tutorial."),(0,o.kt)("p",null,"To upload your reality data files, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Ensure you have clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#get-your-data-files",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"li"},"Download Data"))," button and unzipped the downloaded ",(0,o.kt)("inlineCode",{parentName:"li"},"Scene")," folder."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10#download-azcopy"},"Download AzCopy"),"."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10#run-azcopy"},"Run AzCopy")," via the command line.\n",(0,o.kt)("inlineCode",{parentName:"li"},'azcopy copy "{path_to_downloaded_Scene_folder}" "{SAS_URI_from_the_previous_response}" --recursive'))),(0,o.kt)("p",null,"Microsoft has an example in the ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10#option-2-use-a-sas-token"},"Use a SAS token")," section of their ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10"},"Get started with AzCopy")," page.\nBe sure to at least read the ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10#run-azcopy"},"Run AzCopy")," link. It points out restrictions on where you can run AzCopy.")),(0,o.kt)(d,{level:3,mdxType:"Section"},(0,o.kt)("h4",{id:"uploading-the-files-graphically"},"Uploading the files graphically"),(0,o.kt)("p",null,"Microsoft has a desktop application called Azure Storage Explorer that you can download to have a\ngraphical experience of dragging and dropping your reality data files into your blob container."),(0,o.kt)("p",null,"To upload your reality data files using Azure Storage Explorer, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Ensure you have clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#get-your-data-files",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"li"},"Download Data"))," button and unzipped the downloaded ",(0,o.kt)("inlineCode",{parentName:"li"},"Scene")," folder."),(0,o.kt)("li",{parentName:"ol"},"Download the application by going to Microsoft\u2019s ",(0,o.kt)("a",{parentName:"li",href:"https://azure.microsoft.com/en-us/products/storage/storage-explorer/"},"Azure Storage Explorer")," website and selecting your operating system."),(0,o.kt)("li",{parentName:"ol"},"Once you have the application downloaded and open, you can follow Microsoft\u2019s instructions in the\n",(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/vs-azure-tools-storage-manage-with-storage-explorer?tabs=windows#attach-to-an-individual-resource"},"Attach to an individual resource"),"\nand ",(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/vs-azure-tools-storage-manage-with-storage-explorer?tabs=windows#shared-access-signature-sas-url"},"Shared access signature (SAS) URL"),"\nsections of their ",(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/vs-azure-tools-storage-manage-with-storage-explorer?tabs=windows"},"Get started with Storage Explorer")," page.\nThe resource you want to connect to should be \u201cBlob container\u201d (or something similarly named)."),(0,o.kt)("li",{parentName:"ol"},"After following Microsoft\u2019s instructions and connecting, drag and drop the\n",(0,o.kt)("inlineCode",{parentName:"li"},"Scene")," folder into the container."))),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Programmatic options")),(0,o.kt)("p",null,"The above two options are easiest for uploading your reality model quickly.\nHowever, if you are attempting to programmatically upload a reality model in your\napplication, we recommend using Microsoft\u2019s Azure Blob Storage client\nlibraries. Microsoft has Azure Blob Storage client libraries for\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-dotnet?tabs=visual-studio%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli%2Cidentity-visual-studio"},".NET"),",\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli"},"Java"),",\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-python?tabs=managed-identity%2Croles-azure-portal%2Csign-in-azure-cli"},"Python"),",\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/quickstart-blobs-javascript-browser"},"JavaScript"),",\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/quickstart-blobs-c-plus-plus?tabs=environment-variable-windows"},"C++"),",\nand\n",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-go?tabs=roles-azure-portal"},"Go"),".\nIf you are using a language that does not have a client library, check out the\nraw ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/rest/api/storageservices/blob-service-rest-api"},"Azure Blob Storage REST\nAPI"),"."))),(0,o.kt)("h2",{id:"query-your-created-reality-data"},"Query your created reality data"),(0,o.kt)("p",null,"The Reality Management API exposes two endpoints you can use to query your reality data."),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"query-reality-data-associated-with-an-itwin"},"Query reality data associated with an iTwin"),(0,o.kt)("p",null,"This endpoint returns the first 100 reality data associated with the iTwin specified in the request.\nIt only returns reality data that you have access to, relative to your organization\u2019s access rights."),(0,o.kt)("p",null,"To query all reality data associated with your iTwin, send a request to the get iTwin\u2019s reality data endpoint."),(0,o.kt)(h,{method:"GET",path:"/reality-management/reality-data/?iTwinId={iTwinId}",href:"/apis/reality-management/operations/get-all-reality-data/",mdxType:"RequestLine"}),(0,o.kt)("p",null,"The example request includes the following parameters:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Parameter")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Required")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Description")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"iTwinId"),(0,o.kt)("td",{parentName:"tr",align:null},"No"),(0,o.kt)("td",{parentName:"tr",align:null},"The ID of your iTwin. If you do not provide your iTwin ID, then the request instead returns the first 100 reality data that you have access to across all iTwins. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-an-itwin",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"td"},"Create an iTwin"))," button during setup.")))),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"More properties")),(0,o.kt)("p",null,"This step contains the bare minimum parameters required for this tutorial.\nMore parameters are available and detailed in the documentation for the ",(0,o.kt)("a",{parentName:"p",href:"/apis/reality-management/operations/get-all-reality-data/"},"Get iTwin\u2019s reality data"),"\nendpoint.")),(0,o.kt)("h4",{id:"get-itwins-reality-data-request-example"},"Get iTwin\u2019s reality data request example"),(0,o.kt)(g,{method:"GET",path:function(e){var t;return"/reality-management/reality-data/?iTwinId=".concat(null!==(t=e.iTwinId)&&void 0!==t?t:"{iTwinId}")},headers:function(e){var t;return{Prefer:"return=representation",Accept:"application/vnd.bentley.itwin-platform.v1+json",Authorization:null!==(t=e.accessToken)&&void 0!==t?t:"Bearer TOKEN"}},handleResponse:function(e,t){401===e.status&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Authorize your requests")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#authorize-your-requests","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"iTwinId"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create an iTwin")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-an-itwin","_self")},title:"Go to step"}}))},mdxType:"ExecutableCodeBlock"}),(0,o.kt)("p",null,"At this point, only the reality data you created during this tutorial should be listed.")),(0,o.kt)(d,{level:2,mdxType:"Section"},(0,o.kt)("h3",{id:"query-a-specific-reality-data"},"Query a specific reality data"),(0,o.kt)("p",null,"This endpoint takes a reality data ID and returns that specific reality data."),(0,o.kt)("p",null,"To query a specific reality data, send a request to the get reality data metadata endpoint."),(0,o.kt)(h,{method:"GET",path:"/reality-management/reality-data/{id}?iTwinId={iTwinId}",href:"/apis/reality-management/operations/get-reality-data-details/",mdxType:"RequestLine"}),(0,o.kt)("p",null,"The example request accepts the following parameters:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Parameter")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Required")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Description")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"id"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes"),(0,o.kt)("td",{parentName:"tr",align:null},"The ID of your reality data. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you completed the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-reality-data-request-example",mdxType:"SimpleLink"},"Create reality data request example"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"iTwinId"),(0,o.kt)("td",{parentName:"tr",align:null},"No"),(0,o.kt)("td",{parentName:"tr",align:null},"The ID of your iTwin. It affects the permissions for querying the reality data as discussed in the ",(0,o.kt)("a",{parentName:"td",href:"/apis/reality-management/operations/get-reality-data-details/"},"Get reality data metadata")," reference. ",(0,o.kt)("strong",{parentName:"td"},"Reminder:")," The ID is pre-populated in this tutorial if you clicked the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-an-itwin",mdxType:"SimpleLink"},(0,o.kt)("strong",{parentName:"td"},"Create an iTwin"))," button during setup.")))),(0,o.kt)("h4",{id:"get-reality-data-metadata-request-example"},"Get reality data metadata request example"),(0,o.kt)(g,{method:"GET",path:function(e){var t,a;return"/reality-management/reality-data/".concat(null!==(t=e.realityDataId)&&void 0!==t?t:"{id}","?iTwinId=").concat(null!==(a=e.iTwinId)&&void 0!==a?a:"{iTwinId}")},headers:function(e){var t;return{Accept:"application/vnd.bentley.itwin-platform.v1+json",Authorization:null!==(t=e.accessToken)&&void 0!==t?t:"Bearer TOKEN"}},handleResponse:function(e,t){401===e.status&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Authorize your requests")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#authorize-your-requests","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"id"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create a reality data")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-a-reality-data","_self")},title:"Go to step"}})),422===e.status&&e.data.error.details.some((function(e){return"iTwinId"===e.target}))&&(null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create an iTwin")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-an-itwin","_self")},title:"Go to step"}}))},mdxType:"ExecutableCodeBlock"})),(0,o.kt)("h2",{id:"visualize-your-newly-uploaded-reality-data"},"Visualize your newly uploaded reality data"),(0,o.kt)("p",null,"After creating a reality data and uploading your reality model to its container, you can now visualize your reality data in an ",(0,o.kt)("a",{parentName:"p",href:"/tutorials/web-application-quick-start/"},"iTwin Viewer"),"."),(0,o.kt)("p",null,"Click ",(0,o.kt)("strong",{parentName:"p"},"View Reality Data")," to see the reality model you created in a Viewer."),(0,o.kt)(f,{href:function(e){return"/my-itwins/".concat(e.iTwinId?e.iTwinId:"iTwinId","/").concat(e.realityDataId?e.realityDataId:"realityDataId","/reality-data-tutorial-viewer/")},handleTutorialStateValidation:function(e,t){var a=!0;return e.realityDataId||(a=!1,null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create a reality data")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-a-reality-data","_self")},title:"Go to step"}})),e.iTwinId||(a=!1,null===t||void 0===t||t.toaster.negative((0,o.kt)("span",null,"Did you complete the ",(0,o.kt)("b",null,"Create an iTwin")," step?"),{link:{onClick:function(){window.open("/tutorials/reality-management-essentials/#create-an-itwin","_self")},title:"Go to step"}})),a},buttonText:"View Reality Data",mdxType:"LinkButtonUsingTutorialData"}),(0,o.kt)(p,{type:"warning",mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Viewer Errors")),(0,o.kt)("p",null,"The reality data viewer will attempt to display helpful error messages if it detects a potential mistake.\nTo resolve some of the errors, please check the following:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Ensure that you have completed all steps of the tutorial ",(0,o.kt)("em",{parentName:"li"},"before")," clicking the ",(0,o.kt)("strong",{parentName:"li"},"View Reality Data")," button."),(0,o.kt)("li",{parentName:"ol"},"Verify that the ",(0,o.kt)("inlineCode",{parentName:"li"},"rootDocument")," path specified during the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-a-reality-data",mdxType:"SimpleLink"}," Create a reality data")," ","step is still valid based on the structure of the files you uploaded during the ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#upload-your-reality-model-to-the-reality-datas-container",mdxType:"SimpleLink"},"Upload your reality model to the reality data\u2019s container")," step."))),(0,o.kt)("p",null,"The official ",(0,o.kt)("a",{parentName:"p",href:"https://www.itwinjs.org/sandboxes/iTwinPlatform/Reality%20Data"},"Reality Data sample")," provides an example on attaching and visualizing reality data in an iTwin Viewer.\nCheck out that sample, our ",(0,o.kt)("a",{parentName:"p",href:"https://www.itwinjs.org/reference/core-frontend/views/displaystylestate/attachrealitymodel/"},"iTwin.js documentation"),",\nthe ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@itwin/reality-data-client"},"@itwin/reality-data-client package"),",\nand the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/iTwin/reality-capture/tree/main/typescript/examples/web-app"},"reality-capture web application"),"\nfor how to visualize your reality data in your own application."),(0,o.kt)(p,{mdxType:"Alert"},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Reality Data Location")),(0,o.kt)("p",null,"If you are building your own iTwin Viewer application, it is helpful to know the location of your reality data. The sample reality data has the following coordinates (with longitude and latitude in degrees and height in meters):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Longitude: 4.668735091306921","\xb0"),(0,o.kt)("li",{parentName:"ul"},"Latitude: 45.265122669456325","\xb0"),(0,o.kt)("li",{parentName:"ul"},"Height: 456.72571760937933 meters"))),(0,o.kt)("h2",{id:"what-youve-learned"},"What you\u2019ve learned"),(0,o.kt)("p",null,"In this tutorial, you should have learned:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#create-a-reality-data",mdxType:"SimpleLink"},"Create a reality data"),":",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Choose a ",(0,o.kt)("inlineCode",{parentName:"li"},"displayName"),"."),(0,o.kt)("li",{parentName:"ul"},"Choose the ",(0,o.kt)("inlineCode",{parentName:"li"},"type")," from ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/rm-rd-details/#types"},"types table"),"."),(0,o.kt)("li",{parentName:"ul"},"Include the ",(0,o.kt)("inlineCode",{parentName:"li"},"rootDocument")," path."),(0,o.kt)("li",{parentName:"ul"},"Execute the ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/operations/create-reality-data/"},"Create reality data")," request."))),(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#upload-your-reality-model-to-the-reality-datas-container",mdxType:"SimpleLink"},"Upload your reality model to the reality data\u2019s container")," to the reality data\u2019s container:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Supply your reality data\u2019s ID and your iTwin\u2019s ID for the ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/operations/get-write-access-to-reality-data-container/"},"Retrieve write access to reality data container")," request."),(0,o.kt)("li",{parentName:"ul"},"Upload your reality data files using the command line, a graphical application, or programmatically."))),(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#query-your-created-reality-data",mdxType:"SimpleLink"},"Query your created reality data")," for your reality data(s)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Query all reality data associated with your iTwin by providing your iTwin\u2019s ID to the ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/operations/get-all-reality-data/"},"Get iTwin\u2019s reality data")," endpoint."),(0,o.kt)("li",{parentName:"ul"},"Query a specific reality data by providing that reality data\u2019s ID and your iTwin\u2019s ID to the ",(0,o.kt)("a",{parentName:"li",href:"/apis/reality-management/operations/get-reality-data-details/"},"Get reality data metadata")," endpoint.")))),(0,o.kt)("p",null,"This tutorial provided the background knowledge required for you to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Learn how to ",(0,o.kt)(k,{href:"/tutorials/reality-management-essentials/#visualize-your-newly-uploaded-reality-data",mdxType:"SimpleLink"},"Visualize your newly uploaded reality data")," in an iTwin Viewer by checking out the official ",(0,o.kt)("a",{parentName:"li",href:"https://www.itwinjs.org/sandboxes/iTwinPlatform/Reality%20Data"},"Reality Data sample"),".")),(0,o.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,o.kt)(w,{mdxType:"TileList"},(0,o.kt)(T,{title:"Reality Management API",href:"/apis/reality-management/",description:"The reference documentation for the reality management API. Allows you to manage your reality data and is covered in this tutorial.",mdxType:"ResourceTile"}),(0,o.kt)(T,{title:"Reality Modeling API",href:"/apis/contextcapture/",description:"The reference documentation for the reality modeling API. Allows you to turn images and point clouds into reality meshes, orthophotos and others.",mdxType:"ResourceTile"}),(0,o.kt)(T,{title:"Reality Analysis API",href:"/apis/realitydataanalysis/",description:"The reference documentation for the reality analysis API. Allows you to run AI/ML on photos, maps, meshes or point clouds.",mdxType:"ResourceTile"})))}v.isMDXComponent=!0;var b=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"before-you-begin",level:2,title:"Before you begin",children:[]},{id:"set-up-your-tutorial-environment",level:2,title:"Set up your tutorial environment",children:[{id:"authorize-your-requests",level:3,title:"Authorize your requests",children:[]},{id:"create-an-itwin",level:3,title:"Create an iTwin",children:[]},{id:"get-your-data-files",level:3,title:"Get your data files",children:[]}]},{id:"create-a-reality-data",level:2,title:"Create a reality data",children:[{id:"create-reality-data-request-example",level:3,title:"Create reality data request example",children:[]}]},{id:"upload-your-reality-model-to-the-reality-datas-container",level:2,title:"Upload your reality model to the reality data\u2019s container",children:[{id:"get-your-reality-datas-container",level:3,title:"Get your reality data\u2019s container",children:[]},{id:"upload-your-files-to-the-container",level:3,title:"Upload your files to the container",children:[]}]},{id:"query-your-created-reality-data",level:2,title:"Query your created reality data",children:[{id:"query-reality-data-associated-with-an-itwin",level:3,title:"Query reality data associated with an iTwin",children:[]},{id:"query-a-specific-reality-data",level:3,title:"Query a specific reality data",children:[]}]},{id:"visualize-your-newly-uploaded-reality-data",level:2,title:"Visualize your newly uploaded reality data",children:[]},{id:"what-youve-learned",level:2,title:"What you\u2019ve learned",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}}}]);