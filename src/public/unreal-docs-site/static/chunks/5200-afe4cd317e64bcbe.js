"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5200],{75200:function(e,t,n){n.d(t,{Jt:function(){return N},Pu:function(){return p},ZP:function(){return v}});var a=n(36864),o=n(4730),i=n(67294),r=n(3905),l=["components"],p=(i.createElement,{title:"Query and Download Component from a Catalog",tile:{name:"Query and Download Component from a Catalog",description:"This tutorial will guide you through the process of querying a component from a catalog in an organization.",href:"/tutorials/query-and-download-component-from-catalog",durationInMinutes:10,relatedApiIds:["library"],showInFirstSteps:!1,firstStepsSequenceNumber:3}}),s=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},c=s("Introduction"),d=s("TutorialSection"),m=s("LinkButton"),u=s("PostmanIcon"),h=s("CreateSampleAppButton"),f=s("Alert"),y=s("Title"),b=s("CodeBlock"),g=s("ContinueLearningSection"),k=s("TileList"),T=s("Tile"),C=s("ResourceTile"),w={metadata:p};function v(e){var t=e.components,n=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},w,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(c,{skillLevel:"Basic",durationInMinutes:"10",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This tutorial will take you through the process of querying a component from a catalog in an organization."),(0,r.kt)("p",null,"By the end of this walk-through, you will be able to utilize the API endpoints in order to query components from a catalog and download associated files from the component.")),(0,r.kt)(d,{actions:[(0,r.kt)(m,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(u,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A tool such as ",(0,r.kt)("inlineCode",{parentName:"li"},"Postman")," that can be used to execute http calls. These calls can also be made using the ",(0,r.kt)("inlineCode",{parentName:"li"},"TryIt")," button in the API documentation."),(0,r.kt)("li",{parentName:"ul"},"User must be affiliated with an Organization and should either be an Organization Administrator or have \u201cRead\u201d permission at Organization level to upload components to catalog."),(0,r.kt)("li",{parentName:"ul"},"For more information about User Management please visit our Bentley Communities ",(0,r.kt)("a",{parentName:"li",href:"https://communities.bentley.com/communities/other_communities/licensing_cloud_and_web_services/w/wiki/50711/user-management-2-0"},"Licensing, Cloud, and Web Services")," wiki page."),(0,r.kt)("li",{parentName:"ul"},"A catalog containing few components already exists and User has the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," of the catalog.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Instructions to upload components to a catalog can be found ",(0,r.kt)("a",{parentName:"li",href:"/tutorials/upload-component-to-catalog"},"here")))))),(0,r.kt)(d,{actions:[(0,r.kt)(h,{tooltip:"Register a basic SPA App for this tutorial",scopes:["realitydata:read","imodels:read","imodels:modify","library:read","library:modify","storage:read","storage:modify"],clientName:"Upload component to catalog tutorial",mdxType:"CreateSampleAppButton"},"Register Application")],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-register-an-application"},"1. Register an Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs. You can use the ",(0,r.kt)("strong",{parentName:"p"},"Register")," button to automatically create your first single page application (SPA). This will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorize-single-page-applications-spa-and-desktopmobile-applications-native"},"Authorization Code Flow for your SPA application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_CLIENT_ID")," - this is the unique identifier for your application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_REDIRECT_URI")," - specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_LOGOUT_URI")," - specifies where users can be returned to after logging out. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Post logout redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_SCOPES")," - list of accesses granted to the application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Or optionally:")," Register and configure your application manually following instructions in ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial.\nMake sure that your application is associated with ",(0,r.kt)("strong",{parentName:"p"},"iModels"),", ",(0,r.kt)("strong",{parentName:"p"},"Library"),", ",(0,r.kt)("strong",{parentName:"p"},"RealityData")," and ",(0,r.kt)("strong",{parentName:"p"},"Storage")," APIs and has ",(0,r.kt)("inlineCode",{parentName:"p"},"realitydata:read imodels:read imodels:modify library:read library:modify storage:read storage:modify")," scopes enabled."))),(0,r.kt)(d,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-a-token"},"2. Get a token"),(0,r.kt)("p",null,"Before you can make a request to the APIs, a user token is needed. There are several ways to get it."),(0,r.kt)("h3",{id:"implement-authorization-code-flow-in-the-application"},"Implement Authorization Code Flow in the application"),(0,r.kt)("p",null,"Follow this ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/"},"article")," to implement Authorization code workflow in your application."),(0,r.kt)(f,{type:"informational",mdxType:"Alert"},"Here you can use Client ID generated from previous registration step."),(0,r.kt)("h3",{id:"grab-a-user-token-from-api-reference-try-it-section"},"Grab a user token from Api reference \u201cTry it\u201d Section"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go ",(0,r.kt)("a",{parentName:"li",href:"/apis/library/operations/upload-component/"},"here")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Try it")," button."),(0,r.kt)("li",{parentName:"ol"},"Under the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," section, select ",(0,r.kt)("inlineCode",{parentName:"li"},"authorizationCode")," from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"After the sign in popup closes, the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," header with token value should be visible beneath the ",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP request")," dropdown."),(0,r.kt)("li",{parentName:"ol"},"Copy & paste the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," value for this tutorial.")),(0,r.kt)(f,{type:"informational",mdxType:"Alert"},"Use user token to replace JWT_TOKEN dynamic parameter in the next steps.")),(0,r.kt)(d,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-query-components-from-a-catalog"},"3. Query Components From a Catalog"),(0,r.kt)("p",null,"Library API provides ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components")," endpoint to query components. When no query parameter is provided in the\nrequest, all the components from the organization are returned. You can set ",(0,r.kt)("inlineCode",{parentName:"p"},"$top")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"$skip")," query parameters to specify specific page and number of components in the response.\nQuery parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"projectId")," is used in case query is made to a project context but we will not use this, since in this tutorial we are dealing with organization context.\nIn next steps we will use two query parameters of this endpoint ",(0,r.kt)("inlineCode",{parentName:"p"},"catalogs")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"$search")," to query components from a catalog."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/apis/library/operations/get-components"},"Library API documentation to get components")," for more details.")),(0,r.kt)(d,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"GET https://api.bentley.com/library/components?catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757 HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Prefer: return=representation\nAccept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:'HTTP/1.1 200 OK \ncache-control: no-cache\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Thu, 09 Sep 2021 08:14:47 GMT\nelapsed-time: 276\nexpires: -1\nodata-version: 4.0\npragma: no-cache\npreference-applied: odata.include-annotations="*"\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nrequest-id: 58ea777e-2615-4f7c-9f3f-0c85e882e9fa\nstrict-transport-security: max-age=15724800; includeSubDomains\nvary: Accept-Encoding\nx-correlation-id: 1dd1cd38-4b6c-42b2-9104-2ae0353f4a63\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "components": [{\n        "id": "404f7540-63c7-49b5-be77-21b56074e58c",\n        "displayName": "Sample Door",\n        "description": "Tutorial sample door",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T07:27:07.055Z",\n        "lastModifiedDateTime": "2021-09-09T09:09:34.225Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["tutorialsampledoor", "wooden"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/3c18a35e-2524-4afb-b8cc-ac0447aa26dd"\n            },\n            "manufacturer": {\n                "href": "https://api.bentley.com/library/manufacturers/83d16fc5-7193-4726-bd6f-4a5a95c01ba1"\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/d41ad7d4-12cb-44ee-912d-8ff24936fd4a"\n            }\n        }\n    }, {\n        "id": "a0aff8bb-1d8e-4227-9cee-a1b87a646e34",\n        "displayName": "Sample Window",\n        "description": "A sample window",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T09:09:11.145Z",\n        "lastModifiedDateTime": "2021-09-09T09:09:11.543Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["wooden"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/3c18a35e-2524-4afb-b8cc-ac0447aa26dd"\n            },\n            "manufacturer": {\n                "href": null\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/d41ad7d4-12cb-44ee-912d-8ff24936fd4a"\n            }\n        }\n    }, {\n        "id": "57fefe11-df1d-40c7-ae1a-02e233b9a7c7",\n        "displayName": "Tutorial Sample Component",\n        "description": "Tutorial Sample Description",\n        "state": "Published",\n        "createdDateTime": "2021-09-06T15:17:45.883Z",\n        "lastModifiedDateTime": "2021-09-06T15:37:06.137Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["SampleTag1", "SampleTag2"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/1418693a-8f60-4719-af0b-ceee1ad41e33"\n            },\n            "manufacturer": {\n                "href": "https://api.bentley.com/library/manufacturers/d4485150-ad6d-4d76-a3e2-50a0f690afc9"\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/63b7d70a-a426-4530-8c0f-3efd6a6c0da7"\n            }\n        }\n    }],\n    "_links": {\n        "self": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "prev": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "next": {\n            "href": "https://api.bentley.com/library/components?$skip=100&$top=100"\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"31-query-all-components-from-a-catalog"},"3.1 Query All Components From a Catalog"),(0,r.kt)("p",null,"We already have a catalog with ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," 7f427c30\u20138dce-4803\u201381dc-e8681a3bd757 and it has three components. By providing catalog Id to ",(0,r.kt)("inlineCode",{parentName:"p"},"catalogs")," query parameters, you can get\nall the components in the catalog. ",(0,r.kt)("inlineCode",{parentName:"p"},"catalogs")," query parameter can accept a comma separated string of multiple catalog Ids to return components from more than one catalogs but for this tutorial\nwe will use a single catalog Id. Let\u2019s make a GET call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components?catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757")," endpoint. Response contains all the components\nfrom this catalog, in this case there are three components."),(0,r.kt)("p",null,"By default, ",(0,r.kt)("inlineCode",{parentName:"p"},"Prefer")," header is set to \u201creturn=minimal\u201d to return only ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," of the components in the response, We have changed this value to \u201creturn=representation\u201d\nto get all the properties of the component in the response.")),(0,r.kt)(d,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"GET https://api.bentley.com/library/components?$search=Door&catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757 HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Prefer: return=representation\nAccept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:'HTTP/1.1 200 OK \ncache-control: no-cache\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Thu, 09 Sep 2021 08:14:47 GMT\nelapsed-time: 276\nexpires: -1\nodata-version: 4.0\npragma: no-cache\npreference-applied: odata.include-annotations="*"\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nrequest-id: 58ea777e-2615-4f7c-9f3f-0c85e882e9fa\nstrict-transport-security: max-age=15724800; includeSubDomains\nvary: Accept-Encoding\nx-correlation-id: 1dd1cd38-4b6c-42b2-9104-2ae0353f4a63\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "components": [{\n        "id": "404f7540-63c7-49b5-be77-21b56074e58c",\n        "displayName": "Sample Door",\n        "description": "Tutorial sample door",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T07:27:07.055Z",\n        "lastModifiedDateTime": "2021-09-09T07:27:07.493Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["tutorialsampledoor"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/3c18a35e-2524-4afb-b8cc-ac0447aa26dd"\n            },\n            "manufacturer": {\n                "href": "https://api.bentley.com/library/manufacturers/83d16fc5-7193-4726-bd6f-4a5a95c01ba1"\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/d41ad7d4-12cb-44ee-912d-8ff24936fd4a"\n            }\n        }\n    }],\n    "_links": {\n        "self": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "prev": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "next": {\n            "href": "https://api.bentley.com/library/components?$skip=100&$top=100"\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"32-search-components-by-display-name-from-a-catalog"},"3.2 Search Components by Display Name From a Catalog"),(0,r.kt)("p",null,"We can also search specific components from a catalog by applying ",(0,r.kt)("inlineCode",{parentName:"p"},"$search")," query parameter in addition to ",(0,r.kt)("inlineCode",{parentName:"p"},"catalogs")," query parameter. ",(0,r.kt)("inlineCode",{parentName:"p"},"$search")," searches for the string in the ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"hashtags")," property values\nof the components. One of the components, we retrieved from the catalog in previous steps has a ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," value \u201cSample Door\u2019. We can use a substring from this displayName value 'Door\u201d to search this particular component.\nMake a GET call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components?$search=Door&catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757")," endpoint, this time the response contains only single component that has ",(0,r.kt)("inlineCode",{parentName:"p"},"$search")," query parameter value\nin the ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName")," property.")),(0,r.kt)(d,{subSection:!0,actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"GET https://api.bentley.com/library/components?$search=wooden&catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757 HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Prefer: return=representation\nAccept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:'HTTP/1.1 200 OK \ncache-control: no-cache\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Thu, 09 Sep 2021 08:14:47 GMT\nelapsed-time: 276\nexpires: -1\nodata-version: 4.0\npragma: no-cache\npreference-applied: odata.include-annotations="*"\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nrequest-id: 58ea777e-2615-4f7c-9f3f-0c85e882e9fa\nstrict-transport-security: max-age=15724800; includeSubDomains\nvary: Accept-Encoding\nx-correlation-id: 1dd1cd38-4b6c-42b2-9104-2ae0353f4a63\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US',mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "components": [{\n        "id": "a0aff8bb-1d8e-4227-9cee-a1b87a646e34",\n        "displayName": "Sample Window",\n        "description": "A sample window",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T09:09:11.145Z",\n        "lastModifiedDateTime": "2021-09-09T09:09:11.543Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["wooden"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/3c18a35e-2524-4afb-b8cc-ac0447aa26dd"\n            },\n            "manufacturer": {\n                "href": null\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/d41ad7d4-12cb-44ee-912d-8ff24936fd4a"\n            }\n        }\n    }, {\n        "id": "404f7540-63c7-49b5-be77-21b56074e58c",\n        "displayName": "Sample Door",\n        "description": "Tutorial sample door",\n        "state": "Draft",\n        "createdDateTime": "2021-09-09T07:27:07.055Z",\n        "lastModifiedDateTime": "2021-09-09T09:09:34.225Z",\n        "supportedFileTypes": ["RFA"],\n        "hashtags": ["tutorialsampledoor", "wooden"],\n        "_links": {\n            "catalogs": [{\n                "href": "https://api.bentley.com/library/catalogs/7f427c30-8dce-4803-81dc-e8681a3bd757"\n            }],\n            "application": {\n                "href": "https://api.bentley.com/library/applications/3c18a35e-2524-4afb-b8cc-ac0447aa26dd"\n            },\n            "manufacturer": {\n                "href": "https://api.bentley.com/library/manufacturers/83d16fc5-7193-4726-bd6f-4a5a95c01ba1"\n            },\n            "category": {\n                "href": "https://api.bentley.com/library/categories/d41ad7d4-12cb-44ee-912d-8ff24936fd4a"\n            }\n        }\n    }],\n    "_links": {\n        "self": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "prev": {\n            "href": "https://api.bentley.com/library/components?$skip=0&$top=100"\n        },\n        "next": {\n            "href": "https://api.bentley.com/library/components?$skip=100&$top=100"\n        }\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"33-search-components-by-hashtags-from-a-catalog"},"3.3 Search Components by Hashtags From a Catalog"),(0,r.kt)("p",null,"In the previous step, we searched a component by applying a string value from the ",(0,r.kt)("inlineCode",{parentName:"p"},"displayName"),". We will use ",(0,r.kt)("inlineCode",{parentName:"p"},"$search")," query parameter again but this time, we will use a string from the ",(0,r.kt)("inlineCode",{parentName:"p"},"hashtags")," property value.\nCouple of components, we retrieved from the catalog in previous steps has one of the ",(0,r.kt)("inlineCode",{parentName:"p"},"hashtags")," value 'wooden\u2019. We can use this value to search components having this hashtag value.\nMake a GET call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components?$search=wooden&catalogs=7f427c30-8dce-4803-81dc-e8681a3bd757")," endpoint, this time the response contains both the components containing \u201cwooden\u201d\nin the ",(0,r.kt)("inlineCode",{parentName:"p"},"hashtags")," property.")),(0,r.kt)(d,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(b,{language:"http",code:"GET https://api.bentley.com/library/components/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/documents HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Request Headers"),(0,r.kt)(b,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Headers"),(0,r.kt)(b,{language:"http",code:"HTTP/1.1 200 OK \ncontent-encoding: gzip\ncontent-type: application/json\ndate: Wed, 08 Sep 2021 09:51:02 GMT\nodata-version: 4.0\nrequest-context: appId=cid-v1:6ee7c246-23f0-43be-ac34-bbbb36da72e9\nvary: Accept-Encoding\nx-correlation-id: 2c094e5a-b770-4240-9aeb-67bca189263a\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(y,{mdxType:"Title"},"Response Body"),(0,r.kt)(b,{language:"json",code:'{\n    "documents": [{\n        "id": "3938de7f-ebf2-470f-b41a-d314fdb90ec7",\n        "displayName": "TutorialSampleFile",\n        "extension": "rfa",\n        "version": "1",\n        "previousVersionId": null,\n        "purpose": "Design",\n        "size": 749568,\n        "available": true,\n        "isActive": true,\n        "createdDateTime": "2021-09-06T15:17:46.0180736Z",\n        "lastModifiedDateTime": "2021-09-06T15:17:46.1465969Z",\n        "_links": {\n            "associatedDesignDocument": {\n                "href": null\n            },\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/3938de7f-ebf2-470f-b41a-d314fdb90ec7.rfa?sv=2018-03-28&sr=b&sig=Smec6HJrZCKZGXYARrGkU1RWJuaO3jqmXKs3%2B5irnak%3D&se=2021-09-08T10%3A51%3A03Z&sp=r&rscd=attachment%3B%20filename%3DTutorialSampleFile.rfa"\n            }\n        }\n    }, {\n        "id": "4f618030-ba8c-4144-872e-c61842c3d90e",\n        "displayName": "TutorialSampleFile.png",\n        "extension": "png",\n        "version": null,\n        "previousVersionId": null,\n        "purpose": "Thumbnail",\n        "size": 0,\n        "available": true,\n        "isActive": true,\n        "createdDateTime": "2021-09-06T15:17:46.2226747Z",\n        "lastModifiedDateTime": "2021-09-06T15:17:46.3093526Z",\n        "_links": {\n            "associatedDesignDocument": {\n                "href": "https://api.bentley.com/library/components/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/documents/3938de7f-ebf2-470f-b41a-d314fdb90ec7"\n            },\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/public-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/4f618030-ba8c-4144-872e-c61842c3d90e.png"\n            }\n        }\n    }, {\n        "id": "f9d9f7ce-a014-4b54-b0a6-e351482ec3a5",\n        "displayName": "TutorialSampleFile",\n        "extension": "txt",\n        "version": null,\n        "previousVersionId": null,\n        "purpose": "TypeCatalog",\n        "size": 760,\n        "available": true,\n        "isActive": true,\n        "createdDateTime": "2021-09-06T15:17:46.4256707Z",\n        "lastModifiedDateTime": "2021-09-06T15:17:46.510613Z",\n        "_links": {\n            "associatedDesignDocument": {\n                "href": "https://api.bentley.com/library/components/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/documents/3938de7f-ebf2-470f-b41a-d314fdb90ec7"\n            },\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/f9d9f7ce-a014-4b54-b0a6-e351482ec3a5.txt?sv=2018-03-28&sr=b&sig=1yb19XFDPtuEl6rYiFDLuCjz%2FO8a3r7h89KAHdFwvw8%3D&se=2021-09-08T10%3A51%3A03Z&sp=r&rscd=attachment%3B%20filename%3DTutorialSampleFile.txt"\n            }\n        }\n    }, {\n        "id": "bf15e508-3b59-49d5-a1b5-ea9ef9d66515",\n        "displayName": "Tutorial Sample Document",\n        "extension": "pdf",\n        "version": "1",\n        "previousVersionId": null,\n        "purpose": "Reference",\n        "size": 388077,\n        "available": true,\n        "isActive": true,\n        "createdDateTime": "2021-09-06T15:46:51.5524663Z",\n        "lastModifiedDateTime": "2021-09-06T15:54:47.206787Z",\n        "_links": {\n            "associatedDesignDocument": {\n                "href": null\n            },\n            "fileUrl": {\n                "href": "https://componentscenprodeussa01.blob.core.windows.net/private-5a7b3c7c-03af-49f0-b1df-115ddc0e0048/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/bf15e508-3b59-49d5-a1b5-ea9ef9d66515.pdf?sv=2018-03-28&sr=b&sig=oft6xWrKourfRl5Nemd03duMS9pmi8zkiaPSE8Pynzw%3D&se=2021-09-08T10%3A51%3A03Z&sp=r&rscd=attachment%3B%20filename%3DTutorial%2BSample%2BDocument.pdf"\n            }\n        }\n    }]\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-get-component-documents-and-download-files"},"4. Get Component Documents and Download Files"),(0,r.kt)("p",null,"So far, we have already learnt how to search components from a catalog. Once we have the component, We can use ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," and make a GET call to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.bentley.com/library/components/57fefe11-df1d-40c7-ae1a-02e233b9a7c7/documents")," endpoint\nto get all the documents associated to the component. ",(0,r.kt)("inlineCode",{parentName:"p"},"_links->fileUrl-href")," property value in each document instance in the response, provides the url of the file associated with the document. File download can be done\nby making a Http GET request on the provided url via tool such as ",(0,r.kt)("inlineCode",{parentName:"p"},"Postman")," or programmatically use Azure libraries to download file (",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob"},"https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob"),").")),(0,r.kt)(g,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,r.kt)("p",null,"Congratulation for completing Query and Download Component from Catalog tutorial! You should be able to query components from a catalog and download files associated to component documents."),(0,r.kt)(k,{mdxType:"TileList"},(0,r.kt)(T,{name:"Upload Component to a Catalog",description:"Guide on uploading component to a catalog.",href:"/tutorials/upload-component-to-catalog/",mdxType:"Tile"}),(0,r.kt)(T,{name:"Create a Component",description:"Guide on creating a new component in an organization.",href:"/tutorials/create-a-component/",mdxType:"Tile"})),(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(k,{mdxType:"TileList"},(0,r.kt)(C,{title:"Library API",href:"/apis/library/",description:"There are more capabilities, which could be used for managing components in library.",mdxType:"ResourceTile"}),(0,r.kt)(C,{title:"iTwin Library Sample App",href:"https://github.com/iTwin/library-api-sample-app",description:"Sample application that uses the Library API to create, upload and query components.",isExternal:!0,mdxType:"ResourceTile"}))))}v.isMDXComponent=!0;var N=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-register-an-application",level:2,title:"1. Register an Application",children:[]},{id:"2-get-a-token",level:2,title:"2. Get a token",children:[{id:"implement-authorization-code-flow-in-the-application",level:3,title:"Implement Authorization Code Flow in the application",children:[]},{id:"grab-a-user-token-from-api-reference-try-it-section",level:3,title:"Grab a user token from Api reference \u201cTry it\u201d Section",children:[]}]},{id:"3-query-components-from-a-catalog",level:2,title:"3. Query Components From a Catalog",children:[{id:"31-query-all-components-from-a-catalog",level:3,title:"3.1 Query All Components From a Catalog",children:[]},{id:"32-search-components-by-display-name-from-a-catalog",level:3,title:"3.2 Search Components by Display Name From a Catalog",children:[]},{id:"33-search-components-by-hashtags-from-a-catalog",level:3,title:"3.3 Search Components by Hashtags From a Catalog",children:[]}]},{id:"4-get-component-documents-and-download-files",level:2,title:"4. Get Component Documents and Download Files",children:[]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}}}]);