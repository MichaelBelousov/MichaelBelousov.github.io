(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4453],{78866:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return le}});var r=t(80989),i=t(2905),o=t(59499),s=t(50029),a=t(27812),c=t(87794),l=t.n(c),u=t(57255),d=t(11163),f=t.n(d),h=t(67294),v=t(5948),p=t(71747),m=t(46415),g=t(61686),b=t(20949);var j=function(){var e=(0,h.useRef)(!1);return(0,h.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,h.useCallback)((function(){return e.current}),[])},x=t(8302),y=t(73351),O=t(89026),w=t(70268),C=t(31727),P=t(31993),N=t(85893);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){return(0,N.jsx)("svg",S(S({},e),{},{children:(0,N.jsx)("path",{d:"M6.763 7.198a3.365 3.365 0 0 0 3.052-3.602c0-2.743-1.356-3.6-3.052-3.6S3.71.852 3.71 3.595a3.365 3.365 0 0 0 3.053 3.602Zm5.2.74A4.036 4.036 0 1 0 16 11.973a4.036 4.036 0 0 0-4.036-4.037Zm-.683 6.212-2.03-1.828.667-.744 1.303 1.172 2.728-2.953.73.682Zm-4.092-2.176a4.755 4.755 0 0 1 2.454-4.15l-.42-.217h-.17a3.86 3.86 0 0 1-2.276.848 3.935 3.935 0 0 1-2.303-.848h-.17L1.93 8.844a.654.654 0 0 0-.34.33l-1.526 3.38a.88.88 0 0 0 0 .659.779.779 0 0 0 .678.33h6.731a4.728 4.728 0 0 1-.285-1.57Z"})}))};k.defaultProps={"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"};var Z=function(e){return(0,N.jsx)(k,S({},e))},D=t(37621),M=t(64257),R=t(23576),F=(t(3357),t(6227)),E=t(51477),B=t(51974);t(79096);var L=function(e){var n=e.accountName,t=e.styleType;return(0,N.jsx)(B.Z,{children:(0,N.jsx)(F.Avatar,{id:"account-info-icon",className:"avatar","data-style-type":t,abbreviation:E.c.getAccountAbbreviation(n),backgroundColor:(0,F.getUserColor)(n),title:n})})};t(84369);var U=function(e){var n=e.organizationName;return(0,N.jsxs)("div",{className:"profile-page-header-content",children:[(0,N.jsx)(L,{accountName:null!==n&&void 0!==n?n:"",styleType:"thumbnail",size:"x-large"}),(0,N.jsx)("div",{className:"account-info",children:(0,N.jsx)(u.Text,{variant:"title",id:"user-full-name",children:n})})]})},A=t(4730),_=t(94184),I=t.n(_),z=t(85804),V=t(6649);var W=function(e){var n=e.onDelete,t=e.isOpen,r=e.onClose;return(0,N.jsxs)(u.Modal,{id:"delete-users-modal",title:"Remove users",isOpen:t,onClose:r,children:["Selected users will be removed from this account. Are you sure you want to remove these users?",(0,N.jsxs)(u.ModalButtonBar,{children:[(0,N.jsx)(u.Button,{onClick:function(){r(),n().then((function(){return u.toaster.positive("Selected users have been removed from this account.")})).catch((function(e){return u.toaster.negative("Failed to remove selected users from this account.\n".concat(e))}))},styleType:"high-visibility",children:"Remove"}),(0,N.jsx)(u.Button,{onClick:r,children:"Cancel"})]})]})};var H=function(e){var n=e.isOpen,t=e.onModify,r=e.onClose;return(0,N.jsxs)(u.Modal,{id:"modify-users-role-modal",title:"Modify users role",isOpen:n,onClose:r,children:["The role you are assigning has more permissions than the current role."," ",(0,N.jsx)("a",{href:g.QR,target:"_blank",rel:"noreferrer",children:"Learn more"}),(0,N.jsxs)(u.ModalButtonBar,{children:[(0,N.jsx)(u.Button,{onClick:function(){r(),t().then((function(){u.toaster.positive("Roles for selected users have been modified. Changes to user roles take effect upon the next user sign in.")}),(function(){return u.toaster.negative("Failed to modify roles for selected user.")}))},styleType:"high-visibility",children:"Modify"}),(0,N.jsx)(u.Button,{onClick:r,children:"Cancel"})]})]})},Q=(t(65509),["className"]),X=["className"],G=["className"],K=["className"];function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J=function(e){var n=e.organizationUsers,t=e.selectedUsers,r=e.onRoleUpdate,i=e.pageSize,o=void 0===i?z.CY:i,a=e.currentUser,c=e.onSelectChange,d=e.isLoading,f=void 0!==d&&d,p=e.minified,m=void 0!==p&&p,g=e.isTrialSubscription,b=void 0!==g&&g,j=e.emptyTableContent,x=(0,h.useState)(0),y=x[0],O=x[1],w=(0,h.useState)(),C=w[0],P=w[1],T=(0,h.useState)(!1),S=T[0],k=T[1],Z=(0,h.useState)(!1),D=Z[0],M=Z[1],R=Object.values(V.i).map((function(e){return{value:e,label:e}})),F=(0,h.useCallback)((function(e){if(c){var t=e.map((function(e){return n.find((function(n){return n.email===e.email}))}));t&&t.length>0?c(t):c([])}}),[c,n]),E=function(){var e=(0,s.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return P(void 0),e.next=4,r(n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=(0,h.useCallback)((function(e){return!!b||!!a&&e.email===a.email}),[a,b]),L=(0,h.useCallback)((function(){return m?"minified":0===(null===t||void 0===t?void 0:t.length)?"actionable":""}),[m,t]),U=(0,h.useCallback)((function(e){return(0,N.jsx)(u.TablePaginator,q(q({},e),{},{focusActivationMode:"auto",onPageChange:function(n){O(n),e.onPageChange(n)},pageSizeList:z.DF}))}),[]),_=(0,h.useCallback)((function(e){var n=e.className,t=(0,A.Z)(e,Q);return(0,N.jsx)(u.DefaultCell,q(q({className:n},t),{},{children:(0,N.jsx)(u.Tooltip,{content:t.children,delay:[500,null],children:(0,N.jsx)("div",{className:"truncation-wrapper",children:t.children})})}))}),[]),Y=(0,h.useCallback)((function(e){var t=e.className,r=(0,A.Z)(e,X);return B(r.cellProps.row.original)?_(r):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.DefaultCell,q(q({className:I()([t,"role-selector-cell"])},r),{},{children:(0,N.jsx)(u.Select,{className:"role-selector",placeholder:"Select user role",options:R,onChange:function(e){var t=q(q({},n.find((function(e){return e.email===r.cellProps.row.original.email}))),{},{role:e});!m&&R.findIndex((function(n){return n.value===e}))>R.findIndex((function(e){return e.value===r.cellProps.row.original.role}))?(P(t),k(!0)):E(t).then((function(){!m&&u.toaster.positive("Roles for selected users have been modified. Changes to user roles take effect upon the next user sign in.")}),(function(){return!m&&u.toaster.negative("Failed to modify roles for selected user.")}))},value:r.cellProps.row.original.role})})),_(q({className:"editable-cell"},r))]})}),[B,R,_,n,m,E]),J=(0,h.useCallback)((function(e){var n=e.className,t=(0,A.Z)(e,G);return(0,N.jsx)(u.DefaultCell,q(q({className:n},t),{},{children:(0,N.jsx)("div",{style:{maxWidth:56}})}))}),[]),$=(0,h.useCallback)((function(e){var t=e.className,r=(0,A.Z)(e,K);return B(r.cellProps.row.original)?J(r):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.DefaultCell,q(q({className:I()([t,"delete-cell"])},r),{},{children:(0,N.jsx)(u.Tooltip,{content:"Remove user",children:(0,N.jsx)(u.IconButton,{id:"remove-user".concat(r.cellProps.row.index),styleType:"borderless",onClick:(0,s.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=n.find((function(e){return e.email===r.cellProps.row.original.email})))&&(t.role=void 0),P(t),m){e.next=7;break}M(!0),e.next=9;break;case 7:return e.next=9,E(t);case 9:case"end":return e.stop()}}),e)}))),children:(0,N.jsx)(v.vWV,{})})})})),J(q({className:"editable-cell"},r))]})}),[B,n,m,E,J]),ee=(0,h.useMemo)((function(){return[{Header:"Table",columns:[{id:"name",Header:"Name",accessor:"name",sortType:"string",Filter:u.tableFilters.TextFilter(),cellRenderer:_},{id:"email",Header:"Email",accessor:"email",sortType:"string",Filter:u.tableFilters.TextFilter(),cellRenderer:_},{id:"role",Header:"Role",accessor:"role",sortType:"string",Filter:u.tableFilters.TextFilter(),cellRenderer:Y},{id:"delete",maxWidth:56,cellRenderer:$}]}]}),[Y,_,$]),ne=(0,h.useMemo)((function(){return f?[]:n.filter((function(e){return e.role})).map((function(e){return{name:"".concat(e.givenName," ").concat(e.surname),email:e.email,role:e.role}}))}),[f,n]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.Table,{className:I()(["account-users-table",L()]),columns:ee,data:ne,isRowDisabled:B,emptyTableContent:j,initialState:{sortBy:[{id:"name"},{id:"email"}],pageIndex:y},isLoading:f,isSelectable:!m,isSortable:!m&&!b,disableFilters:m||b,selectRowOnClick:!1,onSelect:F,rowProps:function(){return{className:"account-user-row"}},paginatorRenderer:ne.length>o?U:void 0,pageSize:o}),S&&(0,N.jsx)(H,{isOpen:S,onModify:function(){return E(C)},onClose:function(){return k(!1)}}),D&&(0,N.jsx)(W,{isOpen:D,onDelete:function(){return E(C)},onClose:function(){return M(!1)}})]})};t(99692);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ne=function(e){var n=e.onUsersAdd,t=e.isOpen,r=e.onClose,i=e.getUsers,o=(0,h.useState)(""),c=o[0],d=o[1],f=(0,h.useState)(""),v=f[0],p=f[1],m=(0,h.useState)([]),b=m[0],j=m[1],x=(0,h.useState)([]),y=x[0],O=x[1],w=(0,h.useState)("To get users insert 3 more characters"),C=w[0],P=w[1],T=(0,h.useState)(""),S=T[0],k=T[1],Z=(0,h.useState)(!1),D=Z[0],M=Z[1],R=function(){j([]),O([]),P("To get users insert 3 more characters"),d(""),p(""),k(""),r(),M(!1)},F=(0,h.useCallback)((function(){if(void 0===y||0===y.length||c.length>0&&c.length<3)return[];var e=c.toLocaleLowerCase();return y.filter((function(n){return-1!==n.email.toLocaleLowerCase().indexOf(e)||-1!=="".concat(n.givenName," ").concat(n.surname).toLocaleLowerCase().indexOf(e)})).map((function(e,n){return{id:"user_"+n,value:e.email,label:"".concat(e.givenName," ").concat(e.surname),sublabel:e.email,disabled:!!e.role||b.filter((function(n){return n.email===e.email})).length>0}})).sort((function(e,n){return e.value.localeCompare(n.value)})).sort((function(e,n){return e.disabled===n.disabled?0:e.disabled?1:-1}))}),[y,b,c]);function E(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n((function(n){var r=n.filter((function(n){return n.email!==e.email}));return t||void 0!==e.role?[].concat((0,a.Z)(r),[e]):(0,a.Z)(r)}))}return(0,h.useEffect)((function(){if(""!==S){var e=y.find((function(e){return e.email===S}));if(e)E(ee(ee({},e),{},{role:V.i.Developer}),j),d(""),k("")}}),[S,y]),(0,N.jsxs)(u.Modal,{id:"add-user-modal",title:"Add users",isOpen:t,onClose:R,children:[(0,N.jsxs)("div",{className:"add-user-modal-content",children:[(0,N.jsx)(u.ComboBox,{id:"user-search-combo-box",inputProps:{placeholder:"Type name or email",value:c,onInput:function(e){M(!1),d(e.currentTarget.value),e.currentTarget.value.length<3&&"Loading users..."!==C?(P("To get users insert ".concat(3-e.currentTarget.value.length," more characters")),0===e.currentTarget.value.length&&(O([]),p(""))):e.currentTarget.value.length>=3&&"Loading users..."!==C&&P("No users found");var n=e.currentTarget.value.toLocaleLowerCase();n.length>=3&&(-1===n.indexOf(v)||0===v.length)&&function(e){P("Loading users...");var n=e.toLocaleLowerCase().slice(0,3);p(n),i({onlyWithRoles:!1,search:n}).then((function(e){p(n),O(e),P("No users found")}))}(n)},onKeyDown:function(e){var n;"Enter"===e.key&&!1===D&&c.length>2&&void 0!==(null===(n=F()[0])||void 0===n?void 0:n.value)&&k(F()[0].value)}},itemRenderer:function(e,n){return!0===n.isFocused&&M(!0),(0,N.jsx)(u.MenuItem,{id:e.id,value:e.value,disabled:e.disabled,sublabel:e.sublabel,title:e.label,children:e.label})},emptyStateMessage:C,options:F(),filterFunction:function(e,n){return n.length<3?[]:e},onChange:(0,h.useCallback)((function(e){k(e)}),[]),onShow:function(){0===c.length&&(O([]),p(""),P("To get users insert 3 more characters"))}}),b.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(J,{organizationUsers:b,onRoleUpdate:function(){var e=(0,s.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(n,j),E(n,O,!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),pageSize:5,minified:!0}),(0,N.jsx)("a",{href:g.QR,id:"role-permissions-link",target:"_blank",rel:"noreferrer",children:"View role permissions"})]})]}),(0,N.jsxs)(u.ModalButtonBar,{children:[(0,N.jsx)(u.Button,{onClick:function(){n(b).then((function(){u.toaster.positive("New users have been added to this account.")})).catch((function(e){u.toaster.negative("Failed to add new users to this account. ".concat(e))})),R()},styleType:"high-visibility",disabled:0===b.length,id:"add-users-roles",children:"Add"}),(0,N.jsx)(u.Button,{id:"cancel-users-roles",onClick:R,children:"Cancel"})]})]})};t(69054);function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ie=function(e){var n=e.selectedUsers,t=e.updateUserRoles,r=e.isOpen,i=e.onClose,o=(0,h.useState)(V.i.Developer),c=o[0],d=o[1],f=Object.values(V.i),v=function(){i(),d(V.i.Developer)};(0,h.useEffect)((function(){r&&(d(V.i.Developer),u.toaster.closeAll())}),[r]);var p=function(){var e=(0,s.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){var n=re({},e);return n.role=c,n})),e.abrupt("return",t(r));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){d(e.target.value)},b=(0,h.useCallback)((function(){var e=n.map((function(e){return e.role?f.findIndex((function(n){return n===e.role})):-1})),t=Math.min.apply(Math,(0,a.Z)(e));return f.findIndex((function(e){return e===c}))>t}),[n,c]);return(0,N.jsxs)(u.Modal,{id:"modify-users-modal",title:"Modify users role",isOpen:r,onClose:i,children:[(0,N.jsxs)("div",{className:"modify-users-modal-content",children:[(0,N.jsx)(u.Text,{children:"".concat(n.length," ").concat(1===n.length?"user":"users"," selected")}),(0,N.jsx)(u.InputGroup,{children:f.map((function(e){return(0,N.jsx)(u.Radio,{name:"role",value:e,label:e,required:!0,onChange:m,defaultChecked:e===V.i.Developer},e)}))}),b()&&(0,N.jsx)(u.Alert,{type:"warning",clickableText:"Learn more",clickableTextProps:{href:g.QR,target:"_blank"},children:"The role you are assigning has more permissions than the current role."})]}),(0,N.jsxs)(u.ModalButtonBar,{children:[(0,N.jsx)(u.Button,{onClick:function(){p().then((function(){u.toaster.positive("Roles for selected users have been modified. This change will take effect on next user sign in.")})).catch((function(e){return u.toaster.negative("Failed to modify roles for selected users.\n".concat(e))})),v()},styleType:"high-visibility",children:"Modify"}),(0,N.jsx)(u.Button,{onClick:v,children:"Cancel"})]})]})};function oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function se(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ae=function(){var e,n=(0,w.n)(),t=(0,O.L)(),r=(0,h.useState)(!0),i=r[0],o=r[1],c=(0,h.useState)(!1),d=c[0],T=c[1],S=(0,h.useState)(!1),k=S[0],F=S[1],E=(0,h.useState)(!1),B=E[0],L=E[1],A=(0,h.useState)(!1),_=A[0],I=A[1],z=(0,h.useState)(),V=z[0],H=z[1],Q=(0,h.useState)([]),X=Q[0],G=Q[1],K=(0,h.useState)([]),Y=K[0],q=K[1],$=j(),ee=(0,x.k)().session,te=(0,b.A)(),re=(null===ee||void 0===ee||null===(e=ee.subscription)||void 0===e?void 0:e.tier)===p.K.Trial,oe=(0,h.useState)("No users."),ae=oe[0],ce=oe[1],le=(0,h.useState)(!1),ue=le[0],de=le[1],fe=(0,h.useState)(!1),he=fe[0],ve=fe[1];(0,h.useEffect)((function(){G([])}),[Y]),(0,h.useEffect)((function(){T(0!==X.length)}),[X]),(0,h.useEffect)((function(){n&&null!==ee&&void 0!==ee&&ee.profile.email&&null!==ee&&void 0!==ee&&ee.areas.manageUserRoles&&te.getAllOrganizationUsers({onlyWithRoles:!0}).then((function(e){if($()){var n,t,r,i={givenName:null!==(n=null===ee||void 0===ee?void 0:ee.profile.givenName)&&void 0!==n?n:"",surname:null!==(t=null===ee||void 0===ee?void 0:ee.profile.familyName)&&void 0!==t?t:"",email:null!==(r=null===ee||void 0===ee?void 0:ee.profile.email)&&void 0!==r?r:"",role:null===ee||void 0===ee?void 0:ee.profile.role};q([].concat((0,a.Z)(e.filter((function(e){return e.email!==i.email}))),[i])),H(i)}})).catch((function(){de(!0),ce("User list could not be loaded."),u.toaster.negative("Failed to load users in account.")})).finally((function(){o(!1)}))}),[te,n,ee,$,he]),(0,h.useEffect)((function(){!ee||null!==ee&&void 0!==ee&&ee.areas.manageUserRoles||f().push(g.Hi)}),[ee]);var pe,me,ge,be,je,xe,ye=function(){var e=(0,s.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,te.updateUserRoles(n).then((function(){var e=[].concat((0,a.Z)(Y.filter((function(e){return 0===n.filter((function(n){return n.email===e.email})).length}))),(0,a.Z)(n.filter((function(e){return null!==e.role}))));q(e)})).catch((function(){throw o(!0),ve((function(e){return!e})),new Error("Cannot update user roles.")})).finally((function(){o(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Oe=(0,N.jsx)(u.Button,{id:"add-users",styleType:"high-visibility",onClick:function(){return F(!0)},disabled:i||re||ue,children:"Add users"}),we=(0,N.jsxs)(u.ButtonGroup,{children:[(0,N.jsx)(u.Tooltip,{content:"Modify users role",children:(0,N.jsx)(u.IconButton,{id:"modify-users-role",disabled:!d||re,onClick:function(){return L(!0)},children:(0,N.jsx)(Z,{})})}),(0,N.jsx)(u.Tooltip,{content:"Remove users from account",children:(0,N.jsx)(u.IconButton,{id:"remove-users-role",disabled:!d||re,onClick:function(){return I(!0)},children:(0,N.jsx)(v.vWV,{})})})]}),Ce="This functionality is available on a paid subscription";return null!==ee&&void 0!==ee&&ee.areas.manageUserRoles?(0,N.jsxs)("div",{id:"page-with-secondary-header",className:"account-settings-page page-content-container",children:[(0,N.jsx)(C.Z,{headerContent:(0,N.jsx)(U,{organizationName:(null===ee||void 0===ee||null===(pe=ee.account)||void 0===pe?void 0:pe.displayName)||""}),children:(0,N.jsxs)("div",{className:"page-content",children:[(0,N.jsx)(D.Z,{sectionTitle:"Subscription information",headerAction:(0,N.jsx)("a",{href:"".concat(g.xJ),target:"_blank",rel:"noreferrer",children:(0,N.jsx)(u.Button,{startIcon:(0,N.jsx)(v.b4C,{}),children:"Manage"})}),children:(0,N.jsxs)(M.Z,{isFullWidth:!0,children:[(0,N.jsx)(R.Z,{label:"Tier",value:null!==(me=null===ee||void 0===ee||null===(ge=ee.account)||void 0===ge||null===(be=ge.subscription)||void 0===be?void 0:be.tier)&&void 0!==me?me:"",children:t[m.Xb]&&(0,N.jsx)(y.Z,{href:g.rh,children:(0,N.jsx)(u.Text,{children:"See consumption details"})})},"Tier"),(0,N.jsx)(u.Text,{className:"section-sub-title",variant:"leading",children:"Payment detail"}),(0,N.jsx)(R.Z,{label:"Billed to",value:null===ee||void 0===ee||null===(je=ee.account)||void 0===je||null===(xe=je.subscription)||void 0===xe?void 0:xe.billedTo},"Billed to")]})}),(0,N.jsx)(D.Z,{sectionTitle:"Users",children:(0,N.jsx)(M.Z,{isFullWidth:!0,children:(0,N.jsxs)("div",{className:"users-section-content",children:[(0,N.jsx)("div",{className:"user-management-button-bar",children:re?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.Tooltip,{content:Ce,children:(0,N.jsx)("div",{children:Oe})}),(0,N.jsx)(u.Tooltip,{content:Ce,children:(0,N.jsx)("div",{children:we})})]}):(0,N.jsxs)(N.Fragment,{children:[Oe,we]})}),(0,N.jsx)(J,{organizationUsers:Y,selectedUsers:X,onRoleUpdate:function(e){return ye([e])},onSelectChange:function(e){return G(e)},currentUser:V,isLoading:i,isTrialSubscription:re,emptyTableContent:ae}),(0,N.jsxs)(u.Small,{children:["* Each role has a predetermined set of permissions."," ",(0,N.jsx)("a",{href:g.QR,target:"_blank",rel:"noreferrer",children:"View roles"}),"."]})]})})})]})}),(0,N.jsx)(ne,{onUsersAdd:ye,isOpen:k,onClose:function(){return F(!1)},getUsers:function(e){return te.getAllOrganizationUsers(e)}}),(0,N.jsx)(ie,{isOpen:B,onClose:function(){return L(!1)},updateUserRoles:ye,selectedUsers:X}),(0,N.jsx)(W,{isOpen:_,onDelete:function(){var e=X.map((function(e){return se(se({},e),{},{role:void 0})}));return ye(e)},onClose:function(){return I(!1)}})]}):(0,N.jsx)(P.b,{isFullPage:!0})},ce=t(58475);t(14473);var le=(0,ce.h)((function(){return(0,N.jsx)(i.A,{flagName:m.j8,children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(r.d,{title:"Account settings | iTwin Platform"}),(0,N.jsx)(ae,{})]})})}))},81878:function(e,n,t){"use strict";var r=t(57255),i=(t(67294),t(70347)),o=(t(3830),t(85893));n.Z=function(e){return e.breadcrumbs?(0,o.jsx)("div",{id:"page-header-with-breadcrumbs",children:(0,o.jsxs)("div",{className:"page-header-content-container",children:[e.breadcrumbs&&(0,o.jsx)(r.Breadcrumbs,{className:"breadcrumbs",children:e.breadcrumbs}),(0,o.jsx)("div",{className:"page-header-content",children:e.content})]})}):e.sticky?(0,o.jsx)("div",{id:"page-header",className:"sticky",children:e.content}):e.newVersion?(0,o.jsx)(i.PageLayout.Content,{className:"page-content-header",padded:!0,children:e.content}):(0,o.jsx)("div",{id:"page-header",children:e.content})}},31727:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});t(67294);var r=t(70347),i=(t(10559),t(85893));var o=function(e){var n=e.sideMenu,t=e.children;return e.newVersion?(0,i.jsxs)(r.PageLayout.Content,{padded:!0,className:"page-body-container",children:[n,t]}):(0,i.jsxs)("div",{id:"page-body",children:[n,t]})},s=t(81878);var a=function(e){var n=e.headerContent,t=e.breadcrumbs,r=e.sideMenu,a=e.children,c=e.sticky,l=void 0!==c&&c,u=e.newVersion,d=void 0!==u&&u,f=e.id,h=e.className;return(0,i.jsxs)("div",{className:h,id:f,children:[(0,i.jsx)(s.Z,{content:n,breadcrumbs:t,sticky:l,newVersion:d}),(0,i.jsx)(o,{sideMenu:r,newVersion:d,children:a})]})}},80989:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var r=t(9008),i=t.n(r),o=t(85893);function s(e){var n=e.title;return(0,o.jsx)(i(),{children:(0,o.jsx)("title",{children:n})})}},2905:function(e,n,t){"use strict";t.d(n,{A:function(){return a}});var r=t(89026),i=t(212),o=t(31993),s=t(85893);function a(e){var n=e.flagName,t=e.children,a=(0,r.L)();return null==a[n]?(0,s.jsx)(o.b,{isFullPage:!0}):a[n]?t:(0,s.jsx)(i.T,{})}},31993:function(e,n,t){"use strict";t.d(n,{b:function(){return s}});var r=t(6227),i=(t(45046),t(51974)),o=t(85893);function s(e){var n=e.isFullPage,t=void 0!==n&&n,s=e.hasSecondaryHeader,a=void 0!==s&&s,c=e.message,l=e.status,u=(0,o.jsxs)("div",{className:"spinner-page-overlay",children:[(0,o.jsx)(i.Z,{children:(0,o.jsx)(r.ProgressRadial,{indeterminate:!0,status:l})}),c?(0,o.jsx)("span",{className:"message",children:c}):null]});return t?(0,o.jsx)("div",{className:a?"full-page-with-secondary-header-overlay-container":"full-page-overlay-container",children:u}):u}},212:function(e,n,t){"use strict";t.d(n,{T:function(){return a}});var r=t(7811),i=t(51974),o=t(6227),s=t(85893);function a(){return(0,s.jsx)(i.Z,{id:"error-page",children:(0,s.jsx)(o.NonIdealState,{svg:(0,s.jsx)(r.M4,{}),heading:"Page not found",description:"You don't have permissions to this page or this page does not exist."})})}},37621:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});t(46112),t(67294);var r=t(57255),i=(t(28190),t(85893));var o=function(e){var n=e.title,t=e.action;return(0,i.jsxs)("div",{className:"user-data-section-header",children:[(0,i.jsx)(r.Text,{variant:"title",children:n}),t&&(0,i.jsx)("div",{className:"user-data-section-header-action",children:t})]})};var s=function(e){var n=e.sectionTitle,t=e.headerAction,r=e.children;return(0,i.jsxs)("div",{className:"user-data-section",children:[(0,i.jsx)(o,{title:n,action:t}),(0,i.jsx)("div",{className:"user-data-items",children:r})]})}},64257:function(e,n,t){"use strict";var r=t(94184),i=t.n(r),o=(t(34898),t(85893));n.Z=function(e){var n=e.isFullWidth,t=void 0!==n&&n,r=e.children;return(0,o.jsx)("div",{className:i()(["user-data-item-column",t?"full-width":void 0]),children:r})}},23576:function(e,n,t){"use strict";var r=t(57255),i=(t(67294),t(51477)),o=(t(57106),t(85893));n.Z=function(e){var n=e.label,t=e.value,s=e.children;return(0,o.jsxs)("div",{className:"user-data-section-content-item",id:i.c.getIdFromTitle(n),children:[(0,o.jsx)(r.Text,{className:"user-data-item-label",isMuted:!0,children:n}),(0,o.jsx)(r.Text,{className:"user-data-item-value",children:t}),s&&(0,o.jsx)("div",{className:"user-data-item-additional-content",children:s})]})}},6649:function(e,n,t){"use strict";var r;t.d(n,{i:function(){return r}}),function(e){e.Developer="Developer",e.ApplicationManager="Application Manager",e.SubscriptionManager="Subscription Manager"}(r||(r={}))},69338:function(e,n,t){"use strict";t.d(n,{N:function(){return l}});var r=t(50029),i=t(87794),o=t.n(i),s=t(67294),a=t(28038),c=t(45829);function l(){var e=(0,c.m)(),n=e.user,t=e.isLoggedIn,i=(0,s.useMemo)((function(){return new a.Z(n.accessToken)}),[n]),l=(0,s.useState)(!0),u=l[0],d=l[1],f=(0,s.useState)(!1),h=f[0],v=f[1],p=(0,s.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.acceptTermsOfService();case 2:case"end":return e.stop()}}),e)}))),[i]);return(0,s.useEffect)((function(){t?i.getTermsOfServiceState().then((function(e){return d(e)})).catch((function(){return d(!0)})).finally((function(){return v(!0)})):(d(!0),v(!1))}),[i,t]),(0,s.useMemo)((function(){return{isTermsOfServiceAccepted:u,receivedState:h,acceptTermsOfService:p}}),[p,u,h])}},58475:function(e,n,t){"use strict";t.d(n,{h:function(){return h}});var r=t(59499),i=t(11163),o=t.n(i),s=t(67294),a=t(31993),c=t(61686),l=t(99301),u=t(69338),d=t(85893);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var h=function(e){return function(n){var t=(0,u.N)().isTermsOfServiceAccepted,i=(0,l.m)(),h=i.isLoaded,v=i.isLoggedIn,p=i.signin,m=v&&t;return(0,s.useEffect)((function(){h&&!m&&(v?t||o().push("".concat(c.sz,"?redirect=").concat(encodeURIComponent(o().asPath))):p())}),[h,v,t,m,p]),m?(0,d.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n)):(0,d.jsx)(a.b,{isFullPage:!0})}}},26997:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account-settings",function(){return t(78866)}])},10559:function(){},3830:function(){},45046:function(){},3357:function(){},84369:function(){},65509:function(){},99692:function(){},69054:function(){},46112:function(){},34898:function(){},28190:function(){},57106:function(){}},function(e){e.O(0,[7811,9774,2888,179],(function(){return n=26997,e(e.s=n);var n}));var n=e.O();_N_E=n}]);