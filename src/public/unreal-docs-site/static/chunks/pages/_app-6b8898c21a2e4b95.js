(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888,5152,9008,1664,1163,4298,5988,8771,4207],{8131:function(e,t,n){"use strict";var r=n(49374),i=n(17775),s=n(23076);function a(e,t,n){return new r(e,t,n)}a.version=n(24336),a.AlgoliaSearchHelper=r,a.SearchParameters=i,a.SearchResults=s,e.exports=a},60696:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"===typeof e}function r(e){return"object"===typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,s,a,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(s=this._events[e]))return!1;if(n(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),s.apply(this,o)}else if(r(s))for(o=Array.prototype.slice.call(arguments,1),a=(c=s.slice()).length,u=0;u<a;u++)c[u].apply(this,o);return!0},t.prototype.addListener=function(e,s){var a;if(!n(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(s.listener)?s.listener:s),this._events[e]?r(this._events[e])?this._events[e].push(s):this._events[e]=[this._events[e],s]:this._events[e]=s,r(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,s,a,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,s=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=a;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){s=o;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},68078:function(e,t,n){"use strict";var r=n(60696);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}n(14853)(i,r.EventEmitter),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},82437:function(e,t,n){"use strict";var r=n(52344),i=n(49803),s=n(90116),a={addRefinement:function(e,t,n){if(a.isRefined(e,t,n))return e;var i=""+n,s=e[t]?e[t].concat(i):[i],o={};return o[t]=s,r({},o,e)},removeRefinement:function(e,t,n){if(void 0===n)return a.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return a.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return a.isRefined(e,t,n)?a.removeRefinement(e,t,n):a.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return s(e)?{}:e;if("string"===typeof t)return i(e,[t]);if("function"===typeof t){var r=!1,a=Object.keys(e).reduce((function(i,s){var a=e[s]||[],o=a.filter((function(e){return!t(e,s,n)}));return o.length!==a.length&&(r=!0),i[s]=o,i}),{});return r?a:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}};e.exports=a},17775:function(e,t,n){"use strict";var r=n(60185),i=n(52344),s=n(22686),a=n(7888),o=n(28023),u=n(49803),c=n(90116),l=n(46801),h=n(82437);function f(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return f(t[n],e)})):e===t}function p(e){var t=e?p._parseNumbers(e):{};void 0===t.userToken||l(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==p.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(e){if(e instanceof p)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"===typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"===typeof e?parseFloat(e):e})):"string"===typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return r({},e,t)},p.make=function(e){var t=new p(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},p.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&c(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):c(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var i=o(n);if(this.isNumericRefined(e,t,i))return this;var s=r({},this.numericRefinements);return s[e]=r({},s[e]),s[e][t]?(s[e][t]=s[e][t].slice(),s[e][t].push(i)):s[e][t]=[i],this.setQueryParameters({numericRefinements:s})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&f(r.val,o(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return c(this.numericRefinements)?{}:this.numericRefinements;if("string"===typeof e)return u(this.numericRefinements,[e]);if("function"===typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var s=n[i],a={};return s=s||{},Object.keys(s).forEach((function(n){var r=s[n]||[],o=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||o.push(t)})),o.length!==r.length&&(t=!0),a[n]=o})),r[i]=a,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,s,u=o(n),c=void 0!==(i=this.numericRefinements[e][t],s=u,a(i,(function(e){return f(e,s)})));return r&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=s(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return s(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var n=this,r=p._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),s=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?u(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(s)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!==typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return a(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=p},10210:function(e,t,n){"use strict";e.exports=function(e){return function(t,n){var a=e.hierarchicalFacets[n],o=e.hierarchicalFacetsRefinements[a.name]&&e.hierarchicalFacetsRefinements[a.name][0]||"",u=e._getHierarchicalFacetSeparator(a),c=e._getHierarchicalRootPath(a),l=e._getHierarchicalShowParentLevel(a),h=s(e._getHierarchicalFacetSortBy(a)),f=t.every((function(e){return e.exhaustive})),p=function(e,t,n,s,a){return function(o,u,c){var l=o;if(c>0){var h=0;for(l=o;h<c;){var f=l&&Array.isArray(l.data)?l.data:[];l=i(f,(function(e){return e.isRefined})),h++}}if(l){var p=Object.keys(u.data).map((function(e){return[e,u.data[e]]})).filter((function(e){return function(e,t,n,r,i,s){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length===1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(s||0===e.indexOf(n))}(e[0],l.path||n,a,t,n,s)}));l.data=r(p.map((function(e){var n=e[0];return function(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,a,u.exhaustive)})),e[0],e[1])}return o}}(h,u,c,l,o),d=t;return c&&(d=t.slice(c.split(u).length)),d.reduce(p,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,exhaustive:f,data:null})}};var r=n(42148),i=n(7888),s=n(82293)},23076:function(e,t,n){"use strict";var r=n(60185),i=n(52344),s=n(42148),a=n(74587),o=n(7888),u=n(69725),c=n(82293),l=n(10210);function h(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function f(e,t,n){t&&t[n]&&(e.stats=t[n])}function p(e,t){var n=t[0];this._rawResults=t;var s=this;Object.keys(n).forEach((function(e){s[e]=n[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var c=e.getRefinedDisjunctiveFacets(),p=h(e.facets),d=h(e.disjunctiveFacets),_=1,g=n.facets||{};Object.keys(g).forEach((function(t){var r,i,a=g[t],c=(r=e.hierarchicalFacets,i=t,o(r,(function(e){return(e.attributes||[]).indexOf(i)>-1})));if(c){var l=c.attributes.indexOf(t),h=u(e.hierarchicalFacets,(function(e){return e.name===c.name}));s.hierarchicalFacets[h][l]={attribute:t,data:a,exhaustive:n.exhaustiveFacetsCount}}else{var _,v=-1!==e.disjunctiveFacets.indexOf(t),m=-1!==e.facets.indexOf(t);v&&(_=d[t],s.disjunctiveFacets[_]={name:t,data:a,exhaustive:n.exhaustiveFacetsCount},f(s.disjunctiveFacets[_],n.facets_stats,t)),m&&(_=p[t],s.facets[_]={name:t,data:a,exhaustive:n.exhaustiveFacetsCount},f(s.facets[_],n.facets_stats,t))}})),this.hierarchicalFacets=a(this.hierarchicalFacets),c.forEach((function(a){var o=t[_],c=o&&o.facets?o.facets:{},l=e.getHierarchicalFacetByName(a);Object.keys(c).forEach((function(t){var a,h=c[t];if(l){a=u(e.hierarchicalFacets,(function(e){return e.name===l.name}));var p=u(s.hierarchicalFacets[a],(function(e){return e.attribute===t}));if(-1===p)return;s.hierarchicalFacets[a][p].data=r({},s.hierarchicalFacets[a][p].data,h)}else{a=d[t];var _=n.facets&&n.facets[t]||{};s.disjunctiveFacets[a]={name:t,data:i({},h,_),exhaustive:o.exhaustiveFacetsCount},f(s.disjunctiveFacets[a],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!s.disjunctiveFacets[a].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(n)>-1&&(s.disjunctiveFacets[a].data[n]=0)}))}})),_++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(r),o=e.getHierarchicalRefinement(n);if(!(0===o.length||o[0].split(a).length<2)){var c=t[_],l=c&&c.facets?c.facets:{};Object.keys(l).forEach((function(t){var n=l[t],c=u(e.hierarchicalFacets,(function(e){return e.name===r.name})),h=u(s.hierarchicalFacets[c],(function(e){return e.attribute===t}));if(-1!==h){var f={};if(o.length>0){var p=o[0].split(a)[0];f[p]=s.hierarchicalFacets[c][h].data[p]}s.hierarchicalFacets[c][h].data=i(f,n,s.hierarchicalFacets[c][h].data)}})),_++}})),Object.keys(e.facetsExcludes).forEach((function(t){var r=e.facetsExcludes[t],i=p[t];s.facets[i]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},r.forEach((function(e){s.facets[i]=s.facets[i]||{name:t},s.facets[i].data=s.facets[i].data||{},s.facets[i].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(l(e)),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e}function d(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var s=t.data.map((function(t){return d(e,t,n,r+1)})),a=e(s,n[r]);return i({data:a},t)}function _(e,t){var n=o(e,(function(e){return e.name===t}));return n&&n.stats}function g(e,t,n,r,i){var s=o(i,(function(e){return e.name===n})),a=s&&s.data&&s.data[r]?s.data[r]:0,u=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:u}}p.prototype.getFacetByName=function(e){function t(t){return t.name===e}return o(this.facets,t)||o(this.disjunctiveFacets,t)||o(this.hierarchicalFacets,t)},p.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],p.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=o(e.facets,n);return r?Object.keys(r.data).map((function(n){return{name:n,count:r.data[n],isRefined:e._state.isFacetRefined(t,n),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=o(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){return{name:n,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t))return o(e.hierarchicalFacets,n)}(this,e);if(n){var r,a=i({},t,{sortBy:p.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),u=this;if(Array.isArray(n))r=[e];else r=u._state.getHierarchicalFacetByName(n.name).attributes;return d((function(e,t){if(a.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(u,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)})),n=n.filter((function(e){return e}));var a,o=t.sortRemainingBy;return"hidden"===o?n:(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(s(r,a[0],a[1])))}(e,n)}if(Array.isArray(a.sortBy)){var r=c(a.sortBy,p.DEFAULT_SORT);return s(e,r[0],r[1])}if("function"===typeof a.sortBy)return function(e,t){return t.sort(e)}(a.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},p.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?_(this.facets,e):this._state.isDisjunctiveFacet(e)?_(this.disjunctiveFacets,e):void 0},p.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(g(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(g(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(g(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),u=o(r,(function(e){return e.name===t})),c=a.reduce((function(e,t){var n=e&&o(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),u),l=c&&c.count||0,h=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:l,exhaustive:h}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n},e.exports=p},49374:function(e,t,n){"use strict";var r=n(17775),i=n(23076),s=n(68078),a=n(96394),o=n(60696),u=n(14853),c=n(90116),l=n(49803),h=n(60185),f=n(24336);function p(e,t,n){"function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+f+")"),this.setClient(e);var i=n||{};i.index=t,this.state=r.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function d(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function _(){return this.state.page}u(p,o.EventEmitter),p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},p.prototype.getQuery=function(){var e=this.state;return a._getHitsSearchParams(e)},p.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=a._getQueries(n.index,n),s=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),{content:new i(n,e.results),state:n,_originalResponse:e}}),(function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),t(null,new i(n,e.results),n)})).catch((function(e){s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),t(e,null,n)}))},p.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=h({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:l(a._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!==typeof this.client.initIndex)throw new Error(s);var o=this.client.initIndex(r.index);if("function"!==typeof o.findAnswers)throw new Error(s);return o.findAnswers(r.query,e.queryLanguages,i)},p.prototype.searchForFacetValues=function(e,t,n,r){var i="function"===typeof this.client.searchForFacetValues;if(!i&&"function"!==typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(r||{}),o=s.isDisjunctiveFacet(e),u=a.getSearchForFacetQuery(e,t,n,s);this._currentNbQueries++;var c=this;return this.emit("searchForFacetValues",{state:s,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:s.index,params:u}]):this.client.initIndex(s.index).searchForFacetValues(u)).then((function(t){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.isRefined=o?s.isDisjunctiveFacetRefined(e,t.value):s.isFacetRefined(e,t.value)})),t}),(function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e}))},p.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},p.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},p.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},p.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},p.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},p.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},p.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},p.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},p.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},p.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},p.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},p.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},p.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},p.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},p.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},p.prototype.setCurrentPage=d,p.prototype.setPage=d,p.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},p.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},p.prototype.setState=function(e){return this._change({state:r.make(e),isPageReset:!1}),this},p.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new r(e),this},p.prototype.hasRefinements=function(e){return!!c(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},p.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},p.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},p.prototype.hasTag=function(e){return this.state.isTagRefined(e)},p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},p.prototype.getIndex=function(){return this.state.index},p.prototype.getCurrentPage=_,p.prototype.getPage=_,p.prototype.getTags=function(){return this.state.tagRefinements},p.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},p.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},p.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},p.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=a._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=a._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),s=Array.prototype.concat.apply(r,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(u){this.emit("error",{error:u})}},p.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,s=e.helper,a=r.splice(0,n),o=s.lastResults=new i(t,a);s.emit("result",{results:o,state:t})}))}},p.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},p.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},p.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},p.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},p.prototype.setClient=function(e){return this.client===e||("function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+f+")"),this.client=e),this},p.prototype.getClient=function(){return this.client},p.prototype.derive=function(e){var t=new s(this,e);return this.derivedHelpers.push(t),t},p.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=p},74587:function(e){"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},52344:function(e){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})}},7888:function(e){"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},69725:function(e){"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},82293:function(e,t,n){"use strict";var r=n(7888);e.exports=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),s=r(n,(function(e){return e[0]===i[0]}));return i.length>1||!s?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(s[0]),e[1].push(s[1]),e)}),[[],[]])}},14853:function(e){"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},22686:function(e){"use strict";e.exports=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))}},60185:function(e){"use strict";function t(e){return"function"===typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,r){if(e===r)return e;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&"__proto__"!==i){var s=r[i],a=e[i];"undefined"!==typeof a&&"undefined"===typeof s||(t(a)&&t(s)?e[i]=n(a,s):e[i]="object"===typeof(o=s)&&null!==o?n(Array.isArray(o)?[]:{},o):o)}var o;return e}e.exports=function(e){t(e)||(e={});for(var r=1,i=arguments.length;r<i;r++){var s=arguments[r];t(s)&&n(e,s)}return e}},90116:function(e){"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},49803:function(e){"use strict";e.exports=function(e,t){if(null===e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},42148:function(e){"use strict";function t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,s=null===t;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}e.exports=function(e,n,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var i=e.map((function(e,t){return{criteria:n.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,n){for(var i=-1;++i<e.criteria.length;){var s=t(e.criteria[i],n.criteria[i]);if(s)return i>=r.length?s:"desc"===r[i]?-s:s}return e.index-n.index})),i.map((function(e){return e.value}))}},28023:function(e){"use strict";e.exports=function e(t){if("number"===typeof t)return t;if("string"===typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},96394:function(e,t,n){"use strict";var r=n(60185),i={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:i._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var s=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(s);a.length>0&&a[0].split(o).length>1&&n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r,!0)})})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(i._getHitsHierarchicalFacetsAttributes(e)),n=i._getFacetFilters(e),s=i._getNumericFilters(e),a=i._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:a};return n.length>0&&(o.facetFilters=n),s.length>0&&(o.numericFilters=s),r({},e.getQueryParams(),o)},_getDisjunctiveFacetSearchParams:function(e,t,n){var s=i._getFacetFilters(e,t,n),a=i._getNumericFilters(e,t),o={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:i._getTagFilters(e),analytics:!1,clickAnalytics:!1},u=e.getHierarchicalFacetByName(t);return o.facets=u?i._getDisjunctiveHierarchicalFacetAttribute(e,u,n):t,a.length>0&&(o.numericFilters=a),s.length>0&&(o.facetFilters=s),r({},e.getQueryParams(),o)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var s=i[e]||[];t!==r&&s.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){r.push(e+":"+t)}))}));var s=e.facetsExcludes||{};Object.keys(s).forEach((function(e){(s[e]||[]).forEach((function(t){r.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).forEach((function(e){var n=a[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).forEach((function(i){var s=(o[i]||[])[0];if(void 0!==s){var a,u,c=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(c),h=e._getHierarchicalRootPath(c);if(t===i){if(-1===s.indexOf(l)||!h&&!0===n||h&&h.split(l).length===s.split(l).length)return;h?(u=h.split(l).length-1,s=h):(u=s.split(l).length-2,s=s.slice(0,s.lastIndexOf(l))),a=c.attributes[u]}else u=s.split(l).length-1,a=c.attributes[u];a&&r.push([a+":"+s])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),s=r.split(i).length,a=n.attributes.slice(0,s+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,s){var a=s.isDisjunctiveFacet(e)?s.clearRefinements(e):s,o={facetQuery:t,facetName:e};return"number"===typeof n&&(o.maxFacetHits=n),r({},i._getHitsSearchParams(a),o)}};e.exports=i},46801:function(e){"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},24336:function(e){"use strict";e.exports="3.6.2"},24955:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},s=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),r=s()[n];return Promise.all([r||t(),void 0!==r])})).then((function(e){var t=i(e,2),r=t[0],s=t[1];return Promise.all([r,s||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=s();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=s();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function o(e){var t=s(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return o({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return o({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return o({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return o({caches:t}).clear()}))}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);var a=r(),o=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return o(e)})).then((function(){return a}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===_.WithinHeaders?r:{}},queryParameters:function(){return e===_.WithinQueryParameters?r:{}}}}function l(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return h(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function f(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function p(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var _={WithinQueryParameters:0,WithinHeaders:1};function g(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var v={Read:1,Write:2,Any:3},m=1,y=2,b=3;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function x(e){return"string"==typeof e?{protocol:"https",url:e,accept:v.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||v.Any}}var S="DELETE",E="GET",k="POST",F="PUT";function P(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(w(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===m||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===b&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(s(n),s(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return x(e)})):t}}))}function O(e,t,r,i){var a=[],o=function(e,t){if(e.method!==E&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),u=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),c=r.method,l=r.method!==E?{}:n(n({},r.data),i.data),h=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),f=0,p=function t(n,s){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:C(a)};var p={data:o,headers:u,method:c,url:A(l,r.path,h),connectTimeout:s(f,e.timeouts.connect),responseTimeout:s(f,i.timeout)},d=function(e){var t={request:p,response:e,host:l,triesLeft:n.length};return a.push(t),t},_={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=d(r);return r.isTimedOut&&f++,Promise.all([e.logger.info("Retryable failure",I(i)),e.hostsCache.set(l,w(l,r.isTimedOut?b:y))]).then((function(){return t(n,s)}))},onFail:function(e){throw d(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,C(a))}};return e.requester.send(p).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,_)}))};return P(e.hostsCache,t).then((function(e){return p(s(e.statelessHosts).reverse(),e.getTimeout)}))}function R(e){var t=e.hostsCache,n=e.logger,r=e.requester,s=e.requestsCache,a=e.responsesCache,o=e.timeouts,u=e.userAgent,c=e.hosts,l=e.queryParameters,h={hostsCache:t,logger:n,requester:r,requestsCache:s,responsesCache:a,timeouts:o,userAgent:u,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return x(e)})),read:function(e,t){var n=g(t,h.timeouts.read),r=function(){return O(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var s={request:e,mappedRequestOptions:n,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(s,(function(){return h.requestsCache.get(s,(function(){return h.requestsCache.set(s,r()).then((function(e){return Promise.all([h.requestsCache.delete(s),e])}),(function(e){return Promise.all([h.requestsCache.delete(s),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return h.responsesCache.set(s,e)}})},write:function(e,t){return O(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Write)})),e,g(t,h.timeouts.write))}};return h}function j(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function A(e,t,n){var r=T(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function T(e){return Object.keys(e).map((function(t){return d("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function C(e){return e.map((function(e){return I(e)}))}function I(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var N=function(e){return function(t,n){return e.transporter.write({method:k,path:"2/abtests",data:t},n)}},D=function(e){return function(t,n){return e.transporter.write({method:S,path:d("2/abtests/%s",t)},n)}},L=function(e){return function(t,n){return e.transporter.read({method:E,path:d("2/abtests/%s",t)},n)}},U=function(e){return function(t){return e.transporter.read({method:E,path:"2/abtests"},t)}},M=function(e){return function(t,n){return e.transporter.write({method:k,path:d("2/abtests/%s/stop",t)},n)}},B=function(e){return function(t){return e.transporter.read({method:E,path:"1/strategies/personalization"},t)}},H=function(e){return function(t,n){return e.transporter.write({method:k,path:"1/strategies/personalization",data:t},n)}};function V(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var Z=function(e){return function(t,i){var s=i||{},a=s.queryParameters,o=r(s,["queryParameters"]),u=n({acl:t},void 0!==a?{queryParameters:a}:{});return h(e.transporter.write({method:k,path:"1/keys",data:u},o),(function(t,n){return l((function(r){return ee(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},z=function(e){return function(t,n,r){var i=g(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:k,path:"1/clusters/mapping",data:{cluster:n}},i)}},K=function(e){return function(t,n,r){return e.transporter.write({method:k,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},q=function(e){return function(t,n){return h(e.transporter.write({method:k,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},n),(function(t,n){return ke(e)(t.taskID,n)}))}},W=function(e){return function(t,n,r){return h(e.transporter.write({method:k,path:d("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return oe(e)(t,{methods:{waitTask:ht}}).waitTask(n.taskID,r)}))}},J=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[pt.Rules]}))}},G=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[pt.Settings]}))}},$=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[pt.Synonyms]}))}},Q=function(e){return function(t,n){return t.method===E?e.transporter.read(t,n):e.transporter.write(t,n)}},Y=function(e){return function(t,n){return h(e.transporter.write({method:S,path:d("1/keys/%s",t)},n),(function(n,r){return l((function(n){return ee(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},X=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"deleteEntry",body:{objectID:e}}}));return h(e.transporter.write({method:k,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},ee=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/keys/%s",t)},n)}},te=function(e){return function(t){return e.transporter.read({method:E,path:"/1/dictionaries/*/settings"},t)}},ne=function(e){return function(t){return e.transporter.read({method:E,path:"1/logs"},t)}},re=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters/mapping/top"},t)}},ie=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/task/%s",t.toString())},n)}},se=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/clusters/mapping/%s",t)},n)}},ae=function(e){return function(t){var n=t||{},i=n.retrieveMappings,s=r(n,["retrieveMappings"]);return!0===i&&(s.getClusters=!0),e.transporter.read({method:E,path:"1/clusters/mapping/pending"},s)}},oe=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},ue=function(e){return function(t){return e.transporter.read({method:E,path:"1/keys"},t)}},ce=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters"},t)}},le=function(e){return function(t){return e.transporter.read({method:E,path:"1/indexes"},t)}},he=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters/mapping"},t)}},fe=function(e){return function(t,n,r){return h(e.transporter.write({method:k,path:d("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return oe(e)(t,{methods:{waitTask:ht}}).waitTask(n.taskID,r)}))}},pe=function(e){return function(t,n){return h(e.transporter.write({method:k,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return oe(e)(r,{methods:{waitTask:ht}}).waitTask(t.taskID[r],n)})))}))}},de=function(e){return function(t,n){return e.transporter.read({method:k,path:"1/indexes/*/objects",data:{requests:t}},n)}},_e=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:k,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},ge=function(e){return function(t,i){return Promise.all(t.map((function(t){var s=t.params,a=s.facetName,o=s.facetQuery,u=r(s,["facetName","facetQuery"]);return oe(e)(t.indexName,{methods:{searchForFacetValues:ot}}).searchForFacetValues(a,o,n(n({},i),u))})))}},ve=function(e){return function(t,n){var r=g(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:S,path:"1/clusters/mapping"},r)}},me=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:k,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},ye=function(e){return function(t,n){return h(e.transporter.write({method:k,path:d("1/keys/%s/restore",t)},n),(function(n,r){return l((function(n){return ee(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},be=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:k,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},we=function(e){return function(t,n,r){return e.transporter.read({method:k,path:d("/1/dictionaries/%s/search",t),data:{query:n},cacheable:!0},r)}},xe=function(e){return function(t,n){return e.transporter.read({method:k,path:"1/clusters/mapping/search",data:{query:t}},n)}},Se=function(e){return function(t,n){return h(e.transporter.write({method:F,path:"/1/dictionaries/*/settings",data:t},n),(function(t,n){return ke(e)(t.taskID,n)}))}},Ee=function(e){return function(t,n){var i=Object.assign({},n),s=n||{},a=s.queryParameters,o=r(s,["queryParameters"]),u=a?{queryParameters:a}:{},c=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return h(e.transporter.write({method:F,path:d("1/keys/%s",t),data:u},o),(function(n,r){return l((function(n){return ee(e)(t,r).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==c.indexOf(e)})).every((function(t){return e[t]===i[t]}))}(e)?Promise.resolve():n()}))}))}))}},ke=function(e){return function(t,n){return l((function(r){return ie(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},Fe=function(e){return function(t,n){return h(e.transporter.write({method:k,path:d("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return ht(e)(t.taskID,n)}))}},Pe=function(e){return function(t){return V(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:k,path:d("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},Oe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return V(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ut(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Re=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return V(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ct(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},je=function(e){return function(t,n,i){var s=i||{},a=s.batchSize,o=r(s,["batchSize"]),u={taskIDs:[],objectIDs:[]};return h(function r(){var i,s=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(s.push(t[i]),s.length!==(a||1e3));i++);return 0===s.length?Promise.resolve(u):Fe(e)(s.map((function(e){return{action:n,body:e}})),o).then((function(e){return u.objectIDs=u.objectIDs.concat(e.objectIDs),u.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return ht(e)(t,n)})))}))}},Ae=function(e){return function(t){return h(e.transporter.write({method:k,path:d("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return ht(e)(t.taskID,n)}))}},Te=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,s=g(r(n,["forwardToReplicas"]));return i&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:k,path:d("1/indexes/%s/rules/clear",e.indexName)},s),(function(t,n){return ht(e)(t.taskID,n)}))}},Ce=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,s=g(r(n,["forwardToReplicas"]));return i&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:k,path:d("1/indexes/%s/synonyms/clear",e.indexName)},s),(function(t,n){return ht(e)(t.taskID,n)}))}},Ie=function(e){return function(t,n){return h(e.transporter.write({method:k,path:d("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return ht(e)(t.taskID,n)}))}},Ne=function(e){return function(t){return h(e.transporter.write({method:S,path:d("1/indexes/%s",e.indexName)},t),(function(t,n){return ht(e)(t.taskID,n)}))}},De=function(e){return function(t,n){return h(Le(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},Le=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return je(e)(r,ft.DeleteObject,n)}},Ue=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,a=g(r(i,["forwardToReplicas"]));return s&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:S,path:d("1/indexes/%s/rules/%s",e.indexName,t)},a),(function(t,n){return ht(e)(t.taskID,n)}))}},Me=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,a=g(r(i,["forwardToReplicas"]));return s&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:S,path:d("1/indexes/%s/synonyms/%s",e.indexName,t)},a),(function(t,n){return ht(e)(t.taskID,n)}))}},Be=function(e){return function(t){return We(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},He=function(e){return function(t,n,r){return e.transporter.read({method:k,path:d("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Ve=function(e){return function(t,s){var a=s||{},o=a.query,u=a.paginate,c=r(a,["query","paginate"]),l=0;return function r(){return at(e)(o||"",n(n({},c),{},{page:l})).then((function(e){for(var n=0,s=Object.entries(e.hits);n<s.length;n++){var a=i(s[n],2),o=a[0],c=a[1];if(t(c))return{object:c,position:parseInt(o,10),page:l}}if(l++,!1===u||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},Ze=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/indexes/%s/%s",e.indexName,t)},n)}},ze=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var s=i(r[n],2),a=s[0];if(s[1].objectID===t)return parseInt(a,10)}return-1}},Ke=function(e){return function(t,i){var s=i||{},a=s.attributesToRetrieve,o=r(s,["attributesToRetrieve"]),u=t.map((function(t){return n({indexName:e.indexName,objectID:t},a?{attributesToRetrieve:a}:{})}));return e.transporter.read({method:k,path:"1/indexes/*/objects",data:{requests:u}},o)}},qe=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/indexes/%s/rules/%s",e.indexName,t)},n)}},We=function(e){return function(t){return e.transporter.read({method:E,path:d("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Je=function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},Ge=function(e){return function(t,n){return h($e(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},$e=function(e){return function(t,n){var i=n||{},s=i.createIfNotExists,a=r(i,["createIfNotExists"]),o=s?ft.PartialUpdateObject:ft.PartialUpdateObjectNoCreate;return je(e)(t,o,a)}},Qe=function(e){return function(t,a){var o=a||{},u=o.safe,c=o.autoGenerateObjectIDIfNotExist,l=o.batchSize,f=r(o,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(t,n,r,i){return h(e.transporter.write({method:k,path:d("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return ht(e)(t.taskID,n)}))},_=Math.random().toString(36).substring(7),g="".concat(e.indexName,"_tmp_").concat(_),v=tt({appId:e.appId,transporter:e.transporter,indexName:g}),m=[],y=p(e.indexName,g,"copy",n(n({},f),{},{scope:["settings","synonyms","rules"]}));return m.push(y),h((u?y.wait(f):y).then((function(){var e=v(t,n(n({},f),{},{autoGenerateObjectIDIfNotExist:c,batchSize:l}));return m.push(e),u?e.wait(f):e})).then((function(){var t=p(g,e.indexName,"move",f);return m.push(t),u?t.wait(f):t})).then((function(){return Promise.all(m)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],a=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(s(r.taskIDs),[a.taskID])}})),(function(e,t){return Promise.all(m.map((function(e){return e.wait(t)})))}))}},Ye=function(e){return function(t,r){return rt(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Xe=function(e){return function(t,r){return st(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},et=function(e){return function(t,n){return h(tt(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},tt=function(e){return function(t,n){var i=n||{},s=i.autoGenerateObjectIDIfNotExist,a=r(i,["autoGenerateObjectIDIfNotExist"]),o=s?ft.AddObject:ft.UpdateObject;if(o===ft.UpdateObject){var u=!0,c=!1,l=void 0;try{for(var f,p=t[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)if(void 0===f.value.objectID)return h(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}return je(e)(t,o,a)}},nt=function(e){return function(t,n){return rt(e)([t],n)}},rt=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,a=i.clearExistingRules,o=g(r(i,["forwardToReplicas","clearExistingRules"]));return s&&(o.queryParameters.forwardToReplicas=1),a&&(o.queryParameters.clearExistingRules=1),h(e.transporter.write({method:k,path:d("1/indexes/%s/rules/batch",e.indexName),data:t},o),(function(t,n){return ht(e)(t.taskID,n)}))}},it=function(e){return function(t,n){return st(e)([t],n)}},st=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,a=i.clearExistingSynonyms,o=i.replaceExistingSynonyms,u=g(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return s&&(u.queryParameters.forwardToReplicas=1),(o||a)&&(u.queryParameters.replaceExistingSynonyms=1),h(e.transporter.write({method:k,path:d("1/indexes/%s/synonyms/batch",e.indexName),data:t},u),(function(t,n){return ht(e)(t.taskID,n)}))}},at=function(e){return function(t,n){return e.transporter.read({method:k,path:d("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},ot=function(e){return function(t,n,r){return e.transporter.read({method:k,path:d("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},ut=function(e){return function(t,n){return e.transporter.read({method:k,path:d("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},ct=function(e){return function(t,n){return e.transporter.read({method:k,path:d("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},lt=function(e){return function(t,n){var i=n||{},s=i.forwardToReplicas,a=g(r(i,["forwardToReplicas"]));return s&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:F,path:d("1/indexes/%s/settings",e.indexName),data:t},a),(function(t,n){return ht(e)(t.taskID,n)}))}},ht=function(e){return function(t,n){return l((function(r){return function(e){return function(t,n){return e.transporter.read({method:E,path:d("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},ft={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},pt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},dt=1,_t=2,gt=3;function vt(e,t,r){var i,s={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},s=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(s),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(s),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(s),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=gt,{debug:function(e,t){return dt>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return _t>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:u(),requestsCache:u({serializable:!1}),hostsCache:o({caches:[a({key:"".concat("4.11.0","-").concat(e)}),u()]}),userAgent:j("4.11.0").add({segment:"Browser"})},l=n(n({},s),r),h=function(){return function(e){return function(e){var t=e.region||"us",r=c(_.WithinHeaders,e.appId,e.apiKey),i=R(n(n({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(n(n(n({},s),e),{},{methods:{getPersonalizationStrategy:B,setPersonalizationStrategy:H}}))}};return function(e){var t=e.appId,r=c(void 0!==e.authMode?e.authMode:_.WithinHeaders,t,e.apiKey),i=R(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:v.Read},{url:"".concat(t,".algolia.net"),accept:v.Write}].concat(f([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(n(n({},l),{},{methods:{search:_e,searchForFacetValues:ge,multipleBatch:pe,multipleGetObjects:de,multipleQueries:_e,copyIndex:W,copySettings:G,copySynonyms:$,copyRules:J,moveIndex:fe,listIndices:le,getLogs:ne,listClusters:ce,multipleSearchForFacetValues:ge,getApiKey:ee,addApiKey:Z,listApiKeys:ue,updateApiKey:Ee,deleteApiKey:Y,restoreApiKey:ye,assignUserID:z,assignUserIDs:K,getUserID:se,searchUserIDs:xe,listUserIDs:he,getTopUserIDs:re,removeUserID:ve,hasPendingMappings:ae,clearDictionaryEntries:q,deleteDictionaryEntries:X,getDictionarySettings:te,getAppTask:ie,replaceDictionaryEntries:me,saveDictionaryEntries:be,searchDictionaryEntries:we,setDictionarySettings:Se,waitAppTask:ke,customRequest:Q,initIndex:function(e){return function(t){return oe(e)(t,{methods:{batch:Fe,delete:Ne,findAnswers:He,getObject:Ze,getObjects:Ke,saveObject:et,saveObjects:tt,search:at,searchForFacetValues:ot,waitTask:ht,setSettings:lt,getSettings:We,partialUpdateObject:Ge,partialUpdateObjects:$e,deleteObject:De,deleteObjects:Le,deleteBy:Ie,clearObjects:Ae,browseObjects:Pe,getObjectPosition:ze,findObject:Ve,exists:Be,saveSynonym:it,saveSynonyms:st,getSynonym:Je,searchSynonyms:ct,browseSynonyms:Re,deleteSynonym:Me,clearSynonyms:Ce,replaceAllObjects:Qe,replaceAllSynonyms:Xe,searchRules:ut,getRule:qe,deleteRule:Ue,saveRule:nt,saveRules:rt,replaceAllRules:Ye,browseRules:Oe,clearRules:Te}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=c(_.WithinHeaders,e.appId,e.apiKey),i=R(n(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(n(n(n({},s),e),{},{methods:{addABTest:N,getABTest:L,getABTests:U,stopABTest:M,deleteABTest:D}}))}},initPersonalization:h,initRecommendation:function(){return function(e){return l.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),h()(e)}}}}))}return vt.version="4.11.0",vt}()},9669:function(e,t,n){e.exports=n(51609)},55448:function(e,t,n){"use strict";var r=n(64867),i=n(36026),s=n(4372),a=n(15327),o=n(94097),u=n(84109),c=n(67985),l=n(85061),h=n(45655),f=n(65263);e.exports=function(e){return new Promise((function(t,n){var p,d=e.data,_=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(d)&&delete _["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";_.Authorization="Basic "+btoa(y+":"+b)}var w=o(e.baseURL,e.url);function x(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,s={data:g&&"text"!==g&&"json"!==g?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),v()}),(function(e){n(e),v()}),s),m=null}}if(m.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(x)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",r=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(w))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(_[e.xsrfHeaderName]=S)}"setRequestHeader"in m&&r.forEach(_,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete _[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),g&&"json"!==g&&(m.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){m&&(n(!e||e&&e.type?new f("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),d||(d=null),m.send(d)}))}},51609:function(e,t,n){"use strict";var r=n(64867),i=n(91849),s=n(30321),a=n(47185);var o=function e(t){var n=new s(t),o=i(s.prototype.request,n);return r.extend(o,s.prototype,n),r.extend(o,n),o.create=function(n){return e(a(t,n))},o}(n(45655));o.Axios=s,o.Cancel=n(65263),o.CancelToken=n(14972),o.isCancel=n(26502),o.VERSION=n(97288).version,o.all=function(e){return Promise.all(e)},o.spread=n(8713),o.isAxiosError=n(16268),e.exports=o,e.exports.default=o},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,n){"use strict";var r=n(65263);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:function(e,t,n){"use strict";var r=n(64867),i=n(15327),s=n(80782),a=n(13572),o=n(47185),u=n(54875),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(s),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var f=n.shift(),p=n.shift();try{h=f(h)}catch(d){p(d);break}}try{i=a(h)}catch(d){return Promise.reject(d)}for(;s.length;)i=i.then(s.shift(),s.shift());return i},l.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(o(r||{},{method:e,url:t,data:n}))}})),e.exports=l},80782:function(e,t,n){"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:function(e,t,n){"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},85061:function(e,t,n){"use strict";var r=n(80481);e.exports=function(e,t,n,i,s){var a=new Error(e);return r(a,t,n,i,s)}},13572:function(e,t,n){"use strict";var r=n(64867),i=n(18527),s=n(26502),a=n(45655),o=n(65263);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},36026:function(e,t,n){"use strict";var r=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:function(e,t,n){"use strict";var r=n(64867),i=n(45655);e.exports=function(e,t,n){var s=this||i;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},45655:function(e,t,n){"use strict";var r=n(34155),i=n(64867),s=n(16016),a=n(80481),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof r&&"[object process]"===Object.prototype.toString.call(r))&&(e=n(55448)),e}(),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw a(o,this,"E_JSON_PARSE");throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(o)})),e.exports=c},97288:function(e){e.exports={version:"0.22.0"}},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:function(e,t,n){"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},67985:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:function(e,t,n){"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,a={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:function(e,t,n){"use strict";var r=n(97288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!s[r]&&(s[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],a=t[s];if(a){var o=e[s],u=void 0===o||a(o,s,e);if(!0!==u)throw new TypeError("option "+s+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:i}},64867:function(e,t,n){"use strict";var r=n(91849),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function o(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:o,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},62991:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var a=s[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},84204:function(e,t,n){"use strict";var r,i;r=[n(77937),n(85040),n(3566)],void 0===(i=function(e,t,n){return function(e,t,n){var r=function(t,n){return e.js_beautify(t,n)};return r.js=e.js_beautify,r.css=t.css_beautify,r.html=n.html_beautify,r.js_beautify=e.js_beautify,r.css_beautify=t.css_beautify,r.html_beautify=n.html_beautify,r}(e,t,n)}.apply(t,r))||(e.exports=i)},85040:function(e,t){var n;!function(){var r;!function(){"use strict";var e=[,,function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function r(e,r){this.__indent_cache=new n(e,r),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},n.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},r.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(e,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},e.exports.Output=r},,,,function(e){function t(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(e,t){var n,i={};for(n in e=r(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function r(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}t.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},t.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},t.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},t.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},t.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},t.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=r,e.exports.mergeOpts=n},,function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,n){e.lastIndex=n;var r=e.exec(this.__input);return!r||t&&e.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},n.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,n){var r=null,i="g";return n&&t&&(i="y"),"string"===typeof e&&""!==e?r=new RegExp(e,i):e&&(r=new RegExp(e.source,i)),r},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},,,,,function(e){function t(e,t){e="string"===typeof e?e:e.source,t="string"===typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},,function(e,t,n){var r=n(16).Beautifier,i=n(17).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){var r=n(17).Options,i=n(2).Output,s=n(8).InputScanner,a=new(0,n(13).Directives)(/\/\*/,/\*\//),o=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,c=/\s/,l=/(?:\s|\n)+/g,h=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,f=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function p(e,t){this._source_text=e||"",this._options=new r(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}p.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},p.prototype.eatWhitespace=function(e){for(var t=c.test(this._input.peek()),n=0;c.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t},p.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},p.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},p.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},p.prototype.indent=function(){this._indentLevel++},p.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&o.test(e||"")&&(t=e.match(o)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new s(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,p,d=0,_=!1,g=!1,v=!1,m=!1,y=!1,b=this._ch;r=""!==this._input.read(l),p=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(h),x=a.get_directives(w);x&&"start"===x.ignore&&(w+=a.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(f)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var S=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);S.match(/[ :]$/)&&(S=this.eatString(": ").replace(/\s$/,""),this.print_string(S),this._output.space_before_token=!0),"extend"===(S=S.replace(/\s$/,""))?m=!0:"import"===S&&(y=!0),S in this.NESTED_AT_RULE?(this._nestedLevel+=1,S in this.CONDITIONAL_GROUP_RULE&&(v=!0)):_||0!==d||-1===S.indexOf(":")||(g=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(g&&(g=!1,this.outdent()),v?(v=!1,_=this._indentLevel>=this._nestedLevel):_=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&_&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===p&&this._output.trim(!0),y=!1,m=!1,g&&(this.outdent(),g=!1),this.print_string(this._ch),_=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!_&&!v||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||m||0!==d?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===d?(g&&(this.outdent(),g=!1),m=!1,y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),d++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),d&&(d--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),d++,this.indent()):")"===this._ch?(d&&(d--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g||0!==d||y||m?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==d?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),c.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&c.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=p},function(e,t,n){var r=n(6).Options;function i(e){r.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<n.length;i++)"expand"!==n[i]?this.brace_style="collapse":this.brace_style=n[i]}i.prototype=new r,e.exports.Options=i}],t={};var n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(15);r=n}();var i=r;void 0===(n=function(){return{css_beautify:i}}.apply(t,[]))||(e.exports=n)}()},3566:function(e,t,n){var r,i;!function(){var s;!function(){"use strict";var e=[,,function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function r(e,r){this.__indent_cache=new n(e,r),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},n.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},r.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(e,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},e.exports.Output=r},function(e){e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(e){function t(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(e,t){var n,i={};for(n in e=r(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function r(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}t.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},t.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},t.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},t.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},t.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},t.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=r,e.exports.mergeOpts=n},,function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,n){e.lastIndex=n;var r=e.exec(this.__input);return!r||t&&e.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},n.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,n){var r=null,i="g";return n&&t&&(i="y"),"string"===typeof e&&""!==e?r=new RegExp(e,i):e&&(r=new RegExp(e.source,i)),r},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},function(e,t,n){var r=n(8).InputScanner,i=n(3).Token,s=n(10).TokenStream,a=n(11).WhitespacePattern,o={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};u.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new s,this._reset();for(var t=new i(o.START,""),n=null,r=[],a=new s;t.type!==o.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)a.add(e),e=this._get_next_token(t,n);a.isEmpty()||(e.comments_before=a,a=new s),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(o.RAW,n):this._create_token(o.EOF,"")},u.prototype._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return!1},u.prototype._is_closing=function(e,t){return!1},u.prototype._create_token=function(e,t){return new i(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=u,e.exports.TOKEN=o},function(e){function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return 0===this.__tokens_length},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=t},function(e,t,n){var r=n(12).Pattern;function i(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},i.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=i},function(e){function t(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},t.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},t.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},t.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},e.exports.Pattern=t},function(e){function t(e,t){e="string"===typeof e?e:e.source,t="string"===typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},function(e,t,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function s(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}s.prototype=new r,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},s.prototype.read_options=function(e){var t=this._create();for(var n in i)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},s.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},s.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},s.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},s.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},e.exports.TemplatablePattern=s},,,,function(e,t,n){var r=n(19).Beautifier,i=n(20).Options;e.exports=function(e,t,n,i){return new r(e,t,n,i).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){var r=n(20).Options,i=n(2).Output,s=n(21).Tokenizer,a=n(21).TOKEN,o=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,c=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new i(e,t)};c.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},c.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},c.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},c.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},c.prototype.print_preserved_newlines=function(e){var t=0;e.type!==a.TEXT&&e.previous.type!==a.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return 0!==t},c.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},c.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},c.prototype.print_newline=function(e){this._output.add_new_line(e)},c.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},c.prototype.indent=function(){this.indent_level++},c.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var l=function(e,t){var n=null,r=null;return t.closed?("script"===e?n="text/javascript":"style"===e&&(n="text/css"),n=function(e){for(var t=null,n=e.next;n.type!==a.EOF&&e.closed!==n;){if(n.type===a.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===a.EQUALS&&n.next.next&&n.next.next.type===a.VALUE&&(t=n.next.next.text);break}n=n.next}return t}(t)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function h(e,t){return-1!==t.indexOf(e)}function f(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function p(e){this._printer=e,this._current_frame=null}function d(e,t,n,i){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var s=new r(t,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}p.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},p.prototype.record_tag=function(e){var t=new f(this._current_frame,e,this._printer.indent_level);this._current_frame=t},p.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},p.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&-1===e.indexOf(n.tag);){if(t&&-1!==t.indexOf(n.tag)){n=null;break}n=n.parent}return n},p.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)},p.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&o.test(e)&&(t=e.match(o)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},i=new _,l=new c(this._options,n),h=new s(e,this._options).tokenize();this._tag_stack=new p(l);for(var f=null,d=h.next();d.type!==a.EOF;)d.type===a.TAG_OPEN||d.type===a.COMMENT?i=f=this._handle_tag_open(l,d,i,r):d.type===a.ATTRIBUTE||d.type===a.EQUALS||d.type===a.VALUE||d.type===a.TEXT&&!i.tag_complete?f=this._handle_inside_tag(l,d,i,h):d.type===a.TAG_CLOSE?f=this._handle_tag_close(l,d,i):d.type===a.TEXT?f=this._handle_text(l,d,i):l.add_raw_token(d),r=f,d=h.next();return l._output.get_code(t)},d.prototype._handle_tag_close=function(e,t,n){var r={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted?e.add_raw_token(t):("<"===n.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(e.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||e.set_wrap_point(),r},d.prototype._handle_inside_tag=function(e,t,n,r){var i=n.has_wrapped_attrs,s={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted)e.add_raw_token(t);else if("{"===n.tag_start_char&&t.type===a.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===a.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):(t.type===a.EQUALS||t.type===a.VALUE&&t.previous.type===a.EQUALS)&&e.set_space_before_token(!1),t.type===a.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),i=i||0!==t.newlines),this._is_wrap_attributes_force)){var o=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var u,c=!0,l=0;do{if((u=r.peek(l)).type===a.ATTRIBUTE){c=!1;break}l+=1}while(l<4&&u.type!==a.EOF&&u.type!==a.TAG_CLOSE);o=!c}o&&(e.print_newline(!1),i=!0)}e.print_token(t),i=i||e.previous_token_wrapped(),n.has_wrapped_attrs=i}return s},d.prototype._handle_text=function(e,t,n){var r={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r},d.prototype._print_custom_beatifier_text=function(e,t,n){var r=this;if(""!==t.text){var i,s=t.text,a=1,o="",u="";"javascript"===n.custom_beautifier_name&&"function"===typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"===typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(e,t){return new d(e,t,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var c=e.get_full_indent(a);if(s=s.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===s[0]&&s.match(/^(<!--|<!\[CDATA\[)/)){var l=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(s);if(!l)return void e.add_raw_token(t);o=c+l[1]+"\n",s=l[4],l[5]&&(u=c+l[5]),s=s.replace(/\n[ \t]*$/,""),(l[2]||-1!==l[3].indexOf("\n"))&&(l=l[3].match(/[ \t]+$/))&&(t.whitespace_before=l[0])}if(s)if(i){var h=function(){this.eol="\n"};h.prototype=this._options.raw_options,s=i(c+s,new h)}else{var f=t.whitespace_before;f&&(s=s.replace(new RegExp("\n("+f+")?","g"),"\n")),s=c+s.replace(/\n/g,"\n"+c)}o&&(s=s?o+s+"\n"+u:o+u),e.print_newline(!1),s&&(t.text=s,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},d.prototype._handle_tag_open=function(e,t,n,r){var i=this._get_tag_open_token(t);return!n.is_unformatted&&!n.is_content_unformatted||n.is_empty_element||t.type!==a.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,i,n,r),i.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=t.text.length+1),i.tag_complete||i.is_unformatted||(e.alignment_size=i.alignment_size),i};var _=function(e,t){var n;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};d.prototype._get_tag_open_token=function(e){var t=new _(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||h(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&h(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&h(t.tag_check,this._options.content_unformatted),t.is_inline_element=h(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},d.prototype._set_tag_position=function(e,t,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=l(n.tag_check,t)))),h(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===n.tag_name&&i.type===a.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||(n.is_inline_element||n.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n))}else if(n.is_end_tag){var s=!1;s=(s=n.start_tag_token&&n.start_tag_token.multiline_content)||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===a.TAG_CLOSE&&n.start_tag_token===r)&&"TK_CONTENT"!==i.type,(n.is_content_unformatted||n.is_unformatted)&&(s=!1),s&&e.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||n.is_unformatted||"TK_CONTENT"===i.type&&!n.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n)},d.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var g=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],v=["a","audio","del","ins","map","noscript","video"];d.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==g.indexOf(e.tag_name)){var n=e.parent.parent;n&&-1!==v.indexOf(n.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},e.exports.Beautifier=d},function(e,t,n){var r=n(6).Options;function i(e){r.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,e.exports.Options=i},function(e,t,n){var r=n(9).Tokenizer,i=n(9).TOKEN,s=n(13).Directives,a=n(14).TemplatablePattern,o=n(12).Pattern,u={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},c=new s(/<\!--/,/-->/),l=function(e,t){r.call(this,e,t),this._current_tag_name="";var n=new a(this._input).read_options(this._options),i=new o(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(s).until_after(s)}};(l.prototype=new r)._is_comment=function(e){return!1},l.prototype._is_opening=function(e){return e.type===u.TAG_OPEN},l.prototype._is_closing=function(e,t){return e.type===u.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(u.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,t))||this._read_attribute(r,e,t))||this._read_close(r,t))||this._read_raw_content(r,e,t))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,t))||this._create_token(u.UNKNOWN,this._input.next())},l.prototype._read_comment_or_cdata=function(e){var t=null,n=null,r=null;"<"===e&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=c.get_directives(n))&&"start"===r.ignore&&(n+=c.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=r));return t},l.prototype._read_processing=function(e){var t=null,n=null;if("<"===e){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=null)}return t},l.prototype._read_open=function(e,t){var n=null,r=null;return t||"<"===e&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(u.TAG_OPEN,n)),r},l.prototype._read_open_handlebars=function(e,t){var n=null,r=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(u.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(u.TAG_OPEN,n))),r},l.prototype._read_close=function(e,t){var n=null,r=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(n=this._input.next(),"/"===e&&(n+=this._input.next()),r=this._create_token(u.TAG_CLOSE,n)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(u.TAG_CLOSE,"}}"))),r},l.prototype._read_attribute=function(e,t,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===e)r=this._create_token(u.EQUALS,this._input.next());else if('"'===e||"'"===e){var s=this._input.next();s+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(u.VALUE,s)}else(i=this.__patterns.attribute.read())&&(r=t.type===u.EQUALS?this._create_token(u.VALUE,i):this._create_token(u.ATTRIBUTE,i));return r},l.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},l.prototype._read_raw_content=function(e,t,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(t.type===u.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var i=t.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var s=this._read_comment_or_cdata(e);if(s)return s.type=u.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(u.TEXT,r):null},l.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(u.TEXT,t)},e.exports.Tokenizer=l,e.exports.TOKEN=u}],t={};var n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(18);s=n}();var a=s;r=[n,n(77937),n(85040)],i=function(e){var t=n(77937),r=n(85040);return{html_beautify:function(e,n){return a(e,n,t.js_beautify,r.css_beautify)}}}.apply(t,r),void 0===i||(e.exports=i)}()},77937:function(e,t){var n;!function(){var r;!function(){"use strict";var e=[function(e,t,n){var r=n(1).Beautifier,i=n(5).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){var r=n(2).Output,i=n(3).Token,s=n(4),a=n(5).Options,o=n(7).Tokenizer,u=n(7).line_starters,c=n(7).positionable_operators,l=n(7).TOKEN;function h(e,t){return-1!==t.indexOf(e)}function f(e,t){return e&&e.type===l.RESERVED&&e.text===t}function p(e,t){return e&&e.type===l.RESERVED&&h(e.text,t)}var d=["case","return","do","if","throw","else","await","break","continue","async"],_=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(["before-newline","after-newline","preserve-newline"]),g=[_.before_newline,_.preserve_newline],v="BlockStatement",m="Statement",y="ObjectLiteral",b="ArrayLiteral",w="ForInitializer",x="Conditional",S="Expression";function E(e,t){t.multiline_frame||t.mode===w||t.mode===x||e.remove_indent(t.start_line_index)}function k(e){return e===b}function F(e){return h(e,[S,w,x])}function P(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new a(t)}P.prototype.create_flags=function(e,t){var n=0;return e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new i(l.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},P.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(v);var n=new o(e,this._options);return this._tokens=n.tokenize(),e},P.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&s.lineBreak.test(e||"")&&(t=e.match(s.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(t)},P.prototype.handle_token=function(e,t){e.type===l.START_EXPR?this.handle_start_expr(e):e.type===l.END_EXPR?this.handle_end_expr(e):e.type===l.START_BLOCK?this.handle_start_block(e):e.type===l.END_BLOCK?this.handle_end_block(e):e.type===l.WORD||e.type===l.RESERVED?this.handle_word(e):e.type===l.SEMICOLON?this.handle_semicolon(e):e.type===l.STRING?this.handle_string(e):e.type===l.EQUALS?this.handle_equals(e):e.type===l.OPERATOR?this.handle_operator(e):e.type===l.COMMA?this.handle_comma(e):e.type===l.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===l.COMMENT?this.handle_comment(e,t):e.type===l.DOT?this.handle_dot(e):e.type===l.EOF?this.handle_eof(e):(e.type,l.UNKNOWN,this.handle_unknown(e,t))},P.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,r=this._options.keep_array_indentation&&k(this._flags.mode);if(e.comments_before)for(var i=e.comments_before.next();i;)this.handle_whitespace_and_comments(i,t),this.handle_token(i,t),i=e.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var a=1;a<n;a+=1)this.print_newline(!0,t)}};var O=["async","break","continue","return","throw","yield"];P.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t;if(h(this._flags.last_token.text,c)||h(e.text,c)){var r=h(this._flags.last_token.text,c)&&h(this._options.operator_position,g)||h(e.text,c);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(p(this._flags.last_token,O))return;this._output.set_wrap_point()}}},P.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==l.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();this._flags.mode===m&&(!this._flags.if_block||!f(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},P.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||k(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},P.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===l.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},P.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===m&&E(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.start_of_object_property=function(){return this._flags.parent.mode===y&&this._flags.mode===m&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"]))},P.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||p(this._flags.last_token,["var","let","const"])&&e.type===l.WORD)||f(this._flags.last_token,"do"))||!(this._flags.parent.mode===y&&this._flags.mode===m)&&p(this._flags.last_token,O)&&!e.newlines)||f(this._flags.last_token,"else")&&!(f(e,"if")&&!e.comments_before))||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===w||this._previous_flags.mode===x))||this._flags.last_token.type===l.WORD&&this._flags.mode===v&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==l.WORD&&e.type!==l.RESERVED)||this._flags.mode===y&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"])))&&(this.set_mode(m),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,p(e,["do","for","if","while"])),!0)},P.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=S;if("["===e.text){if(this._flags.last_token.type===l.WORD||")"===this._flags.last_token.text)return p(this._flags.last_token,u)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=b,k(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),h(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=w):h(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=x):h(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(h(this._flags.last_token.text,u)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);p(n,["async","function"])||"*"===n.text&&p(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===y&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===l.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===y&&h(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===l.START_BLOCK?this.print_newline():this._flags.last_token.type!==l.END_EXPR&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==l.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},P.prototype.handle_end_expr=function(e){for(;this._flags.mode===m;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&k(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==l.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),E(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===x&&(this._previous_flags.mode=S,this._flags.do_block=!1,this._flags.do_while=!1)},P.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(v),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(v):n&&(h(n.text,[":",","])&&h(t.type,[l.STRING,l.WORD,l.RESERVED])||h(t.text,["get","set","..."])&&h(n.type,[l.WORD,l.RESERVED]))?h(this._last_last_text,["class","interface"])?this.set_mode(v):this.set_mode(y):this._flags.last_token.type===l.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(v):h(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||p(this._flags.last_token,["return","throw","import","default"])?this.set_mode(y):this.set_mode(v);var r=!t.comments_before&&"}"===t.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do{if(s+=1,(a=this._tokens.peek(s-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==l.EOF&&(a.type!==l.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(i||this._flags.last_token.type===l.EQUALS||p(this._flags.last_token,d)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!k(this._previous_flags.mode)||this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.COMMA||((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type!==l.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},P.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===m;)this.restore_mode();var t=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(k(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},P.prototype.handle_word=function(e){if(e.type===l.RESERVED)if(h(e.text,["set","get"])&&this._flags.mode!==y)e.type=l.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=l.WORD;else if(h(e.text,["as","from"])&&!this._flags.import_block)e.type=l.WORD;else if(this._flags.mode===y){":"===this._tokens.peek().text&&(e.type=l.WORD)}if(this.start_of_statement(e)?p(this._flags.last_token,["var","let","const"])&&e.type===l.WORD&&(this._flags.declaration_statement=!0):!e.newlines||F(this._flags.mode)||this._flags.last_token.type===l.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===l.EQUALS||!this._options.preserve_newlines&&p(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(f(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&f(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===m;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&p(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==l.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.EQUALS&&this._flags.last_token.type!==l.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),f(e,"function"))return(h(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!h(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==l.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?p(this._flags.last_token,["get","set","new","export"])||p(this._flags.last_token,O)||f(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!F(this._flags.mode)&&!k(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":p(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===v?t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&F(this._flags.mode)?t="SPACE":this._flags.last_token.type===l.STRING?t="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===y&&h(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===l.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),p(e,u)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),p(e,["else","catch","finally"]))?(this._flags.last_token.type!==l.END_BLOCK||this._previous_flags.mode!==v||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?p(this._flags.last_token,d)||"declare"===this._flags.last_token.text&&p(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?this._flags.last_token.type===l.START_EXPR&&p(e,["var","let","const"])||":"===this._flags.last_token.text||(f(e,"if")&&f(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):p(e,u)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&k(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==l.WORD&&e.previous.type!==l.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===l.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&f(e,"from")&&(this._flags.import_block=!1))},P.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();this._flags.mode===m&&(!this._flags.if_block||!f(t,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},P.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==l.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==l.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},P.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},P.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(F(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===y||this._flags.mode===m&&this._flags.parent.mode===y?(this._flags.mode===m&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},P.prototype.handle_operator=function(e){var t="*"===e.text&&(p(this._flags.last_token,["function","yield"])||h(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),n=h(e.text,["-","+"])&&(h(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||h(this._flags.last_token.text,u)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var r=!t;this.handle_whitespace_and_comments(e,r)}if(p(this._flags.last_token,d))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==l.DOT)if("::"!==e.text){if(this._flags.last_token.type===l.OPERATOR&&h(this._options.operator_position,g)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var i=!0,s=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&h(e.text,c)){var o=":"===e.text,f=o&&a,y=o&&!a;switch(this._options.operator_position){case _.before_newline:return this._output.space_before_token=!y,this.print_token(e),o&&!f||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case _.after_newline:return this._output.space_before_token=!0,!o||f?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case _.preserve_newline:return y||this.allow_wrap_or_preserved_newline(e),i=!(this._output.just_added_newline()||y),this._output.space_before_token=i,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),i=!1;var b=this._tokens.peek();s=b&&h(b.type,[l.WORD,l.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),i=this._flags.last_token.type===l.START_BLOCK,s=!1):(h(e.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR||this.allow_wrap_or_preserved_newline(e),i=!1,s=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&F(this._flags.mode)&&(i=!0),this._flags.last_token.type===l.RESERVED?i=!0:this._flags.last_token.type===l.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===l.OPERATOR&&(i=h(e.text,["--","-","++","+"])&&h(this._flags.last_token.text,["--","-","++","+"]),h(e.text,["+","-"])&&h(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode!==v||this._flags.inline_frame)&&this._flags.mode!==m||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(e),this._output.space_before_token=s}else this.print_token(e);else this.print_token(e)},P.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):s.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},P.prototype.print_block_commment=function(e,t){var n,r=function(e){for(var t=[],n=(e=e.replace(s.allLineBreaks,"\n")).indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),i=!1,a=!1,o=e.whitespace_before,u=o.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(r[0]),this.print_newline(!1,t),r.length>1){for(i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].trim().charAt(0)!==t)return!1;return!0}(r=r.slice(1),"*"),a=function(e,t){for(var n,r=0,i=e.length;r<i;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(r,o),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(e),this._output.add_token(r[n].replace(/^\s+/g,""))):a&&r[n]?(this.print_token_line_indentation(e),this._output.add_token(r[n].substring(u))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,t);this._flags.alignment=0}},P.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},P.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),p(this._flags.last_token,d)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},P.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},P.prototype.handle_eof=function(e){for(;this._flags.mode===m;)this.restore_mode();this.handle_whitespace_and_comments(e)},e.exports.Beautifier=P},function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function r(e,r){this.__indent_cache=new n(e,r),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},n.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},r.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(e,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},e.exports.Output=r},function(e){e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(e,t){var n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";t.identifier=new RegExp(s+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),t.identifierStart=new RegExp(s),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")},function(e,t,n){var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function s(e){r.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<n.length;s++)"preserve-inline"===n[s]?this.brace_preserve_inline=!0:this.brace_style=n[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}s.prototype=new r,e.exports.Options=s},function(e){function t(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(e,t){var n,i={};for(n in e=r(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function r(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}t.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(r=n.concat()):"string"===typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},t.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},t.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"===typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},t.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},t.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},t.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=r,e.exports.mergeOpts=n},function(e,t,n){var r=n(8).InputScanner,i=n(9).Tokenizer,s=n(9).TOKEN,a=n(13).Directives,o=n(4),u=n(12).Pattern,c=n(14).TemplatablePattern;function l(e,t){return-1!==t.indexOf(e)}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:s.START,RAW:s.RAW,EOF:s.EOF},f=new a(/\/\*/,/\*\//),p=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,d=/[0-9]/,_=/[^\d\.]/,g=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),v=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";v=(v="\\?\\.(?!\\d) "+(v=v.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var m,y=new RegExp(v),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),w=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),x=new RegExp("^(?:"+w.join("|")+")$"),S=function(e,t){i.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new u(this._input),r=new c(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(o.identifier).matching(o.identifierMatch),number:n.matching(p),punct:n.matching(y),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(o.lineBreak),shebang:n.starting_with(/#!/).until_after(o.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(S.prototype=new i)._is_comment=function(e){return e.type===h.COMMENT||e.type===h.BLOCK_COMMENT||e.type===h.UNKNOWN},S.prototype._is_opening=function(e){return e.type===h.START_BLOCK||e.type===h.START_EXPR},S.prototype._is_closing=function(e,t){return(e.type===h.END_BLOCK||e.type===h.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},S.prototype._reset=function(){m=!1},S.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(h.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(r))||this._read_string(r))||this._read_word(e))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,e))||this._read_xml(r,e))||this._read_punctuation())||this._create_token(h.UNKNOWN,this._input.next())},S.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(o.allLineBreaks,"\n"),e.type!==h.DOT&&(e.type!==h.RESERVED||"set"!==e.text&&"get"!==e.text)&&x.test(t)?"in"===t||"of"===t?this._create_token(h.OPERATOR,t):this._create_token(h.RESERVED,t):this._create_token(h.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(h.WORD,t):void 0},S.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(h.START_EXPR,e):")"===e||"]"===e?t=this._create_token(h.END_EXPR,e):"{"===e?t=this._create_token(h.START_BLOCK,e):"}"===e?t=this._create_token(h.END_BLOCK,e):";"===e?t=this._create_token(h.SEMICOLON,e):"."===e&&_.test(this._input.peek(1))?t=this._create_token(h.DOT,e):","===e&&(t=this._create_token(h.COMMA,e)),t&&this._input.next(),t},S.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(h.EQUALS,e):"?."===e?this._create_token(h.DOT,e):this._create_token(h.OPERATOR,e)},S.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(h.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(h.UNKNOWN,t.trim()+"\n");e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(d)){do{n+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(h.WORD,n)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(o.newline);)t+=this._input.next();return m=!0,this._create_token(h.COMMENT,t)}}else if(m&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return m=!1,this._create_token(h.COMMENT,t);return null},S.prototype._read_comment=function(e){var t=null;if("/"===e){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=f.get_directives(n);r&&"start"===r.ignore&&(n+=f.readIgnored(this._input)),n=n.replace(o.allLineBreaks,"\n"),(t=this._create_token(h.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),t=this._create_token(h.COMMENT,n))}return t},S.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",n=0,i=new r(e),s=null;for(;i.hasNext();)if((s=i.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=s[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())s=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){t+="\\",i.hasNext()&&(t+=i.next());continue}s=i.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return e;if((n=parseInt(s[1],16))>126&&n<=255&&0===s[0].indexOf("x"))return e;if(n>=0&&n<32){t+="\\"+s[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(o.allLineBreaks,"\n"),this._create_token(h.STRING,t)}return null},S.prototype._allow_regexp_or_xml=function(e){return e.type===h.RESERVED&&l(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===h.END_EXPR&&")"===e.text&&e.opened.previous.type===h.RESERVED&&l(e.opened.previous.text,["if","while","for"])||l(e.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])},S.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==e)&&!this._input.testChar(o.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(o.identifier)),this._create_token(h.STRING,n)}return null},S.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=0===i.indexOf("{"),a=0;r;){var u=!!r[1],c=r[2];if(!(!!r[r.length-1]||"![CDATA["===c.slice(0,8))&&(c===i||s&&c.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(u?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(o.allLineBreaks,"\n"),this._create_token(h.STRING,n)}}return null},S.prototype._read_string_recursive=function(e,t,n){var r,i;"'"===e?i=this.__patterns.single_quote:'"'===e?i=this.__patterns.double_quote:"`"===e?i=this.__patterns.template_text:"}"===e&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&o.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):n&&("${"===n&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),n===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),s+=a+=i.read()}return s},e.exports.Tokenizer=S,e.exports.TOKEN=h,e.exports.positionable_operators=g.slice(),e.exports.line_starters=b.slice()},function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,n){e.lastIndex=n;var r=e.exec(this.__input);return!r||t&&e.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},n.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,n){var r=null,i="g";return n&&t&&(i="y"),"string"===typeof e&&""!==e?r=new RegExp(e,i):e&&(r=new RegExp(e.source,i)),r},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},function(e,t,n){var r=n(8).InputScanner,i=n(3).Token,s=n(10).TokenStream,a=n(11).WhitespacePattern,o={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};u.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new s,this._reset();for(var t=new i(o.START,""),n=null,r=[],a=new s;t.type!==o.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)a.add(e),e=this._get_next_token(t,n);a.isEmpty()||(e.comments_before=a,a=new s),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(o.RAW,n):this._create_token(o.EOF,"")},u.prototype._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return!1},u.prototype._is_closing=function(e,t){return!1},u.prototype._create_token=function(e,t){return new i(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=u,e.exports.TOKEN=o},function(e){function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return 0===this.__tokens_length},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=t},function(e,t,n){var r=n(12).Pattern;function i(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},i.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=i},function(e){function t(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},t.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},t.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},t.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},e.exports.Pattern=t},function(e){function t(e,t){e="string"===typeof e?e:e.source,t="string"===typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},function(e,t,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function s(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}s.prototype=new r,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},s.prototype.read_options=function(e){var t=this._create();for(var n in i)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},s.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},s.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},s.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},s.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},e.exports.TemplatablePattern=s}],t={};var n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(0);r=n}();var i=r;void 0===(n=function(){return{js_beautify:i}}.apply(t,[]))||(e.exports=n)}()},96486:function(e,t,n){var r;e=n.nmd(e),function(){var i,s="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",u=16,c=32,l=64,h=128,f=256,p=1/0,d=9007199254740991,_=NaN,g=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",f]],m="[object Arguments]",y="[object Array]",b="[object Boolean]",w="[object Date]",x="[object Error]",S="[object Function]",E="[object GeneratorFunction]",k="[object Map]",F="[object Number]",P="[object Object]",O="[object Promise]",R="[object RegExp]",j="[object Set]",A="[object String]",T="[object Symbol]",C="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",D="[object Float32Array]",L="[object Float64Array]",U="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",H="[object Uint8Array]",V="[object Uint8ClampedArray]",Z="[object Uint16Array]",z="[object Uint32Array]",K=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,$=RegExp(J.source),Q=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),ae=/^\s+/,oe=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_e=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Fe="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="['\u2019]",Ae="[\\ud800-\\udfff]",Te="["+Re+"]",Ce="["+Ee+"]",Ie="\\d+",Ne="[\\u2700-\\u27bf]",De="["+Fe+"]",Le="[^\\ud800-\\udfff"+Re+Ie+ke+Fe+Pe+"]",Ue="\\ud83c[\\udffb-\\udfff]",Me="[^\\ud800-\\udfff]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Pe+"]",Ze="(?:"+De+"|"+Le+")",ze="(?:"+Ve+"|"+Le+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Ce+"|"+Ue+")"+"?",Je="[\\ufe0e\\ufe0f]?",Ge=Je+We+("(?:\\u200d(?:"+[Me,Be,He].join("|")+")"+Je+We+")*"),$e="(?:"+[Ne,Be,He].join("|")+")"+Ge,Qe="(?:"+[Me+Ce+"?",Ce,Be,He,Ae].join("|")+")",Ye=RegExp(je,"g"),Xe=RegExp(Ce,"g"),et=RegExp(Ue+"(?="+Ue+")|"+Qe+Ge,"g"),tt=RegExp([Ve+"?"+De+"+"+Ke+"(?="+[Te,Ve,"$"].join("|")+")",ze+"+"+qe+"(?="+[Te,Ve+Ze,"$"].join("|")+")",Ve+"?"+Ze+"+"+Ke,Ve+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,$e].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,at={};at[D]=at[L]=at[U]=at[M]=at[B]=at[H]=at[V]=at[Z]=at[z]=!0,at[m]=at[y]=at[I]=at[b]=at[N]=at[w]=at[x]=at[S]=at[k]=at[F]=at[P]=at[R]=at[j]=at[A]=at[C]=!1;var ot={};ot[m]=ot[y]=ot[I]=ot[N]=ot[b]=ot[w]=ot[D]=ot[L]=ot[U]=ot[M]=ot[B]=ot[k]=ot[F]=ot[P]=ot[R]=ot[j]=ot[A]=ot[T]=ot[H]=ot[V]=ot[Z]=ot[z]=!0,ot[x]=ot[S]=ot[C]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=ht||ft||Function("return this")(),dt=t&&!t.nodeType&&t,_t=dt&&e&&!e.nodeType&&e,gt=_t&&_t.exports===dt,vt=gt&&ht.process,mt=function(){try{var e=_t&&_t.require&&_t.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),yt=mt&&mt.isArrayBuffer,bt=mt&&mt.isDate,wt=mt&&mt.isMap,xt=mt&&mt.isRegExp,St=mt&&mt.isSet,Et=mt&&mt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ft(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(r,a,n(a),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}function At(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Nt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function Mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Zt,n)}function Vt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Zt(e){return e!==e}function zt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:_}function Kt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Wt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Jt(e,t){for(var n,r=-1,s=e.length;++r<s;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,_n(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return Ct(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function on(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return on(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ut(e)}function dn(e){return on(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function _n(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var gn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,it))).Array,r=t.Date,oe=t.Error,Ee=t.Function,ke=t.Math,Fe=t.Object,Pe=t.RegExp,Oe=t.String,Re=t.TypeError,je=n.prototype,Ae=Ee.prototype,Te=Fe.prototype,Ce=t["__core-js_shared__"],Ie=Ae.toString,Ne=Te.hasOwnProperty,De=0,Le=function(){var e=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Te.toString,Me=Ie.call(Fe),Be=pt._,He=Pe("^"+Ie.call(Ne).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=gt?t.Buffer:i,Ze=t.Symbol,ze=t.Uint8Array,Ke=Ve?Ve.allocUnsafe:i,qe=cn(Fe.getPrototypeOf,Fe),We=Fe.create,Je=Te.propertyIsEnumerable,Ge=je.splice,$e=Ze?Ze.isConcatSpreadable:i,Qe=Ze?Ze.iterator:i,et=Ze?Ze.toStringTag:i,nt=function(){try{var e=fs(Fe,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ht=r&&r.now!==pt.Date.now&&r.now,ft=t.setTimeout!==pt.setTimeout&&t.setTimeout,dt=ke.ceil,_t=ke.floor,vt=Fe.getOwnPropertySymbols,mt=Ve?Ve.isBuffer:i,Ut=t.isFinite,qt=je.join,mn=cn(Fe.keys,Fe),yn=ke.max,bn=ke.min,wn=r.now,xn=t.parseInt,Sn=ke.random,En=je.reverse,kn=fs(t,"DataView"),Fn=fs(t,"Map"),Pn=fs(t,"Promise"),On=fs(t,"Set"),Rn=fs(t,"WeakMap"),jn=fs(Fe,"create"),An=Rn&&new Rn,Tn={},Cn=Ms(kn),In=Ms(Fn),Nn=Ms(Pn),Dn=Ms(On),Ln=Ms(Rn),Un=Ze?Ze.prototype:i,Mn=Un?Un.valueOf:i,Bn=Un?Un.toString:i;function Hn(e){if(no(e)&&!Ka(e)&&!(e instanceof Kn)){if(e instanceof zn)return e;if(Ne.call(e,"__wrapped__"))return Bs(e)}return new zn(e)}var Vn=function(){function e(){}return function(t){if(!to(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Zn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Wn(e);this.size=t.size}function Qn(e,t){var n=Ka(e),r=!n&&za(e),i=!n&&!r&&Ga(e),s=!n&&!r&&!i&&lo(e),a=n||r||i||s,o=a?Gt(e.length,Oe):[],u=o.length;for(var c in e)!t&&!Ne.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,u))||o.push(c);return o}function Yn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Xn(e,t){return Ds(ji(e),ur(t,0,e.length))}function er(e){return Ds(ji(e))}function tr(e,t,n){(n!==i&&!Ha(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Ne.call(e,t)&&Ha(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function sr(e,t){return e&&Ai(t,Co(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,s=t.length,a=n(s),o=null==e;++r<s;)a[r]=o?i:Oo(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,s,a){var o,u=1&t,c=2&t,l=4&t;if(n&&(o=s?n(e,r,s,a):n(e)),o!==i)return o;if(!to(e))return e;var h=Ka(e);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return ji(e,o)}else{var f=_s(e),p=f==S||f==E;if(Ga(e))return Ei(e,u);if(f==P||f==m||p&&!s){if(o=c||p?{}:vs(e),!u)return c?function(e,t){return Ai(e,ds(e),t)}(e,function(e,t){return e&&Ai(t,Io(t),e)}(o,e)):function(e,t){return Ai(e,ps(e),t)}(e,sr(o,e))}else{if(!ot[f])return s?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case I:return ki(e);case b:case w:return new r(+e);case N:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case L:case U:case M:case B:case H:case V:case Z:case z:return Fi(e,n);case k:return new r;case F:case A:return new r(e);case R:return function(e){var t=new e.constructor(e.source,_e.exec(e));return t.lastIndex=e.lastIndex,t}(e);case j:return new r;case T:return i=e,Mn?Fe(Mn.call(i)):{}}var i}(e,f,u)}}a||(a=new $n);var d=a.get(e);if(d)return d;a.set(e,o),oo(e)?e.forEach((function(r){o.add(cr(r,t,n,r,e,a))})):ro(e)&&e.forEach((function(r,i){o.set(i,cr(r,t,n,i,e,a))}));var _=h?i:(l?c?ss:is:c?Io:Co)(e);return Pt(_||e,(function(r,i){_&&(r=e[i=r]),nr(o,i,cr(r,t,n,i,e,a))})),o}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Fe(e);r--;){var s=n[r],a=t[s],o=e[s];if(o===i&&!(s in e)||!a(o))return!1}return!0}function hr(e,t,n){if("function"!=typeof e)throw new Re(s);return Ts((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,s=At,a=!0,o=e.length,u=[],c=t.length;if(!o)return u;n&&(t=Ct(t,Qt(n))),r?(s=Tt,a=!1):t.length>=200&&(s=Xt,a=!1,t=new Gn(t));e:for(;++i<o;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h===h){for(var f=c;f--;)if(t[f]===h)continue e;u.push(l)}else s(t,h,r)||u.push(l)}return u}Hn.templateSettings={escape:Y,evaluate:X,interpolate:ee,variable:"",imports:{_:Hn}},Hn.prototype=Zn.prototype,Hn.prototype.constructor=Hn,zn.prototype=Vn(Zn.prototype),zn.prototype.constructor=zn,Kn.prototype=Vn(Zn.prototype),Kn.prototype.constructor=Kn,qn.prototype.clear=function(){this.__data__=jn?jn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(jn){var n=t[e];return n===a?i:n}return Ne.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return jn?t[e]!==i:Ne.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jn&&t===i?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return rr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Fn||Wn),string:new qn}},Jn.prototype.delete=function(e){var t=ls(this,e).delete(e);return this.size-=t?1:0,t},Jn.prototype.get=function(e){return ls(this,e).get(e)},Jn.prototype.has=function(e){return ls(this,e).has(e)},Jn.prototype.set=function(e,t){var n=ls(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,a),this},Gn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Wn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ii(wr),dr=Ii(xr,!0);function _r(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(null!=o&&(u===i?o===o&&!co(o):n(o,u)))var u=o,c=a}return c}function vr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=ms),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?mr(o,t-1,n,r,i):It(i,o):r||(i[i.length]=o)}return i}var yr=Ni(),br=Ni(!0);function wr(e,t){return e&&yr(e,t,Co)}function xr(e,t){return e&&br(e,t,Co)}function Sr(e,t){return jt(t,(function(t){return Ya(e[t])}))}function Er(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Us(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Ka(e)?r:It(r,n(e))}function Fr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Fe(e)?function(e){var t=Ne.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var s=Ue.call(e);r&&(t?e[et]=n:delete e[et]);return s}(e):function(e){return Ue.call(e)}(e)}function Pr(e,t){return e>t}function Or(e,t){return null!=e&&Ne.call(e,t)}function Rr(e,t){return null!=e&&t in Fe(e)}function jr(e,t,r){for(var s=r?Tt:At,a=e[0].length,o=e.length,u=o,c=n(o),l=1/0,h=[];u--;){var f=e[u];u&&t&&(f=Ct(f,Qt(t))),l=bn(f.length,l),c[u]=!r&&(t||a>=120&&f.length>=120)?new Gn(u&&f):i}f=e[0];var p=-1,d=c[0];e:for(;++p<a&&h.length<l;){var _=f[p],g=t?t(_):_;if(_=r||0!==_?_:0,!(d?Xt(d,g):s(h,g,r))){for(u=o;--u;){var v=c[u];if(!(v?Xt(v,g):s(e[u],g,r)))continue e}d&&d.push(g),h.push(_)}}return h}function Ar(e,t,n){var r=null==(e=Os(e,t=bi(t,e)))?e:e[Us(Qs(t))];return null==r?i:kt(r,e,n)}function Tr(e){return no(e)&&Fr(e)==m}function Cr(e,t,n,r,s){return e===t||(null==e||null==t||!no(e)&&!no(t)?e!==e&&t!==t:function(e,t,n,r,s,a){var o=Ka(e),u=Ka(t),c=o?y:_s(e),l=u?y:_s(t),h=(c=c==m?P:c)==P,f=(l=l==m?P:l)==P,p=c==l;if(p&&Ga(e)){if(!Ga(t))return!1;o=!0,h=!1}if(p&&!h)return a||(a=new $n),o||lo(e)?ns(e,t,n,r,s,a):function(e,t,n,r,i,s,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!s(new ze(e),new ze(t)));case b:case w:case F:return Ha(+e,+t);case x:return e.name==t.name&&e.message==t.message;case R:case A:return e==t+"";case k:var o=un;case j:var u=1&r;if(o||(o=hn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ns(o(e),o(t),r,i,s,a);return a.delete(e),l;case T:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,n,r,s,a);if(!(1&n)){var d=h&&Ne.call(e,"__wrapped__"),_=f&&Ne.call(t,"__wrapped__");if(d||_){var g=d?e.value():e,v=_?t.value():t;return a||(a=new $n),s(g,v,n,r,a)}}if(!p)return!1;return a||(a=new $n),function(e,t,n,r,s,a){var o=1&n,u=is(e),c=u.length,l=is(t).length;if(c!=l&&!o)return!1;var h=c;for(;h--;){var f=u[h];if(!(o?f in t:Ne.call(t,f)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var _=!0;a.set(e,t),a.set(t,e);var g=o;for(;++h<c;){var v=e[f=u[h]],m=t[f];if(r)var y=o?r(m,v,f,t,e,a):r(v,m,f,e,t,a);if(!(y===i?v===m||s(v,m,n,r,a):y)){_=!1;break}g||(g="constructor"==f)}if(_&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(_=!1)}return a.delete(e),a.delete(t),_}(e,t,n,r,s,a)}(e,t,n,r,Cr,s))}function Ir(e,t,n,r){var s=n.length,a=s,o=!r;if(null==e)return!a;for(e=Fe(e);s--;){var u=n[s];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var c=(u=n[s])[0],l=e[c],h=u[1];if(o&&u[2]){if(l===i&&!(c in e))return!1}else{var f=new $n;if(r)var p=r(l,h,c,e,t,f);if(!(p===i?Cr(h,l,3,r,f):p))return!1}}return!0}function Nr(e){return!(!to(e)||(t=e,Le&&Le in t))&&(Ya(e)?He:me).test(Ms(e));var t}function Dr(e){return"function"==typeof e?e:null==e?su:"object"==typeof e?Ka(e)?Vr(e[0],e[1]):Hr(e):du(e)}function Lr(e){if(!Es(e))return mn(e);var t=[];for(var n in Fe(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!to(e))return function(e){var t=[];if(null!=e)for(var n in Fe(e))t.push(n);return t}(e);var t=Es(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Br(e,t){var r=-1,i=Wa(e)?n(e.length):[];return pr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function Hr(e){var t=hs(e);return 1==t.length&&t[0][2]?Fs(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Vr(e,t){return ws(e)&&ks(t)?Fs(Us(e),t):function(n){var r=Oo(n,e);return r===i&&r===t?Ro(n,e):Cr(t,r,3)}}function Zr(e,t,n,r,s){e!==t&&yr(t,(function(a,o){if(s||(s=new $n),to(a))!function(e,t,n,r,s,a,o){var u=js(e,n),c=js(t,n),l=o.get(c);if(l)return void tr(e,n,l);var h=a?a(u,c,n+"",e,t,o):i,f=h===i;if(f){var p=Ka(c),d=!p&&Ga(c),_=!p&&!d&&lo(c);h=c,p||d||_?Ka(u)?h=u:Ja(u)?h=ji(u):d?(f=!1,h=Ei(c,!0)):_?(f=!1,h=Fi(c,!0)):h=[]:so(c)||za(c)?(h=u,za(u)?h=yo(u):to(u)&&!Ya(u)||(h=vs(c))):f=!1}f&&(o.set(c,h),s(h,c,r,a,o),o.delete(c));tr(e,n,h)}(e,t,o,n,Zr,r,s);else{var u=r?r(js(e,o),a,o+"",e,t,s):i;u===i&&(u=a),tr(e,o,u)}}),Io)}function zr(e,t){var n=e.length;if(n)return ys(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Ct(t,(function(e){return Ka(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[su];var r=-1;t=Ct(t,Qt(cs()));var i=Br(e,(function(e,n,i){var s=Ct(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,a=i.length,o=n.length;for(;++r<a;){var u=Pi(i[r],s[r]);if(u)return r>=o?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var a=t[r],o=Er(e,a);n(o,a)&&ei(s,bi(a,e),o)}return s}function Wr(e,t,n,r){var i=r?Vt:Ht,s=-1,a=t.length,o=e;for(e===t&&(t=ji(t)),n&&(o=Ct(e,Qt(n)));++s<a;)for(var u=0,c=t[s],l=n?n(c):c;(u=i(o,l,u,r))>-1;)o!==e&&Ge.call(o,u,1),Ge.call(e,u,1);return e}function Jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;ys(i)?Ge.call(e,i,1):fi(e,i)}}return e}function Gr(e,t){return e+_t(Sn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=_t(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Cs(Ps(e,t,su),e+"")}function Yr(e){return Yn(Vo(e))}function Xr(e,t){var n=Vo(e);return Ds(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!to(e))return e;for(var s=-1,a=(t=bi(t,e)).length,o=a-1,u=e;null!=u&&++s<a;){var c=Us(t[s]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=o){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=to(h)?h:ys(t[s+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=An?function(e,t){return An.set(e,t),e}:su,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:su;function ri(e){return Ds(Vo(e))}function ii(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=n(s);++i<s;)a[i]=e[i+t];return a}function si(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,a=e[s];null!==a&&!co(a)&&(n?a<=t:a<t)?r=s+1:i=s}return i}return oi(e,t,su,n)}function oi(e,t,n,r){var s=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!==t,u=null===t,c=co(t),l=t===i;s<a;){var h=_t((s+a)/2),f=n(e[h]),p=f!==i,d=null===f,_=f===f,g=co(f);if(o)var v=r||_;else v=l?_&&(r||p):u?_&&p&&(r||!d):c?_&&p&&!d&&(r||!g):!d&&!g&&(r?f<=t:f<t);v?s=h+1:a=h}return bn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n],o=t?t(a):a;if(!n||!Ha(o,u)){var u=o;s[i++]=0===a?0:a}}return s}function ci(e){return"number"==typeof e?e:co(e)?_:+e}function li(e){if("string"==typeof e)return e;if(Ka(e))return Ct(e,li)+"";if(co(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,n){var r=-1,i=At,s=e.length,a=!0,o=[],u=o;if(n)a=!1,i=Tt;else if(s>=200){var c=t?null:$i(e);if(c)return hn(c);a=!1,i=Xt,u=new Gn}else u=t?[]:o;e:for(;++r<s;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),o.push(l)}else i(u,h,n)||(u!==o&&u.push(h),o.push(l))}return o}function fi(e,t){return null==(e=Os(e,t=bi(t,e)))||delete e[Us(Qs(t))]}function pi(e,t,n,r){return ei(e,t,n(Er(e,t)),r)}function di(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ii(e,r?0:s,r?s+1:i):ii(e,r?s+1:0,r?i:s)}function _i(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?hi(e[0]):[];for(var s=-1,a=n(i);++s<i;)for(var o=e[s],u=-1;++u<i;)u!=s&&(a[s]=fr(a[s]||o,e[u],t,r));return hi(mr(a,1),t,r)}function vi(e,t,n){for(var r=-1,s=e.length,a=t.length,o={};++r<s;){var u=r<a?t[r]:i;n(o,e[r],u)}return o}function mi(e){return Ja(e)?e:[]}function yi(e){return"function"==typeof e?e:su}function bi(e,t){return Ka(e)?e:ws(e,t)?[e]:Ls(bo(e))}var wi=Qr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=ut||function(e){return pt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Fi(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var n=e!==i,r=null===e,s=e===e,a=co(e),o=t!==i,u=null===t,c=t===t,l=co(t);if(!u&&!l&&!a&&e>t||a&&o&&c&&!u&&!l||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!l&&e<t||l&&n&&s&&!r&&!a||u&&n&&s||!o&&s||!c)return-1}return 0}function Oi(e,t,r,i){for(var s=-1,a=e.length,o=r.length,u=-1,c=t.length,l=yn(a-o,0),h=n(c+l),f=!i;++u<c;)h[u]=t[u];for(;++s<o;)(f||s<a)&&(h[r[s]]=e[s]);for(;l--;)h[u++]=e[s++];return h}function Ri(e,t,r,i){for(var s=-1,a=e.length,o=-1,u=r.length,c=-1,l=t.length,h=yn(a-u,0),f=n(h+l),p=!i;++s<h;)f[s]=e[s];for(var d=s;++c<l;)f[d+c]=t[c];for(;++o<u;)(p||s<a)&&(f[d+r[o]]=e[s++]);return f}function ji(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ai(e,t,n,r){var s=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),s?ar(n,u,c):nr(n,u,c)}return n}function Ti(e,t){return function(n,r){var i=Ka(n)?Ft:ir,s=t?t():{};return i(n,e,cs(r,2),s)}}function Ci(e){return Qr((function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:i,o=s>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(s--,a):i,o&&bs(n[0],n[1],o)&&(a=s<3?i:a,s=1),t=Fe(t);++r<s;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Wa(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Fe(n);(t?s--:++s<i)&&!1!==r(a[s],s,a););return n}}function Ni(e){return function(t,n,r){for(var i=-1,s=Fe(t),a=r(t),o=a.length;o--;){var u=a[e?o:++i];if(!1===n(s[u],u,s))break}return t}}function Di(e){return function(t){var n=on(t=bo(t))?dn(t):i,r=n?n[0]:t.charAt(0),s=n?xi(n,1).join(""):t.slice(1);return r[e]()+s}}function Li(e){return function(t){return Nt(Xo(Ko(t).replace(Ye,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return to(r)?r:n}}function Mi(e){return function(t,n,r){var s=Fe(t);if(!Wa(t)){var a=cs(n,3);t=Co(t),n=function(e){return a(s[e],e,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:i}}function Bi(e){return rs((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Re(s);if(a&&!u&&"wrapper"==os(o))var u=new zn([],!0)}for(r=u?r:n;++r<n;){var c=os(o=t[r]),l="wrapper"==c?as(o):i;u=l&&xs(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[os(l[0])].apply(u,l[3]):1==o.length&&xs(o)?u[c]():u.thru(o)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ka(r))return u.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Hi(e,t,r,s,a,o,u,c,l,f){var p=t&h,d=1&t,_=2&t,g=24&t,v=512&t,m=_?i:Ui(e);return function i(){for(var h=arguments.length,y=n(h),b=h;b--;)y[b]=arguments[b];if(g)var w=us(i),x=nn(y,w);if(s&&(y=Oi(y,s,a,g)),o&&(y=Ri(y,o,u,g)),h-=x,g&&h<f){var S=ln(y,w);return Ji(e,t,Hi,i.placeholder,r,y,S,c,l,f-h)}var E=d?r:this,k=_?E[e]:e;return h=y.length,c?y=Rs(y,c):v&&h>1&&y.reverse(),p&&l<h&&(y.length=l),this&&this!==pt&&this instanceof i&&(k=m||Ui(k)),k.apply(E,y)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Zi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),s=e(n,r)}return s}}function zi(e){return rs((function(t){return t=Ct(t,Qt(cs())),Qr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,dt(e/pn(t)));return on(t)?xi(dn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,r,s){return s&&"number"!=typeof s&&bs(t,r,s)&&(r=s=i),t=_o(t),r===i?(r=t,t=0):r=_o(r),function(e,t,r,i){for(var s=-1,a=yn(dt((t-e)/(r||1)),0),o=n(a);a--;)o[i?a:++s]=e,e+=r;return o}(t,r,s=s===i?t<r?1:-1:_o(s),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mo(t),n=mo(n)),e(t,n)}}function Ji(e,t,n,r,s,a,o,u,h,f){var p=8&t;t|=p?c:l,4&(t&=~(p?l:c))||(t&=-4);var d=[e,t,s,p?a:i,p?o:i,p?i:a,p?i:o,u,h,f],_=n.apply(i,d);return xs(e)&&As(_,d),_.placeholder=r,Is(_,e,t)}function Gi(e){var t=ke[e];return function(e,n){if(e=mo(e),(n=null==n?0:bn(go(n),292))&&Ut(e)){var r=(bo(e)+"e").split("e");return+((r=(bo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=On&&1/hn(new On([,-0]))[1]==p?function(e){return new On(e)}:lu;function Qi(e){return function(t){var n=_s(t);return n==k?un(t):n==j?fn(t):function(e,t){return Ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,r,a,p,d,_,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Re(s);var m=a?a.length:0;if(m||(t&=-97,a=p=i),_=_===i?_:yn(go(_),0),g=g===i?g:go(g),m-=p?p.length:0,t&l){var y=a,b=p;a=p=i}var w=v?i:as(e),x=[e,t,r,a,p,y,b,d,_,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=r==h&&8==n||r==h&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Oi(c,u,t[4]):u,e[4]=c?ln(e[3],o):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ri(c,u,t[6]):u,e[6]=c?ln(e[5],o):t[6]);(u=t[7])&&(e[7]=u);r&h&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,w),e=x[0],t=x[1],r=x[2],a=x[3],p=x[4],!(g=x[9]=x[9]===i?v?0:e.length:yn(x[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var s=Ui(e);return function a(){for(var o=arguments.length,u=n(o),c=o,l=us(a);c--;)u[c]=arguments[c];var h=o<3&&u[0]!==l&&u[o-1]!==l?[]:ln(u,l);return(o-=h.length)<r?Ji(e,t,Hi,a.placeholder,i,u,h,i,i,r-o):kt(this&&this!==pt&&this instanceof a?s:e,this,u)}}(e,t,g):t!=c&&33!=t||p.length?Hi.apply(i,x):function(e,t,r,i){var s=1&t,a=Ui(e);return function t(){for(var o=-1,u=arguments.length,c=-1,l=i.length,h=n(l+u),f=this&&this!==pt&&this instanceof t?a:e;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++o];return kt(f,s?r:this,h)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Is((w?ti:As)(S,x),e,t)}function Xi(e,t,n,r){return e===i||Ha(e,Te[n])&&!Ne.call(r,n)?t:e}function es(e,t,n,r,s,a){return to(e)&&to(t)&&(a.set(t,e),Zr(e,t,i,es,a),a.delete(t)),e}function ts(e){return so(e)?i:e}function ns(e,t,n,r,s,a){var o=1&n,u=e.length,c=t.length;if(u!=c&&!(o&&c>u))return!1;var l=a.get(e),h=a.get(t);if(l&&h)return l==t&&h==e;var f=-1,p=!0,d=2&n?new Gn:i;for(a.set(e,t),a.set(t,e);++f<u;){var _=e[f],g=t[f];if(r)var v=o?r(g,_,f,t,e,a):r(_,g,f,e,t,a);if(v!==i){if(v)continue;p=!1;break}if(d){if(!Lt(t,(function(e,t){if(!Xt(d,t)&&(_===e||s(_,e,n,r,a)))return d.push(t)}))){p=!1;break}}else if(_!==g&&!s(_,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function rs(e){return Cs(Ps(e,i,qs),e+"")}function is(e){return kr(e,Co,ps)}function ss(e){return kr(e,Io,ds)}var as=An?function(e){return An.get(e)}:lu;function os(e){for(var t=e.name+"",n=Tn[t],r=Ne.call(Tn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function us(e){return(Ne.call(Hn,"placeholder")?Hn:e).placeholder}function cs(){var e=Hn.iteratee||au;return e=e===au?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ls(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function hs(e){for(var t=Co(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ks(i)]}return t}function fs(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Nr(n)?n:i}var ps=vt?function(e){return null==e?[]:(e=Fe(e),jt(vt(e),(function(t){return Je.call(e,t)})))}:vu,ds=vt?function(e){for(var t=[];e;)It(t,ps(e)),e=qe(e);return t}:vu,_s=Fr;function gs(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,s=!1;++r<i;){var a=Us(t[r]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&eo(i)&&ys(a,i)&&(Ka(e)||za(e))}function vs(e){return"function"!=typeof e.constructor||Es(e)?{}:Vn(qe(e))}function ms(e){return Ka(e)||za(e)||!!($e&&e&&e[$e])}function ys(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function bs(e,t,n){if(!to(n))return!1;var r=typeof t;return!!("number"==r?Wa(n)&&ys(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function ws(e,t){if(Ka(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!co(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Fe(t))}function xs(e){var t=os(e),n=Hn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=as(n);return!!r&&e===r[0]}(kn&&_s(new kn(new ArrayBuffer(1)))!=N||Fn&&_s(new Fn)!=k||Pn&&_s(Pn.resolve())!=O||On&&_s(new On)!=j||Rn&&_s(new Rn)!=C)&&(_s=function(e){var t=Fr(e),n=t==P?e.constructor:i,r=n?Ms(n):"";if(r)switch(r){case Cn:return N;case In:return k;case Nn:return O;case Dn:return j;case Ln:return C}return t});var Ss=Ce?Ya:mu;function Es(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function ks(e){return e===e&&!to(e)}function Fs(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Fe(n)))}}function Ps(e,t,r){return t=yn(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=yn(i.length-t,0),o=n(a);++s<a;)o[s]=i[t+s];s=-1;for(var u=n(t+1);++s<t;)u[s]=i[s];return u[t]=r(o),kt(e,this,u)}}function Os(e,t){return t.length<2?e:Er(e,ii(t,0,-1))}function Rs(e,t){for(var n=e.length,r=bn(t.length,n),s=ji(e);r--;){var a=t[r];e[r]=ys(a,n)?s[a]:i}return e}function js(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var As=Ns(ti),Ts=ft||function(e,t){return pt.setTimeout(e,t)},Cs=Ns(ni);function Is(e,t,n){var r=t+"";return Cs(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(v,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Ns(e){var t=0,n=0;return function(){var r=wn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ds(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var a=Gr(n,s),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=Na(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Us(e){if("string"==typeof e||co(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ms(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bs(e){if(e instanceof Kn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=ji(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Hs=Qr((function(e,t){return Ja(e)?fr(e,mr(t,1,Ja,!0)):[]})),Vs=Qr((function(e,t){var n=Qs(t);return Ja(n)&&(n=i),Ja(e)?fr(e,mr(t,1,Ja,!0),cs(n,2)):[]})),Zs=Qr((function(e,t){var n=Qs(t);return Ja(n)&&(n=i),Ja(e)?fr(e,mr(t,1,Ja,!0),i,n):[]}));function zs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:go(n);return i<0&&(i=yn(r+i,0)),Bt(e,cs(t,3),i)}function Ks(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=go(n),s=n<0?yn(r+s,0):bn(s,r-1)),Bt(e,cs(t,3),s,!0)}function qs(e){return(null==e?0:e.length)?mr(e,1):[]}function Ws(e){return e&&e.length?e[0]:i}var Js=Qr((function(e){var t=Ct(e,mi);return t.length&&t[0]===e[0]?jr(t):[]})),Gs=Qr((function(e){var t=Qs(e),n=Ct(e,mi);return t===Qs(n)?t=i:n.pop(),n.length&&n[0]===e[0]?jr(n,cs(t,2)):[]})),$s=Qr((function(e){var t=Qs(e),n=Ct(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?jr(n,i,t):[]}));function Qs(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ys=Qr(Xs);function Xs(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var ea=rs((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Jr(e,Ct(t,(function(e){return ys(e,n)?+e:e})).sort(Pi)),r}));function ta(e){return null==e?e:En.call(e)}var na=Qr((function(e){return hi(mr(e,1,Ja,!0))})),ra=Qr((function(e){var t=Qs(e);return Ja(t)&&(t=i),hi(mr(e,1,Ja,!0),cs(t,2))})),ia=Qr((function(e){var t=Qs(e);return t="function"==typeof t?t:i,hi(mr(e,1,Ja,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(Ja(e))return t=yn(e.length,t),!0})),Gt(t,(function(t){return Ct(e,Kt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Ct(n,(function(e){return kt(t,i,e)}))}var oa=Qr((function(e,t){return Ja(e)?fr(e,t):[]})),ua=Qr((function(e){return gi(jt(e,Ja))})),ca=Qr((function(e){var t=Qs(e);return Ja(t)&&(t=i),gi(jt(e,Ja),cs(t,2))})),la=Qr((function(e){var t=Qs(e);return t="function"==typeof t?t:i,gi(jt(e,Ja),i,t)})),ha=Qr(sa);var fa=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,aa(e,n)}));function pa(e){var t=Hn(e);return t.__chain__=!0,t}function da(e,t){return t(e)}var _a=rs((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&ys(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:da,args:[s],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)}));var ga=Ti((function(e,t,n){Ne.call(e,n)?++e[n]:ar(e,n,1)}));var va=Mi(zs),ma=Mi(Ks);function ya(e,t){return(Ka(e)?Pt:pr)(e,cs(t,3))}function ba(e,t){return(Ka(e)?Ot:dr)(e,cs(t,3))}var wa=Ti((function(e,t,n){Ne.call(e,n)?e[n].push(t):ar(e,n,[t])}));var xa=Qr((function(e,t,r){var i=-1,s="function"==typeof t,a=Wa(e)?n(e.length):[];return pr(e,(function(e){a[++i]=s?kt(t,e,r):Ar(e,t,r)})),a})),Sa=Ti((function(e,t,n){ar(e,n,t)}));function Ea(e,t){return(Ka(e)?Ct:Br)(e,cs(t,3))}var ka=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Fa=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bs(e,t[0],t[1])?t=[]:n>2&&bs(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,mr(t,1),[])})),Pa=ht||function(){return pt.Date.now()};function Oa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Yi(e,h,i,i,i,i,t)}function Ra(e,t){var n;if("function"!=typeof t)throw new Re(s);return e=go(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ja=Qr((function(e,t,n){var r=1;if(n.length){var i=ln(n,us(ja));r|=c}return Yi(e,r,t,n,i)})),Aa=Qr((function(e,t,n){var r=3;if(n.length){var i=ln(n,us(Aa));r|=c}return Yi(t,r,e,n,i)}));function Ta(e,t,n){var r,a,o,u,c,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new Re(s);function _(t){var n=r,s=a;return r=a=i,h=t,u=e.apply(s,n)}function g(e){return h=e,c=Ts(m,t),f?_(e):u}function v(e){var n=e-l;return l===i||n>=t||n<0||p&&e-h>=o}function m(){var e=Pa();if(v(e))return y(e);c=Ts(m,function(e){var n=t-(e-l);return p?bn(n,o-(e-h)):n}(e))}function y(e){return c=i,d&&r?_(e):(r=a=i,u)}function b(){var e=Pa(),n=v(e);if(r=arguments,a=this,l=e,n){if(c===i)return g(l);if(p)return Si(c),c=Ts(m,t),_(l)}return c===i&&(c=Ts(m,t)),u}return t=mo(t)||0,to(n)&&(f=!!n.leading,o=(p="maxWait"in n)?yn(mo(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){c!==i&&Si(c),h=0,r=l=a=c=i},b.flush=function(){return c===i?u:y(Pa())},b}var Ca=Qr((function(e,t){return hr(e,1,t)})),Ia=Qr((function(e,t,n){return hr(e,mo(t)||0,n)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Na.Cache||Jn),n}function Da(e){if("function"!=typeof e)throw new Re(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=Jn;var La=wi((function(e,t){var n=(t=1==t.length&&Ka(t[0])?Ct(t[0],Qt(cs())):Ct(mr(t,1),Qt(cs()))).length;return Qr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Ua=Qr((function(e,t){var n=ln(t,us(Ua));return Yi(e,c,i,t,n)})),Ma=Qr((function(e,t){var n=ln(t,us(Ma));return Yi(e,l,i,t,n)})),Ba=rs((function(e,t){return Yi(e,f,i,i,i,t)}));function Ha(e,t){return e===t||e!==e&&t!==t}var Va=Wi(Pr),Za=Wi((function(e,t){return e>=t})),za=Tr(function(){return arguments}())?Tr:function(e){return no(e)&&Ne.call(e,"callee")&&!Je.call(e,"callee")},Ka=n.isArray,qa=yt?Qt(yt):function(e){return no(e)&&Fr(e)==I};function Wa(e){return null!=e&&eo(e.length)&&!Ya(e)}function Ja(e){return no(e)&&Wa(e)}var Ga=mt||mu,$a=bt?Qt(bt):function(e){return no(e)&&Fr(e)==w};function Qa(e){if(!no(e))return!1;var t=Fr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!so(e)}function Ya(e){if(!to(e))return!1;var t=Fr(e);return t==S||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xa(e){return"number"==typeof e&&e==go(e)}function eo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function to(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function no(e){return null!=e&&"object"==typeof e}var ro=wt?Qt(wt):function(e){return no(e)&&_s(e)==k};function io(e){return"number"==typeof e||no(e)&&Fr(e)==F}function so(e){if(!no(e)||Fr(e)!=P)return!1;var t=qe(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Me}var ao=xt?Qt(xt):function(e){return no(e)&&Fr(e)==R};var oo=St?Qt(St):function(e){return no(e)&&_s(e)==j};function uo(e){return"string"==typeof e||!Ka(e)&&no(e)&&Fr(e)==A}function co(e){return"symbol"==typeof e||no(e)&&Fr(e)==T}var lo=Et?Qt(Et):function(e){return no(e)&&eo(e.length)&&!!at[Fr(e)]};var ho=Wi(Mr),fo=Wi((function(e,t){return e<=t}));function po(e){if(!e)return[];if(Wa(e))return uo(e)?dn(e):ji(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=_s(e);return(t==k?un:t==j?hn:Vo)(e)}function _o(e){return e?(e=mo(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function go(e){var t=_o(e),n=t%1;return t===t?n?t-n:t:0}function vo(e){return e?ur(go(e),0,g):0}function mo(e){if("number"==typeof e)return e;if(co(e))return _;if(to(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=to(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=ve.test(e);return n||ye.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?_:+e}function yo(e){return Ai(e,Io(e))}function bo(e){return null==e?"":li(e)}var wo=Ci((function(e,t){if(Es(t)||Wa(t))Ai(t,Co(t),e);else for(var n in t)Ne.call(t,n)&&nr(e,n,t[n])})),xo=Ci((function(e,t){Ai(t,Io(t),e)})),So=Ci((function(e,t,n,r){Ai(t,Io(t),e,r)})),Eo=Ci((function(e,t,n,r){Ai(t,Co(t),e,r)})),ko=rs(or);var Fo=Qr((function(e,t){e=Fe(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&bs(t[0],t[1],s)&&(r=1);++n<r;)for(var a=t[n],o=Io(a),u=-1,c=o.length;++u<c;){var l=o[u],h=e[l];(h===i||Ha(h,Te[l])&&!Ne.call(e,l))&&(e[l]=a[l])}return e})),Po=Qr((function(e){return e.push(i,es),kt(Do,i,e)}));function Oo(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ro(e,t){return null!=e&&gs(e,t,Rr)}var jo=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),nu(su)),Ao=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),cs),To=Qr(Ar);function Co(e){return Wa(e)?Qn(e):Lr(e)}function Io(e){return Wa(e)?Qn(e,!0):Ur(e)}var No=Ci((function(e,t,n){Zr(e,t,n)})),Do=Ci((function(e,t,n,r){Zr(e,t,n,r)})),Lo=rs((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ct(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ai(e,ss(e),n),r&&(n=cr(n,7,ts));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Uo=rs((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Ro(e,n)}))}(e,t)}));function Mo(e,t){if(null==e)return{};var n=Ct(ss(e),(function(e){return[e]}));return t=cs(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Bo=Qi(Co),Ho=Qi(Io);function Vo(e){return null==e?[]:Yt(e,Co(e))}var Zo=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?zo(t):t)}));function zo(e){return Yo(bo(e).toLowerCase())}function Ko(e){return(e=bo(e))&&e.replace(we,rn).replace(Xe,"")}var qo=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wo=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Jo=Di("toLowerCase");var Go=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var $o=Li((function(e,t,n){return e+(n?" ":"")+Yo(t)}));var Qo=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Yo=Di("toUpperCase");function Xo(e,t,n){return e=bo(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var eu=Qr((function(e,t){try{return kt(e,i,t)}catch(n){return Qa(n)?n:new oe(n)}})),tu=rs((function(e,t){return Pt(t,(function(t){t=Us(t),ar(e,t,ja(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Bi(),iu=Bi(!0);function su(e){return e}function au(e){return Dr("function"==typeof e?e:cr(e,1))}var ou=Qr((function(e,t){return function(n){return Ar(n,e,t)}})),uu=Qr((function(e,t){return function(n){return Ar(e,n,t)}}));function cu(e,t,n){var r=Co(t),i=Sr(t,r);null!=n||to(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Co(t)));var s=!(to(n)&&"chain"in n)||!!n.chain,a=Ya(e);return Pt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=ji(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function lu(){}var hu=zi(Ct),fu=zi(Rt),pu=zi(Lt);function du(e){return ws(e)?Kt(Us(e)):function(e){return function(t){return Er(t,e)}}(e)}var _u=qi(),gu=qi(!0);function vu(){return[]}function mu(){return!1}var yu=Zi((function(e,t){return e+t}),0),bu=Gi("ceil"),wu=Zi((function(e,t){return e/t}),1),xu=Gi("floor");var Su=Zi((function(e,t){return e*t}),1),Eu=Gi("round"),ku=Zi((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new Re(s);return e=go(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Oa,Hn.assign=wo,Hn.assignIn=xo,Hn.assignInWith=So,Hn.assignWith=Eo,Hn.at=ko,Hn.before=Ra,Hn.bind=ja,Hn.bindAll=tu,Hn.bindKey=Aa,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ka(e)?e:[e]},Hn.chain=pa,Hn.chunk=function(e,t,r){t=(r?bs(e,t,r):t===i)?1:yn(go(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var a=0,o=0,u=n(dt(s/t));a<s;)u[o++]=ii(e,a,a+=t);return u},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Ka(r)?ji(r):[r],mr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=cs();return e=t?Ct(e,(function(e){if("function"!=typeof e[1])throw new Re(s);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=Co(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Hn.constant=nu,Hn.countBy=ga,Hn.create=function(e,t){var n=Vn(e);return null==t?n:sr(n,t)},Hn.curry=function e(t,n,r){var s=Yi(t,8,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Hn.curryRight=function e(t,n,r){var s=Yi(t,u,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Hn.debounce=Ta,Hn.defaults=Fo,Hn.defaultsDeep=Po,Hn.defer=Ca,Hn.delay=Ia,Hn.difference=Hs,Hn.differenceBy=Vs,Hn.differenceWith=Zs,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:go(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:go(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?di(e,cs(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?di(e,cs(t,3),!0):[]},Hn.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&bs(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=go(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:go(r))<0&&(r+=s),r=n>r?0:vo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(Ka(e)?jt:vr)(e,cs(t,3))},Hn.flatMap=function(e,t){return mr(Ea(e,t),1)},Hn.flatMapDeep=function(e,t){return mr(Ea(e,t),p)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:go(n),mr(Ea(e,t),n)},Hn.flatten=qs,Hn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,p):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:go(t)):[]},Hn.flip=function(e){return Yi(e,512)},Hn.flow=ru,Hn.flowRight=iu,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:Sr(e,Co(e))},Hn.functionsIn=function(e){return null==e?[]:Sr(e,Io(e))},Hn.groupBy=wa,Hn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Hn.intersection=Js,Hn.intersectionBy=Gs,Hn.intersectionWith=$s,Hn.invert=jo,Hn.invertBy=Ao,Hn.invokeMap=xa,Hn.iteratee=au,Hn.keyBy=Sa,Hn.keys=Co,Hn.keysIn=Io,Hn.map=Ea,Hn.mapKeys=function(e,t){var n={};return t=cs(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=cs(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(cr(e,1))},Hn.matchesProperty=function(e,t){return Vr(e,cr(t,1))},Hn.memoize=Na,Hn.merge=No,Hn.mergeWith=Do,Hn.method=ou,Hn.methodOf=uu,Hn.mixin=cu,Hn.negate=Da,Hn.nthArg=function(e){return e=go(e),Qr((function(t){return zr(t,e)}))},Hn.omit=Lo,Hn.omitBy=function(e,t){return Mo(e,Da(cs(t)))},Hn.once=function(e){return Ra(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(Ka(t)||(t=null==t?[]:[t]),Ka(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Hn.over=hu,Hn.overArgs=La,Hn.overEvery=fu,Hn.overSome=pu,Hn.partial=Ua,Hn.partialRight=Ma,Hn.partition=ka,Hn.pick=Uo,Hn.pickBy=Mo,Hn.property=du,Hn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Hn.pull=Ys,Hn.pullAll=Xs,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,cs(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Hn.pullAt=ea,Hn.range=_u,Hn.rangeRight=gu,Hn.rearg=Ba,Hn.reject=function(e,t){return(Ka(e)?jt:vr)(e,Da(cs(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=cs(t,3);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Jr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new Re(s);return Qr(e,t=t===i?t:go(t))},Hn.reverse=ta,Hn.sampleSize=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:go(t),(Ka(e)?Xn:Xr)(e,t)},Hn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Hn.shuffle=function(e){return(Ka(e)?er:ri)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bs(e,t,n)?(t=0,n=r):(t=null==t?0:go(t),n=n===i?r:go(n)),ii(e,t,n)):[]},Hn.sortBy=Fa,Hn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,cs(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&bs(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=bo(e))&&("string"==typeof t||null!=t&&!ao(t))&&!(t=li(t))&&on(e)?xi(dn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new Re(s);return t=null==t?0:yn(go(t),0),Qr((function(n){var r=n[t],i=xi(n,0,t);return r&&It(i,r),kt(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:go(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:go(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?di(e,cs(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?di(e,cs(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Re(s);return to(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ta(e,t,{leading:r,maxWait:t,trailing:i})},Hn.thru=da,Hn.toArray=po,Hn.toPairs=Bo,Hn.toPairsIn=Ho,Hn.toPath=function(e){return Ka(e)?Ct(e,Us):co(e)?[e]:ji(Ls(bo(e)))},Hn.toPlainObject=yo,Hn.transform=function(e,t,n){var r=Ka(e),i=r||Ga(e)||lo(e);if(t=cs(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:to(e)&&Ya(s)?Vn(qe(e)):{}}return(i?Pt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return Oa(e,1)},Hn.union=na,Hn.unionBy=ra,Hn.unionWith=ia,Hn.uniq=function(e){return e&&e.length?hi(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?hi(e,cs(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?hi(e,i,t):[]},Hn.unset=function(e,t){return null==e||fi(e,t)},Hn.unzip=sa,Hn.unzipWith=aa,Hn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:pi(e,t,yi(n),r)},Hn.values=Vo,Hn.valuesIn=function(e){return null==e?[]:Yt(e,Io(e))},Hn.without=oa,Hn.words=Xo,Hn.wrap=function(e,t){return Ua(yi(t),e)},Hn.xor=ua,Hn.xorBy=ca,Hn.xorWith=la,Hn.zip=ha,Hn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Hn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Hn.zipWith=fa,Hn.entries=Bo,Hn.entriesIn=Ho,Hn.extend=xo,Hn.extendWith=So,cu(Hn,Hn),Hn.add=yu,Hn.attempt=eu,Hn.camelCase=Zo,Hn.capitalize=zo,Hn.ceil=bu,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=mo(n))===n?n:0),t!==i&&(t=(t=mo(t))===t?t:0),ur(mo(e),t,n)},Hn.clone=function(e){return cr(e,4)},Hn.cloneDeep=function(e){return cr(e,5)},Hn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||lr(e,t,Co(t))},Hn.deburr=Ko,Hn.defaultTo=function(e,t){return null==e||e!==e?t:e},Hn.divide=wu,Hn.endsWith=function(e,t,n){e=bo(e),t=li(t);var r=e.length,s=n=n===i?r:ur(go(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Hn.eq=Ha,Hn.escape=function(e){return(e=bo(e))&&Q.test(e)?e.replace(G,sn):e},Hn.escapeRegExp=function(e){return(e=bo(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=Ka(e)?Rt:_r;return n&&bs(e,t,n)&&(t=i),r(e,cs(t,3))},Hn.find=va,Hn.findIndex=zs,Hn.findKey=function(e,t){return Mt(e,cs(t,3),wr)},Hn.findLast=ma,Hn.findLastIndex=Ks,Hn.findLastKey=function(e,t){return Mt(e,cs(t,3),xr)},Hn.floor=xu,Hn.forEach=ya,Hn.forEachRight=ba,Hn.forIn=function(e,t){return null==e?e:yr(e,cs(t,3),Io)},Hn.forInRight=function(e,t){return null==e?e:br(e,cs(t,3),Io)},Hn.forOwn=function(e,t){return e&&wr(e,cs(t,3))},Hn.forOwnRight=function(e,t){return e&&xr(e,cs(t,3))},Hn.get=Oo,Hn.gt=Va,Hn.gte=Za,Hn.has=function(e,t){return null!=e&&gs(e,t,Or)},Hn.hasIn=Ro,Hn.head=Ws,Hn.identity=su,Hn.includes=function(e,t,n,r){e=Wa(e)?e:Vo(e),n=n&&!r?go(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),uo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:go(n);return i<0&&(i=yn(r+i,0)),Ht(e,t,i)},Hn.inRange=function(e,t,n){return t=_o(t),n===i?(n=t,t=0):n=_o(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=mo(e),t,n)},Hn.invoke=To,Hn.isArguments=za,Hn.isArray=Ka,Hn.isArrayBuffer=qa,Hn.isArrayLike=Wa,Hn.isArrayLikeObject=Ja,Hn.isBoolean=function(e){return!0===e||!1===e||no(e)&&Fr(e)==b},Hn.isBuffer=Ga,Hn.isDate=$a,Hn.isElement=function(e){return no(e)&&1===e.nodeType&&!so(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&(Ka(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||lo(e)||za(e)))return!e.length;var t=_s(e);if(t==k||t==j)return!e.size;if(Es(e))return!Lr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return Cr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Cr(e,t,i,n):!!r},Hn.isError=Qa,Hn.isFinite=function(e){return"number"==typeof e&&Ut(e)},Hn.isFunction=Ya,Hn.isInteger=Xa,Hn.isLength=eo,Hn.isMap=ro,Hn.isMatch=function(e,t){return e===t||Ir(e,t,hs(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ir(e,t,hs(t),n)},Hn.isNaN=function(e){return io(e)&&e!=+e},Hn.isNative=function(e){if(Ss(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=io,Hn.isObject=to,Hn.isObjectLike=no,Hn.isPlainObject=so,Hn.isRegExp=ao,Hn.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=d},Hn.isSet=oo,Hn.isString=uo,Hn.isSymbol=co,Hn.isTypedArray=lo,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return no(e)&&_s(e)==C},Hn.isWeakSet=function(e){return no(e)&&"[object WeakSet]"==Fr(e)},Hn.join=function(e,t){return null==e?"":qt.call(e,t)},Hn.kebabCase=qo,Hn.last=Qs,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=go(n))<0?yn(r+s,0):bn(s,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Bt(e,Zt,s,!0)},Hn.lowerCase=Wo,Hn.lowerFirst=Jo,Hn.lt=ho,Hn.lte=fo,Hn.max=function(e){return e&&e.length?gr(e,su,Pr):i},Hn.maxBy=function(e,t){return e&&e.length?gr(e,cs(t,2),Pr):i},Hn.mean=function(e){return zt(e,su)},Hn.meanBy=function(e,t){return zt(e,cs(t,2))},Hn.min=function(e){return e&&e.length?gr(e,su,Mr):i},Hn.minBy=function(e,t){return e&&e.length?gr(e,cs(t,2),Mr):i},Hn.stubArray=vu,Hn.stubFalse=mu,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Su,Hn.nth=function(e,t){return e&&e.length?zr(e,go(t)):i},Hn.noConflict=function(){return pt._===this&&(pt._=Be),this},Hn.noop=lu,Hn.now=Pa,Hn.pad=function(e,t,n){e=bo(e);var r=(t=go(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(_t(i),n)+e+Ki(dt(i),n)},Hn.padEnd=function(e,t,n){e=bo(e);var r=(t=go(t))?pn(e):0;return t&&r<t?e+Ki(t-r,n):e},Hn.padStart=function(e,t,n){e=bo(e);var r=(t=go(t))?pn(e):0;return t&&r<t?Ki(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(bo(e).replace(ae,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bs(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=_o(e),t===i?(t=e,e=0):t=_o(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=Sn();return bn(e+s*(t-e+ct("1e-"+((s+"").length-1))),t)}return Gr(e,t)},Hn.reduce=function(e,t,n){var r=Ka(e)?Nt:Wt,i=arguments.length<3;return r(e,cs(t,4),n,i,pr)},Hn.reduceRight=function(e,t,n){var r=Ka(e)?Dt:Wt,i=arguments.length<3;return r(e,cs(t,4),n,i,dr)},Hn.repeat=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:go(t),$r(bo(e),t)},Hn.replace=function(){var e=arguments,t=bo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,s=(t=bi(t,e)).length;for(s||(s=1,e=i);++r<s;){var a=null==e?i:e[Us(t[r])];a===i&&(r=s,a=n),e=Ya(a)?a.call(e):a}return e},Hn.round=Eu,Hn.runInContext=e,Hn.sample=function(e){return(Ka(e)?Yn:Yr)(e)},Hn.size=function(e){if(null==e)return 0;if(Wa(e))return uo(e)?pn(e):e.length;var t=_s(e);return t==k||t==j?e.size:Lr(e).length},Hn.snakeCase=Go,Hn.some=function(e,t,n){var r=Ka(e)?Lt:si;return n&&bs(e,t,n)&&(t=i),r(e,cs(t,3))},Hn.sortedIndex=function(e,t){return ai(e,t)},Hn.sortedIndexBy=function(e,t,n){return oi(e,t,cs(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return oi(e,t,cs(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Hn.startCase=$o,Hn.startsWith=function(e,t,n){return e=bo(e),n=null==n?0:ur(go(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Hn.subtract=ku,Hn.sum=function(e){return e&&e.length?Jt(e,su):0},Hn.sumBy=function(e,t){return e&&e.length?Jt(e,cs(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&bs(e,t,n)&&(t=i),e=bo(e),t=So({},t,r,Xi);var s,a,o=So({},t.imports,r.imports,Xi),u=Co(o),c=Yt(o,u),l=0,h=t.interpolate||xe,f="__p += '",p=Pe((t.escape||xe).source+"|"+h.source+"|"+(h===ee?de:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),d="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(p,(function(t,n,r,i,o,u){return r||(r=i),f+=e.slice(l,u).replace(Se,an),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),o&&(a=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var _=Ne.call(t,"variable")&&t.variable;if(_){if(fe.test(_))throw new oe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(K,""):f).replace(q,"$1").replace(W,"$1;"),f="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=eu((function(){return Ee(u,d+"return "+f).apply(i,c)}));if(g.source=f,Qa(g))throw g;return g},Hn.times=function(e,t){if((e=go(e))<1||e>d)return[];var n=g,r=bn(e,g);t=cs(t),e-=g;for(var i=Gt(r,t);++n<e;)t(n);return i},Hn.toFinite=_o,Hn.toInteger=go,Hn.toLength=vo,Hn.toLower=function(e){return bo(e).toLowerCase()},Hn.toNumber=mo,Hn.toSafeInteger=function(e){return e?ur(go(e),-9007199254740991,d):0===e?e:0},Hn.toString=bo,Hn.toUpper=function(e){return bo(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=bo(e))&&(n||t===i))return $t(e);if(!e||!(t=li(t)))return e;var r=dn(e),s=dn(t);return xi(r,en(r,s),tn(r,s)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=bo(e))&&(n||t===i))return e.slice(0,_n(e)+1);if(!e||!(t=li(t)))return e;var r=dn(e);return xi(r,0,tn(r,dn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=bo(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=dn(e);return xi(r,en(r,dn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(to(t)){var s="separator"in t?t.separator:s;n="length"in t?go(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=bo(e)).length;if(on(e)){var o=dn(e);a=o.length}if(n>=a)return e;var u=n-pn(r);if(u<1)return r;var c=o?xi(o,0,u).join(""):e.slice(0,u);if(s===i)return c+r;if(o&&(u+=c.length-u),ao(s)){if(e.slice(u).search(s)){var l,h=c;for(s.global||(s=Pe(s.source,bo(_e.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(e.indexOf(li(s),u)!=u){var p=c.lastIndexOf(s);p>-1&&(c=c.slice(0,p))}return c+r},Hn.unescape=function(e){return(e=bo(e))&&$.test(e)?e.replace(J,gn):e},Hn.uniqueId=function(e){var t=++De;return bo(e)+t},Hn.upperCase=Qo,Hn.upperFirst=Yo,Hn.each=ya,Hn.eachRight=ba,Hn.first=Ws,cu(Hn,function(){var e={};return wr(Hn,(function(t,n){Ne.call(Hn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Hn.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),Pt(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===i?1:yn(go(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:cs(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(su)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Ar(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Da(cs(e)))},Kn.prototype.slice=function(e,t){e=go(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=go(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(g)},wr(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Hn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);s&&(Hn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,u=t instanceof Kn,c=o[0],l=u||Ka(t),h=function(e){var t=s.apply(Hn,It([e],o));return r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,_=u&&!p;if(!a&&l){t=_?t:new Kn(this);var g=e.apply(t,o);return g.__actions__.push({func:da,args:[h],thisArg:i}),new zn(g,f)}return d&&_?e.apply(this,o):(g=this.thru(h),d?r?g.value()[0]:g.value():g)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ka(i)?i:[],e)}return this[n]((function(n){return t.apply(Ka(n)?n:[],e)}))}})),wr(Kn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Ne.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Hi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=ji(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ji(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ji(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ka(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=s.start,o=s.end,u=o-a,c=r?o:a-1,l=this.__iteratees__,h=l.length,f=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return _i(e,this.__actions__);var d=[];e:for(;u--&&f<p;){for(var _=-1,g=e[c+=t];++_<h;){var v=l[_],m=v.iteratee,y=v.type,b=m(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}d[f++]=g}return d},Hn.prototype.at=_a,Hn.prototype.chain=function(){return pa(this)},Hn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=po(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof Zn;){var r=Bs(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:da,args:[ta],thisArg:i}),new zn(t,this.__chain__)}return this.thru(ta)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return _i(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,Qe&&(Hn.prototype[Qe]=function(){return this}),Hn}();pt._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},97916:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return vs}});var r=n(59499),i=n(9008),s=n.n(i),a=(n(13157),n(62885),n(67294)),o=n(94184),u=n.n(o),c=n(11163),l=n(70347),h=n(42869),f=n(46415),p=n(61686),d=n(54963),_=n(25781),g=n(23315),v=n(89026),m=n(9669),y=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=["/_next/static"];function x(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return["common","get","post","head","put","patch","delete","date","strict-transport-security","request-context"].forEach((function(e){return delete t[e]})),t}var S=n(85804),E=n(6227),k=n(73351),F=n(51477),P=n(51974),O=(n(73678),n(85893));function R(e){var t=e.onClose,n=e.trialExpirationDateTime;return(0,O.jsx)(P.Z,{children:(0,O.jsxs)(E.Alert,{onClose:t,type:"negative",isSticky:!0,className:"trial-banner",children:["Your free Trial"," ",(0,O.jsx)("strong",{className:"days-remaining-counter negative",children:n?"expired on ".concat(F.c.formatDateToString(n)):"expired"}),". Please subscribe to continue using the iTwin Platform. All created applications and test iModels"," ",(0,O.jsx)("strong",{children:"may become unavailable 90 days after Trial expiration."}),(0,O.jsx)(k.Z,{className:"iui-alert-link",href:p.$r,children:"See subscription plans"})]})})}function j(e){var t=e.onClose,n=e.daysBeforeExpiration;return(0,O.jsx)(P.Z,{children:(0,O.jsxs)(E.Alert,{onClose:t,type:n<S.PX?"warning":"informational",isSticky:!0,className:"trial-banner",children:["Your free Trial expires in"," ",(0,O.jsxs)("strong",{children:[n," ",1===n?"day":"days"]}),".",(0,O.jsx)(k.Z,{className:"iui-alert-link",href:p.$r,children:"See subscription plans"})]})})}function A(e){var t=e.onClose,n=e.trialExpirationDateTime,r=(0,a.useMemo)((function(){var e=(new Date).getTime(),t=n.getTime()-e;return Math.ceil(t/S.xR)}),[n]);return void 0===r||isNaN(r)?null:r>0?(0,O.jsx)(j,{onClose:t,daysBeforeExpiration:r}):(0,O.jsx)(R,{onClose:t,trialExpirationDateTime:n})}var T=n(57255),C=n(92777),I=n(82262),N=n(5948);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){return(0,O.jsx)("svg",L(L({},e),{},{children:(0,O.jsx)("path",{d:"M3.56 3.456C3.56.823 4.862 0 6.489 0s2.93.823 2.93 3.456a3.229 3.229 0 0 1-2.93 3.456 3.229 3.229 0 0 1-2.93-3.456zM7 12a4.978 4.978 0 0 1 2.55-4.333l-.701-.362h-.163a3.703 3.703 0 0 1-2.184.813 3.777 3.777 0 0 1-2.21-.814H4.13L1.851 8.491a.627.627 0 0 0-.325.317L.06 12.05a.844.844 0 0 0 0 .633.747.747 0 0 0 .65.316h6.39A5.021 5.021 0 0 1 7 12zm9 .71v-1.43l-1.1-.22a4.318 4.318 0 0 0-.19-.45l.62-.93-1.01-1.01-.93.62a2.62 2.62 0 0 0-.46-.19L12.71 8h-1.43l-.22 1.1a2.62 2.62 0 0 0-.46.19l-.93-.62-1.01 1.01.62.93a3.704 3.704 0 0 0-.19.46L8 11.29v1.43l1.1.22a2.525 2.525 0 0 0 .19.45l-.62.94 1.01 1.01.94-.63a2.43 2.43 0 0 0 .44.19l.23 1.1h1.42l.23-1.11a3.38 3.38 0 0 0 .44-.18l.94.62 1.01-1.01-.62-.94a3.011 3.011 0 0 0 .18-.45zm-4 .81A1.525 1.525 0 1 1 13.52 12 1.522 1.522 0 0 1 12 13.52z"})}))};U.defaultProps={viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};var M=function(e){return(0,O.jsx)(U,L({},e))},B=function(){function e(){(0,C.Z)(this,e)}return(0,I.Z)(e,null,[{key:"getAllHeaderItems",value:function(){return[{title:"Get Started",href:p.v4,allowAnonymous:!0},{title:"Documentation",href:p.tQ,allowAnonymous:!0,isActiveFn:function(e){return[p.tQ,p.Ss,p.fI].some((function(t){return e.startsWith(t)}))}},{title:"Learning",allowAnonymous:!0,href:p.MG,customRenderCondition:function(e){var t=e.flags;return t&&t[f.wm]}},{title:"Learning",allowAnonymous:!0,isDropdown:!0,href:"",values:[{title:"Tutorials",href:p.eU,allowAnonymous:!0},{title:"Accreditation",href:p.lP,allowAnonymous:!0},{title:"Powered by iTwin",href:p.ZY,allowAnonymous:!0},{title:"iTwin University",href:p.f_,allowAnonymous:!0,customRenderCondition:function(e){var t=e.flags;return t&&t[f.R8]}}],customRenderCondition:function(e){var t=e.flags;return t&&!t[f.wm]}},{title:"Samples",href:p.FH,allowAnonymous:!0},{title:"Blog",href:p.RM,allowAnonymous:!0,customRenderCondition:function(e){var t=e.flags;return t&&t[f.Vg]}},{title:"Support",href:"",allowAnonymous:!0,isDropdown:!0,values:[{title:"Get Support",href:p.wL,allowAnonymous:!0},{title:"Platform Health",href:p.Vg,allowAnonymous:!0,customRenderCondition:function(e){var t=e.flags;return t&&t[f.uU]}},{title:"Submit an Idea",href:h.Z.IDEAS_PORTAL_URL,allowAnonymous:!0,endIcon:(0,O.jsx)(N.M5i,{})}]},{title:"Pricing",href:p.$r,allowAnonymous:!0,customRenderCondition:function(e){var t=e.flags;return t&&t[f.Wz]}},{title:"Profile",href:p.ih,allowAnonymous:!1,isInUserProfile:!0},{title:"My Apps",href:p.$Z,allowAnonymous:!1,isInUserProfile:!0,isActiveFn:function(e){return[p.$Z,p.Nz,p.ei,p._m,p.Nd].some((function(t){return e.startsWith(t)}))}},{title:"My iTwins",href:p.z$,allowAnonymous:!1,isInUserProfile:!0,isActiveFn:function(e){return e.startsWith(p.z$)}},{title:"All Resources",href:p.MG,allowAnonymous:!0,isInLearningPage:!0,isActiveFn:function(e){return e.endsWith(p.MG)},customRenderCondition:function(e){var t=e.flags;return t&&t[f.wm]}},{title:"Tutorials",href:p.eU,allowAnonymous:!0,isInLearningPage:!0,isActiveFn:function(e){return e.startsWith(p.eU)},customRenderCondition:function(e){var t=e.flags;return t&&t[f.wm]}},{title:"Courses",href:p.Wv,allowAnonymous:!0,isInLearningPage:!0,isActiveFn:function(e){return e.startsWith(p.Wv)},customRenderCondition:function(e){var t=e.flags;return t&&t[f.R8]}},{title:"Hands-on Labs",href:p.PY,allowAnonymous:!0,isInLearningPage:!0,isActiveFn:function(e){return e.startsWith(p.PY)},customRenderCondition:function(e){var t=e.flags;return t&&t[f.R8]}},{title:"Account settings",href:p.QL,allowAnonymous:!1,isInUserProfile:!0,startIcon:(0,O.jsx)(M,{style:{backgroundColor:"unset",padding:0}}),addDividerBefore:!0,customRenderCondition:function(e){var t,n=e.flags,r=e.session;return n&&n[f.j8]&&(null===r||void 0===r||null===(t=r.areas)||void 0===t?void 0:t.subscriptionManagement)}}]}},{key:"getFilteredHeaderItems",value:function(e,t){return this.getAllHeaderItems().map((function(n){return n.values?Object.assign({},n,{values:n.values.reduce((function(n,r){return(void 0===r.customRenderCondition||r.customRenderCondition({flags:e,session:t}))&&n.push(r),n}),[])}):n})).filter((function(n){return(void 0===n.customRenderCondition||n.customRenderCondition({flags:e,session:t}))&&(!n.values||n.values.length>0)}))}}]),e}(),H=n(8302),V=n(99301),Z=n(41664),z=n.n(Z);var K=function(e){var t=e.href,n=e.title,r=e.isActiveFn,i=e.className,s=e.startIcon,a=e.endIcon,o=e.addDividerBefore,u=(0,c.useRouter)();return(0,O.jsxs)(O.Fragment,{children:[o&&(0,O.jsx)("div",{className:"iui-divider"},"divider"),(0,O.jsx)(z(),{href:t,children:(0,O.jsx)(T.HeaderButton,{name:n,isActive:r?r(u.pathname):u.pathname.startsWith(t),className:i,startIcon:s,endIcon:a,as:"a",href:t})})]})};n(4789);var q=function(){var e=(0,v.L)(),t=(0,H.k)().session,n=B.getFilteredHeaderItems(e,t),r=(0,V.m)(),i=r.isLoggedIn,s=r.signout,a=r.user.firstName,o=(0,c.useRouter)(),u=[p.MG,p.eU,p.PY,p.Wv].some((function(e){return o.pathname.startsWith(e)}));return i||u?(0,O.jsx)(T.Header,{className:"secondary-header",appLogo:void 0,breadcrumbs:n.filter((function(e){return u?e.isInLearningPage:e.isInUserProfile})).map((function(e){return(0,O.jsx)(K,{className:"secondary-header-button",href:e.href,title:e.title,isActiveFn:e.isActiveFn,startIcon:e.startIcon,addDividerBefore:e.addDividerBefore},e.title)})),actions:u?[]:[a&&(0,O.jsxs)(T.Text,{id:"user-welcome-text",children:["Welcome back, ",a,"!"]},"user-welcome-text"),(0,O.jsx)("div",{className:"iui-divider"},"divider"),(0,O.jsx)(T.HeaderButton,{name:"Sign Out",onClick:function(){s()}},"sign-out-btn")]}):(0,O.jsx)(O.Fragment,{})},W=n(44352);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){return(0,O.jsxs)("svg",G(G({},e),{},{children:[(0,O.jsx)("path",{d:"M4.09 9.491c1.051 0 6.231.341 6.333 1.505.164 1.866-3.538 2.357-5.82 2.38-.82 0-2.845-.27-2.845-1.236 0-.47.563-.965.897-1.28ZM12.84 0H16v1.147A4.83 4.83 0 0 0 12.84 0Z"}),(0,O.jsx)("path",{d:"M16 3.886V16H.005L0 14.524a12.567 12.567 0 0 0 4.448.814c4.417.164 8.88-1.264 8.802-4.4-.054-2.155-4.851-3.015-7.792-3.094l.212-.228c4.941.122 9.02-.587 10.33-3.73Z"}),(0,O.jsx)("path",{d:"M.005 10.541V0h8.849a17.694 17.694 0 0 0-4.27.86A17.663 17.663 0 0 0 1.52 2.114C.834 2.533.018 3.228.199 3.979c.174.726 2.238-.18 3.121-.437a52.184 52.184 0 0 1 7.15-1.413c2.974-.18 3.693.606 3.718 1.1-.061.737-1.308 2.132-7.103 2.828 2.129-2.178 2.308-2.47 2.488-2.85-2.564 0-3.749 1.482-5.415 2.897a6.678 6.678 0 0 0-3.113.88c-.349.282-.846.545-.548 1.037.215.355 1.132.188 1.445.208-.71.82-1.536 1.818-1.937 2.313Z"})]}))};$.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"};var Q=function(e){return(0,O.jsx)($,G({},e))},Y=(n(83399),n(27812)),X=n(52818),ee=(n(43032),function(){return(0,O.jsx)(T.MenuDivider,{className:"full-width-menu-divider"})});n(34218);var te=function(e){var t=e.userIconMenuItemData,n=e.className,r=(0,c.useRouter)(),i=(0,V.m)().signout,s=(0,g.a)(),o=s.firstName,u=s.lastName,l=s.email,h=(0,a.useMemo)((function(){var e=F.c.getUserFullName(o,u);return function(n){return[(0,O.jsxs)(T.MenuExtraContent,{children:[(0,O.jsx)(T.Text,{variant:"leading",id:"full-user-name",children:e}),(0,O.jsx)(T.Text,{isMuted:!0,id:"user-email",children:l})]},e),(0,O.jsx)(ee,{},"user-data-divider")].concat((0,Y.Z)(t.map((function(e){return(0,O.jsxs)("div",{children:[e.addDividerBefore&&(0,O.jsx)(ee,{},"".concat(e.title,"-divider")),(0,O.jsx)(k.Z,{href:e.href,children:(0,O.jsx)(T.MenuItem,{className:"dropdown-button",value:e.title,onClick:function(){n()},isSelected:e.isActiveFn?e.isActiveFn(r.pathname):r.pathname.startsWith(e.href),icon:e.startIcon,children:e.title})},e.title)]},e.title)}))),[(0,O.jsx)(ee,{},"sign-out-divider"),(0,O.jsx)(T.MenuItem,{value:"Sign Out",onClick:function(){n(),i()},children:"Sign Out"},"sign-out")])}}),[o,u,l,t,r.pathname,i]);return(0,O.jsx)(T.DropdownMenu,{menuItems:h,children:(0,O.jsx)(T.IconButton,{id:"user-profile",className:n,styleType:"borderless",isActive:!!t.filter((function(e){return e.isActiveFn?e.isActiveFn(r.pathname):r.pathname.startsWith(e.href)})).length,children:(0,O.jsx)(X.Z,{firstName:o,lastName:u,size:"medium"})})})};var ne=function(e){var t=e.className,n=(0,v.L)(),r=(0,H.k)(),i=r.session,s=r.isInitializing,o=(0,a.useMemo)((function(){return B.getFilteredHeaderItems(n,i).filter((function(e){return e.isInUserProfile})).filter((function(e){var t=e.title;return"Account settings"!==t&&"My iModels"!==t&&"My iTwins"!==t}))}),[n,i]),c=(0,V.m)(),l=c.isLoggingIn,h=c.isLoggedIn,f=c.signin;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:u()(["portal-header",t]),children:(0,O.jsx)(T.Header,{className:"page-header",appLogo:(0,O.jsx)(T.HeaderLogo,{logo:(0,O.jsx)(Q,{}),children:(0,O.jsx)("strong",{children:"Enterprise Systems"})}),userIcon:(0,O.jsx)(O.Fragment,{children:l||s?(0,O.jsx)(T.ProgressRadial,{indeterminate:!0,className:"desktop-header-signin-spinner"}):h?(0,O.jsx)(te,{className:"desktop-header-button",userIconMenuItemData:o}):(0,O.jsx)(T.HeaderButton,{className:"desktop-header-button",name:"Sign In",onClick:function(){f()}})})})})})},re=n(16835),ie=n(15671),se=n(43144);function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var oe=n(60136),ue=n(71002);function ce(e,t){if(t&&("object"===(0,ue.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}var he=n(4942),fe=n(69590),pe=n.n(fe),de=n(45697),_e=n.n(de),ge=n(45987),ve=n(8131),me=n.n(ve);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,s=0;s<n.length;s++)if(!i.call(t,n[s])||e[n[s]]!==t[n[s]])return!1;return!0},xe=Promise.resolve(),Se=function e(t){return Object.keys(t).forEach((function(n){var r,i=t[n];(function(e){return"object"===(0,ue.Z)(e)&&null!==e&&!Array.isArray(e)})(i)&&((r=i)&&Object.keys(r).length>0?e(i):delete t[n])})),t};function Ee(e,t){if(null===e||void 0===e)return{};for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var s=r[i];t.indexOf(s)>=0||(n[s]=e[s])}return n}function ke(e){var t=[],n=!1;function r(){n||(n=!0,function(e){xe.then(e)}((function(){n=!1,e()})))}return{registerWidget:function(e){return t.push(e),r(),function(){t.splice(t.indexOf(e),1),r()}},update:r,getWidgets:function(){return t}}}var Fe={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};function Pe(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,i=(void 0===r?"":r).split(t),s=i.shift(),a=""===s?[]:[{value:s,isHighlighted:!1}];if(n===t){var o=!0;i.forEach((function(e){a.push({value:e,isHighlighted:o}),o=!o}))}else i.forEach((function(e){var t=e.split(n);a.push({value:t[0],isHighlighted:!0}),""!==t[1]&&a.push({value:t[1],isHighlighted:!1})}));return a}function Oe(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,i=void 0===r?"</em>":r,s=e.highlightProperty,a=e.attribute,o=e.hit;if(!o)throw new Error("`hit`, the matching record, must be provided");var u,c,l=(u=o[s],c=a,(Array.isArray(c)?c:c.replace(/\[(\d+)]/g,".$1").split(".")).reduce((function(e,t){return e?e[t]:void 0}),u)||{});return Array.isArray(l)?l.map((function(e){return Pe({preTag:n,postTag:i,highlightedValue:e.value})})):Pe({preTag:n,postTag:i,highlightedValue:l.value})}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){return Ce(e)?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function Te(e,t){if(e.results){if(e.results.hits)return e.results;var n=Ae(t);if(e.results[n])return e.results[n]}return null}function Ce(e){return e&&e.multiIndexContext}function Ie(e,t,n,r,i){if(Ce(n)){var s=Ae(n);return i?function(e,t,n,r,i){var s,a=r?{page:1}:void 0,o=e.indices&&e.indices[n]?je(je({},e.indices),{},(0,he.Z)({},n,je(je({},e.indices[n]),{},(s={},(0,he.Z)(s,i,je(je({},e.indices[n][i]),t)),(0,he.Z)(s,"page",1),s)))):je(je({},e.indices),{},(0,he.Z)({},n,je((0,he.Z)({},i,t),a)));return je(je({},e),{},{indices:o})}(e,t,s,r,i):function(e,t,n,r){var i=r?{page:1}:void 0,s=e.indices&&e.indices[n]?je(je({},e.indices),{},(0,he.Z)({},n,je(je(je({},e.indices[n]),t),i))):je(je({},e.indices),{},(0,he.Z)({},n,je(je({},t),i)));return je(je({},e),{},{indices:s})}(e,t,s,r)}return e.indices&&r&&Object.keys(e.indices).forEach((function(t){e=Ie(e,{page:1},{multiIndexContext:{targetedIndex:t}},!0,i)})),i?function(e,t,n,r){var i=n?{page:1}:void 0;return je(je({},e),{},(0,he.Z)({},r,je(je({},e[r]),t)),i)}(e,t,r,i):function(e,t,n){var r=n?{page:1}:void 0;return je(je(je({},e),t),r)}(e,t,r)}function Ne(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function De(e,t,n,r,i){var s=Ae(n),a=Ne(r),o=a.namespace,u=a.attributeName,c={multiIndex:Ce(n),indexId:s,namespace:o,attributeName:u,id:r,searchState:t},l=function(e){var t=e.multiIndex,n=e.indexId,r=e.namespace,i=e.attributeName,s=e.id,a=e.searchState;return t&&r?a.indices&&a.indices[n]&&a.indices[n][r]&&Object.hasOwnProperty.call(a.indices[n][r],i):t?a.indices&&a.indices[n]&&Object.hasOwnProperty.call(a.indices[n],s):r?a[r]&&Object.hasOwnProperty.call(a[r],i):Object.hasOwnProperty.call(a,s)}(c);return l?function(e){var t=e.multiIndex,n=e.indexId,r=e.namespace,i=e.attributeName,s=e.id,a=e.searchState;return t&&r?a.indices[n][r][i]:t?a.indices[n][s]:r?a[r][i]:a[s]}(c):e.defaultRefinement?e.defaultRefinement:i}function Le(e,t,n){var r=Ae(t),i=Ne(n),s=i.namespace,a=i.attributeName;return Ce(t)&&Boolean(e.indices)?function(e){var t=e.searchState,n=e.indexId,r=e.id,i=e.namespace,s=e.attribute,a=t.indices[n];if(i&&a)return je(je({},t),{},{indices:je(je({},t.indices),{},(0,he.Z)({},n,je(je({},a),{},(0,he.Z)({},i,Ee(a[i],[s])))))});if(a)return je(je({},t),{},{indices:je(je({},t.indices),{},(0,he.Z)({},n,Ee(a,[r])))});return t}({attribute:a,searchState:e,indexId:r,id:n,namespace:s}):function(e){var t=e.searchState,n=e.id,r=e.namespace,i=e.attribute;if(r)return je(je({},t),{},(0,he.Z)({},r,Ee(t[r],[i])));return Ee(t,[n])}({attribute:a,searchState:e,id:n,namespace:s})}var Ue=["resultsFacetValues"],Me=["resultsFacetValues"],Be=["resultsFacetValues"];function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){"function"===typeof e.addAlgoliaAgent&&(e.addAlgoliaAgent("react (".concat(a.version,")")),e.addAlgoliaAgent("react-instantsearch (".concat("6.15.0",")")))}var ze=function(e){return Ce({ais:e.props.contextValue,multiIndexContext:e.props.indexContextValue})},Ke=function(e,t){return e.props.indexContextValue.targetedIndex===t},qe=function(e){return Boolean(e.props.indexId)},We=function(e,t){return e.props.indexId===t},Je=function(e,t){var n=qe(e),r=qe(t);return n&&!r?-1:!n&&r?1:0};function Ge(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function $e(e){var t=e.indexName,n=e.initialState,r=void 0===n?{}:n,i=e.searchClient,s=e.resultsState,a=e.stalledSearchDelay,o=me()(i,t,Ve({},Fe));Ze(i),o.on("search",(function(){c||(c=setTimeout((function(){var e=f.getState(),t=(e.resultsFacetValues,(0,ge.Z)(e,Be));f.setState(Ve(Ve({},t),{},{isSearchStalled:!0}))}),a))})).on("result",g({indexId:t})).on("error",v);var u=!1,c=null,l=o.state,h=ke((function(){var e=p(f.getState().widgets);f.setState(Ve(Ve({},f.getState()),{},{metadata:e,searching:!0})),_()}));!function(e,t){if(!t)return;if((!e.transporter||e._cacheHydrated)&&(!e._useCache||"function"!==typeof e.addAlgoliaAgent))return;if(e.transporter&&!e._cacheHydrated){e._cacheHydrated=!0;var n=e.search;e.search=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var a=t.map((function(e){return Ve(Ve({},e),{},{params:Ge(e.params)})}));return e.transporter.responsesCache.get({method:"search",args:[a].concat(i)},(function(){return n.apply(void 0,[t].concat(i))}))}}if(Array.isArray(t.results))return void function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])]},{results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])});var n="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])}));e.cache=Ve(Ve({},e.cache),{},(0,he.Z)({},n,JSON.stringify({results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])})))}(e,t.results);!function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))]},{results:t.rawResults});var n="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))}));e.cache=Ve(Ve({},e.cache),{},(0,he.Z)({},n,JSON.stringify({results:t.rawResults})))}(e,t)}(i,s);var f=function(e){var t=e,n=[];return{getState:function(){return t},setState:function(e){t=e,n.forEach((function(e){return e()}))},subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}({widgets:r,metadata:Qe(s),results:function(e){if(!e)return null;if(Array.isArray(e.results))return e.results.reduce((function(e,t){return Ve(Ve({},e),{},(0,he.Z)({},t._internalIndexId,new(me().SearchResults)(new(me().SearchParameters)(t.state),t.rawResults)))}),{});return new(me().SearchResults)(new(me().SearchParameters)(e.state),e.rawResults)}(s),error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1});function p(e){return h.getWidgets().filter((function(e){return Boolean(e.getMetadata)})).map((function(t){return t.getMetadata(e)}))}function d(){var e=h.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){return!ze(e)&&!qe(e)})).reduce((function(e,t){return t.getSearchParameters(e)}),l),n=h.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var n=ze(e)&&Ke(e,t),r=qe(e)&&We(e,t);return n||r})).sort(Je).reduce((function(e,t){return t.getSearchParameters(e)}),e),r=h.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var n=ze(e)&&!Ke(e,t),r=qe(e)&&!We(e,t);return n||r})).sort(Je).reduce((function(e,t){var n=ze(t)?t.props.indexContextValue.targetedIndex:t.props.indexId,r=e[n]||[];return Ve(Ve({},e),{},(0,he.Z)({},n,r.concat(t)))}),{});return{mainParameters:n,derivedParameters:Object.keys(r).map((function(t){return{parameters:r[t].reduce((function(e,t){return t.getSearchParameters(e)}),e),indexId:t}}))}}function _(){if(!u){var e=d(o.state),t=e.mainParameters,n=e.derivedParameters;o.derivedHelpers.slice().forEach((function(e){e.detach()})),n.forEach((function(e){var t=e.indexId,n=e.parameters;o.derive((function(){return n})).on("result",g({indexId:t})).on("error",v)})),o.setState(t),o.search()}}function g(e){var t=e.indexId;return function(e){var n=f.getState(),r=!o.derivedHelpers.length,i=n.results?n.results:{};i=!r&&i.getFacetByName?{}:i,i=r?e.results:Ve(Ve({},i),{},(0,he.Z)({},t,e.results));var s=f.getState(),a=s.isSearchStalled;o.hasPendingRequests()||(clearTimeout(c),c=null,a=!1);s.resultsFacetValues;var u=(0,ge.Z)(s,Ue);f.setState(Ve(Ve({},u),{},{results:i,isSearchStalled:a,searching:!1,error:null}))}}function v(e){var t=e.error,n=f.getState(),r=n.isSearchStalled;o.hasPendingRequests()||(clearTimeout(c),r=!1);n.resultsFacetValues;var i=(0,ge.Z)(n,Me);f.setState(Ve(Ve({},i),{},{isSearchStalled:r,error:t,searching:!1}))}return{store:f,widgetsManager:h,getWidgetsIds:function(){return f.getState().metadata.reduce((function(e,t){return"undefined"!==typeof t.id?e.concat(t.id):e}),[])},getSearchParameters:d,onSearchForFacetValues:function(e){var t=e.facetName,n=e.query,r=e.maxFacetHits,i=void 0===r?10:r,s=Math.max(1,Math.min(i,100));f.setState(Ve(Ve({},f.getState()),{},{searchingForFacetValues:!0})),o.searchForFacetValues(t,n,s).then((function(e){var r;f.setState(Ve(Ve({},f.getState()),{},{error:null,searchingForFacetValues:!1,resultsFacetValues:Ve(Ve({},f.getState().resultsFacetValues),{},(r={},(0,he.Z)(r,t,e.facetHits),(0,he.Z)(r,"query",n),r))}))}),(function(e){f.setState(Ve(Ve({},f.getState()),{},{searchingForFacetValues:!1,error:e}))})).catch((function(e){setTimeout((function(){throw e}))}))},onExternalStateUpdate:function(e){var t=p(e);f.setState(Ve(Ve({},f.getState()),{},{widgets:e,metadata:t,searching:!0})),_()},transitionState:function(e){var t=f.getState().widgets;return h.getWidgets().filter((function(e){return Boolean(e.transitionState)})).reduce((function(e,n){return n.transitionState(t,e)}),e)},updateClient:function(e){Ze(e),o.setClient(e),_()},updateIndex:function(e){l=l.setIndex(e)},clearCache:function(){o.clearCache(),_()},skipSearch:function(){u=!0}}}function Qe(e){return e?e.metadata.map((function(e){return Ve(Ve({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return Ve(Ve({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return Ve({value:function(){return{}}},e)}))})}))})})):[]}var Ye=(0,a.createContext)({onInternalStateUpdate:function(){},createHrefForState:function(){return"#"},onSearchForFacetValues:function(){},onSearchStateChange:function(){},onSearchParameters:function(){},store:{},widgetsManager:{},mainTargetedIndex:""}),Xe=Ye.Consumer,et=Ye.Provider,tt=(0,a.createContext)(void 0),nt=tt.Consumer,rt=tt.Provider;function it(e,t){var n=document.createElement("meta"),r=document.querySelector("head");n.name="algolia:metadata";var i=function(e,t){var n=["contextValue","indexContextValue"],r=e.map((function(e){var t=e.props,r=e.constructor,i=r._connectorDesc||{},s=i.defaultProps,a=void 0===s?{}:s,o=i.displayName;return{displayName:void 0===o?r.displayName:o,params:Object.keys(t).filter((function(e){return!n.includes(e)&&a[e]!==t[e]&&void 0!==t[e]}))}})),i=t;return{ua:i.transporter&&i.transporter.userAgent?i.transporter.userAgent.value:i._ua,widgets:r}}(e,t);n.content=JSON.stringify(i),r.appendChild(n)}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(In){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function ut(e){return Boolean(e.searchState)}var ct=function(e){(0,oe.Z)(n,e);var t=ot(n);function n(e){var r;(0,ie.Z)(this,n),r=t.call(this,e),(0,he.Z)(ae(r),"isUnmounting",!1);var i=$e({indexName:r.props.indexName,searchClient:r.props.searchClient,initialState:r.props.searchState||{},resultsState:r.props.resultsState,stalledSearchDelay:r.props.stalledSearchDelay}),s={store:i.store,widgetsManager:i.widgetsManager,mainTargetedIndex:r.props.indexName,onInternalStateUpdate:r.onWidgetsInternalStateUpdate.bind(ae(r)),createHrefForState:r.createHrefForState.bind(ae(r)),onSearchForFacetValues:r.onSearchForFacetValues.bind(ae(r)),onSearchStateChange:r.onSearchStateChange.bind(ae(r)),onSearchParameters:r.onSearchParameters.bind(ae(r))};return r.state={isControlled:ut(r.props),instantSearchManager:i,contextValue:s},r}return(0,se.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=ut(e);if(t&&!this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled");if(!t&&this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");this.props.refresh!==e.refresh&&this.props.refresh&&this.state.instantSearchManager.clearCache(),e.indexName!==this.props.indexName&&this.state.instantSearchManager.updateIndex(this.props.indexName),e.searchClient!==this.props.searchClient&&this.state.instantSearchManager.updateClient(this.props.searchClient)}},{key:"componentDidMount",value:function(){"object"===("undefined"===typeof window?"undefined":(0,ue.Z)(window))&&"object"===(0,ue.Z)(window.navigator)&&"string"===typeof window.navigator.userAgent&&window.navigator.userAgent.includes("Algolia Crawler")&&"object"===(0,ue.Z)(window.document)&&it(this.state.instantSearchManager.widgetsManager.getWidgets(),this.props.searchClient)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.state.instantSearchManager.skipSearch()}},{key:"createHrefForState",value:function(e){return e=this.state.instantSearchManager.transitionState(e),this.state.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.state.instantSearchManager.transitionState(e),this.onSearchStateChange(e),this.state.isControlled||this.state.instantSearchManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,n,r){if(this.props.onSearchParameters){var i=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,n,i)}if(this.props.widgetsCollector){var s=this.props.searchState?this.props.searchState:{};this.props.widgetsCollector({getSearchParameters:e,getMetadata:r,context:t,props:n,searchState:s})}}},{key:"onSearchForFacetValues",value:function(e){this.state.instantSearchManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.state.instantSearchManager.getWidgetsIds()}},{key:"render",value:function(){return 0===a.Children.count(this.props.children)?null:a.createElement(et,{value:this.state.contextValue},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=ut(e),r=t.instantSearchManager.store.getState().widgets,i=e.searchState;return n&&!pe()(r,i)&&t.instantSearchManager.onExternalStateUpdate(e.searchState),{isControlled:n,contextValue:at(at({},t.contextValue),{},{mainTargetedIndex:e.indexName})}}}]),n}(a.Component);(0,he.Z)(ct,"defaultProps",{stalledSearchDelay:200,refresh:!1}),(0,he.Z)(ct,"propTypes",{indexName:_e().string.isRequired,searchClient:_e().shape({search:_e().func.isRequired,searchForFacetValues:_e().func,addAlgoliaAgent:_e().func,clearCache:_e().func}).isRequired,createURL:_e().func,refresh:_e().bool,searchState:_e().object,onSearchStateChange:_e().func,onSearchParameters:_e().func,widgetsCollector:_e().func,resultsState:_e().oneOfType([_e().object,_e().array]),children:_e().node,stalledSearchDelay:_e().number});var lt=ct,ht=n(24955),ft=n.n(ht),pt=function(){return ft()(h.Z.ALGOLIA_APPLICATION_ID,h.Z.ALGOLIA_READ_KEY)},dt=(n(71434),n(87462)),_t=["contextValue"];function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(In){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}var yt=function(e){return function(t){var n=function(e){if(!e.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var t="function"===typeof e.getSearchParameters||"function"===typeof e.getMetadata||"function"===typeof e.transitionState;return function(n){var r,i=function(r){(0,oe.Z)(s,r);var i=mt(s);function s(t){var n;return(0,ie.Z)(this,s),n=i.call(this,t),(0,he.Z)(ae(n),"unsubscribe",void 0),(0,he.Z)(ae(n),"unregisterWidget",void 0),(0,he.Z)(ae(n),"isUnmounting",!1),(0,he.Z)(ae(n),"state",{providedProps:n.getProvidedProps(n.props)}),(0,he.Z)(ae(n),"refine",(function(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n.props.contextValue.onInternalStateUpdate((t=e.refine).call.apply(t,[ae(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),(0,he.Z)(ae(n),"createURL",(function(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n.props.contextValue.createHrefForState((t=e.refine).call.apply(t,[ae(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),(0,he.Z)(ae(n),"searchForFacetValues",(function(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n.props.contextValue.onSearchForFacetValues((t=e.searchForFacetValues).call.apply(t,[ae(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),e.getSearchParameters&&n.props.contextValue.onSearchParameters(e.getSearchParameters.bind(ae(n)),{ais:n.props.contextValue,multiIndexContext:n.props.indexContextValue},n.props,e.getMetadata&&e.getMetadata.bind(ae(n))),n}return(0,se.Z)(s,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.props.contextValue.store.subscribe((function(){e.isUnmounting||e.setState({providedProps:e.getProvidedProps(e.props)})})),t&&(this.unregisterWidget=this.props.contextValue.widgetsManager.registerWidget(this))}},{key:"shouldComponentUpdate",value:function(t,n){if("function"===typeof e.shouldComponentUpdate)return e.shouldComponentUpdate.call(this,this.props,t,this.state,n);var r=we(this.props,t);return null===this.state.providedProps||null===n.providedProps?this.state.providedProps!==n.providedProps||!r:!r||!we(this.state.providedProps,n.providedProps)}},{key:"componentDidUpdate",value:function(n){pe()(n,this.props)||(this.setState({providedProps:this.getProvidedProps(this.props)}),t&&(this.props.contextValue.widgetsManager.update(),"function"===typeof e.transitionState&&this.props.contextValue.onSearchStateChange(e.transitionState.call(this,this.props,this.props.contextValue.store.getState().widgets,this.props.contextValue.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.isUnmounting=!0,this.unsubscribe&&this.unsubscribe(),this.unregisterWidget&&(this.unregisterWidget(),"function"===typeof e.cleanUp)){var t=e.cleanUp.call(this,this.props,this.props.contextValue.store.getState().widgets);this.props.contextValue.store.setState(vt(vt({},this.props.contextValue.store.getState()),{},{widgets:t})),this.props.contextValue.onSearchStateChange(Se(t))}}},{key:"getProvidedProps",value:function(t){var n=this.props.contextValue.store.getState(),r=n.widgets,i=n.results,s=n.resultsFacetValues,a=n.searching,o=n.searchingForFacetValues,u=n.isSearchStalled,c=n.metadata,l={results:i,searching:a,searchingForFacetValues:o,isSearchStalled:u,error:n.error};return e.getProvidedProps.call(this,t,r,l,c,s)}},{key:"getSearchParameters",value:function(t){return"function"===typeof e.getSearchParameters?e.getSearchParameters.call(this,t,this.props,this.props.contextValue.store.getState().widgets):null}},{key:"getMetadata",value:function(t){return"function"===typeof e.getMetadata?e.getMetadata.call(this,this.props,t):{}}},{key:"transitionState",value:function(t,n){return"function"===typeof e.transitionState?e.transitionState.call(this,this.props,t,n):n}},{key:"render",value:function(){var t=this.props,r=(t.contextValue,(0,ge.Z)(t,_t)),i=this.state.providedProps;if(null===i)return null;var s="function"===typeof e.refine?{refine:this.refine,createURL:this.createURL}:{},o="function"===typeof e.searchForFacetValues?{searchForItems:this.searchForFacetValues}:{};return a.createElement(n,(0,dt.Z)({},r,i,s,o))}}]),s}(a.Component);return(0,he.Z)(i,"displayName","".concat(e.displayName,"(").concat((r=n).displayName||r.name||"UnknownComponent",")")),(0,he.Z)(i,"propTypes",e.propTypes),(0,he.Z)(i,"defaultProps",e.defaultProps),(0,he.Z)(i,"_connectorDesc",e),i}}(e)(t);return function(e){return a.createElement(Xe,null,(function(t){return a.createElement(nt,null,(function(r){return a.createElement(n,(0,dt.Z)({contextValue:t,indexContextValue:r},e))}))}))}}};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,he.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=yt({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:_e().func},getProvidedProps:function(e,t,n,r){var i=r.reduce((function(t,n){return"undefined"!==typeof n.items&&(e.clearsQuery||"query"!==n.id)?e.clearsQuery&&"query"===n.id&&""===n.items[0].currentRefinement?t:t.concat(n.items.map((function(e){return wt(wt({},e),{},{id:n.id,index:n.index})}))):t}),[]),s=e.transformItems?e.transformItems(i):i;return{items:s,canRefine:s.length>0}},refine:function(e,t,n){return(n instanceof Array?n.map((function(e){return e.value})):[n]).reduce((function(e,t){return t(e)}),t)}}),St=(n(97089),xt((function(e){var t=e.items,n=e.refine;return(0,O.jsx)("div",{className:"refinement-list-clear",children:(0,O.jsx)(T.Button,{id:"clear-all-filters",onClick:function(){return n(t)},disabled:!t.length,styleType:"high-visibility",children:"Clear all filters"})})}))),Et="refinementList";function kt(e){return e.attribute}function Ft(e,t,n){var r=De(e,t,n,"".concat(Et,".").concat(kt(e)),[]);return"string"!==typeof r?r:r?[r]:[]}function Pt(e,t,n,r){var i=Ft(t,n,r);return-1===i.indexOf(e)?i.concat([e]):i.filter((function(t){return t!==e}))}function Ot(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function Rt(e,t,n,r){var i=kt(e);return Ie(t,(0,he.Z)({},i,n.length>0?n:""),r,!0,Et)}var jt,At,Tt,Ct=["isRefined","count:desc","name:asc"],It=yt({displayName:"AlgoliaRefinementList",propTypes:{id:_e().string,attribute:_e().string.isRequired,operator:_e().oneOf(["and","or"]),showMore:_e().bool,limit:_e().number,showMoreLimit:_e().number,defaultRefinement:_e().arrayOf(_e().oneOfType([_e().string,_e().number])),searchable:_e().bool,transformItems:_e().func,facetOrdering:_e().bool},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20,facetOrdering:!0},getProvidedProps:function(e,t,n,r,i){var s=e.attribute,a=e.searchable,o=e.indexContextValue,u=e.facetOrdering,c=Te(n,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),l=Boolean(c)&&Boolean(c.getFacetByName(s)),h=Boolean(i&&i[s]&&""!==i.query);if(a&&o)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!l)return{items:[],currentRefinement:Ft(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),canRefine:l,isFromSearch:h,searchable:a};var f=h?i[s].map((function(n){return{label:n.value,value:Pt(n.value,e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}})):c.getFacetValues(s,{sortBy:Ct,facetOrdering:u}).map((function(n){return{label:n.name,value:Pt(n.name,e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),count:n.count,isRefined:n.isRefined}})),p=e.transformItems?e.transformItems(f):f;return{items:p.slice(0,Ot(e)),currentRefinement:Ft(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isFromSearch:h,searchable:a,canRefine:p.length>0}},refine:function(e,t,n){return Rt(e,t,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:Ot(e)}},cleanUp:function(e,t){return function(e,t,n){return Le(t,n,"".concat(Et,".").concat(kt(e)))}(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},getSearchParameters:function(e,t,n){var r=t.attribute,i="and"===t.operator?"addFacet":"addDisjunctiveFacet",s="".concat(i,"Refinement");return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Ot(t))}))[i](r),Ft(t,n,{ais:t.contextValue,multiIndexContext:t.indexContextValue}).reduce((function(e,t){return e[s](r,t)}),e)},getMetadata:function(e,t){var n=kt(e),r={ais:e.contextValue,multiIndexContext:e.indexContextValue};return{id:n,index:Ae(r),items:Ft(e,t,r).length>0?[{attribute:e.attribute,label:"".concat(e.attribute,": "),currentRefinement:Ft(e,t,r),value:function(t){return Rt(e,t,[],r)},items:Ft(e,t,r).map((function(n){return{label:"".concat(n),value:function(i){var s=Ft(e,i,r).filter((function(e){return e!==n}));return Rt(e,t,s,r)}}}))}]:[]}}}),Nt=(n(93935),function(e){var t=e.items,n=e.currentRefinement,r=e.onClick;return(0,O.jsx)("div",{className:"refinement-list",children:t&&t.length>0?(0,O.jsx)("ul",{className:"refinement-list-list",children:t.sort((function(e,t){return e.label.localeCompare(t.label)})).map((function(e){return(0,O.jsxs)("li",{className:"refinement-list-item",children:[(0,O.jsx)(T.Checkbox,{label:e.label,checked:n.includes(e.label),onClick:function(){r(e.value)}}),(0,O.jsx)("span",{className:"refinement-list-count",children:e.count})]},e.label)}))}):"No results"})}),Dt=It((function(e){var t=e.items,n=e.currentRefinement,r=e.refine,i=t.filter((function(e){return"Sample"===e.label||"Sandbox"===e.label}));return(0,O.jsx)(Nt,{items:i,currentRefinement:n,onClick:r})})),Lt=It((function(e){var t=e.items,n=e.currentRefinement,r=e.refine,i=t.filter((function(e){return"Sample"!==e.label&&"Sandbox"!==e.label}));return(0,O.jsx)(Nt,{items:i,currentRefinement:n,onClick:r})})),Ut=It((function(e){var t=e.items,n=e.currentRefinement,r=e.refine;return(0,O.jsx)(Nt,{items:t,currentRefinement:n,onClick:r})}));!function(e){e.Topic="Topic",e.Method="Method",e.Class="Class",e.Interface="Interface",e.Enumeration="Enumeration",e.GlobalFunction="Global Function",e.Constant="Constant",e.TypeAlias="Type Alias",e.Namespace="Namespace",e.Property="Property",e.Sandbox="Sandbox",e.Sample="Sample",e.ECSchema="ECSchema"}(jt||(jt={})),function(e){e.DeveloperAPI="Developer API",e.Tutorial="Tutorial"}(At||(At={})),function(e){e.iTwinPlatform="iTwin Platform",e.iTwinJs="iTwin.js"}(Tt||(Tt={}));n(8270);function Mt(e){var t=e.searchSite,n=e.onChange;return(0,O.jsxs)("div",{className:"filter-panel",children:[(0,O.jsx)(T.DropdownButton,{menuItems:function(e){return Object.values(Tt).map((function(t){return(0,O.jsx)(T.MenuItem,{onClick:function(){n(t),e()},children:t},t)}))},defaultValue:t,className:"search-site-select",children:t}),(0,O.jsx)(St,{}),(0,O.jsx)(T.Subheading,{className:"filters-heading",children:"Filter by"}),t===Tt.iTwinPlatform&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(T.InputGroup,{label:"Type of content",children:(0,O.jsx)(Ut,{attribute:"contentType",limit:100})})}),t===Tt.iTwinJs&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(T.InputGroup,{label:"Examples",children:(0,O.jsx)(Dt,{attribute:"contentType",limit:100})}),(0,O.jsx)(T.InputGroup,{label:"Typescript API",children:(0,O.jsx)(Lt,{attribute:"contentType",limit:100})}),(0,O.jsx)(T.InputGroup,{label:"Packages",children:(0,O.jsx)(Lt,{attribute:"package",limit:100})})]})]})}function Bt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(In){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function Ht(e){return{targetedIndex:e.indexId}}var Vt=function(e){(0,oe.Z)(n,e);var t=Bt(n);function n(e){var r;return(0,ie.Z)(this,n),r=t.call(this,e),(0,he.Z)(ae(r),"state",{indexContext:Ht(r.props)}),(0,he.Z)(ae(r),"unregisterWidget",void 0),r.props.contextValue.onSearchParameters(r.getSearchParameters.bind(ae(r)),{ais:r.props.contextValue,multiIndexContext:r.state.indexContext},r.props,void 0),r}return(0,se.Z)(n,[{key:"componentDidMount",value:function(){this.unregisterWidget=this.props.contextValue.widgetsManager.registerWidget(this)}},{key:"componentDidUpdate",value:function(e){this.props.indexName!==e.indexName&&this.props.contextValue.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){"function"===typeof this.unregisterWidget&&this.unregisterWidget()}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){return 0===a.Children.count(this.props.children)?null:a.createElement(rt,{value:this.state.indexContext},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e){return{indexContext:Ht(e)}}}]),n}(a.Component);(0,he.Z)(Vt,"propTypes",{indexName:_e().string.isRequired,indexId:_e().string.isRequired,children:_e().node}),(0,he.Z)(Vt,"displayName","AlgoliaIndex");var Zt=function(e){var t=e.indexName;return a.createElement(Xe,null,(function(n){return a.createElement(Vt,(0,dt.Z)({contextValue:n,indexId:t},e))}))};Zt.propTypes={indexName:_e().string.isRequired,indexId:_e().string};var zt=Zt,Kt=(n(22940),n(19799)),qt=["page"];function Wt(e,t,n){var r=De(e,t,n,"page",1);return"string"===typeof r?parseInt(r,10):r}function Jt(e){var t=e||{};t.page;return(0,ge.Z)(t,qt)}function Gt(e){return Object.keys(e).map(Number).sort((function(e,t){return e-t})).reduce((function(t,n){return t.concat(e[n])}),[])}var $t=yt({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=this,i=Te(n,{ais:e.contextValue,multiIndexContext:e.indexContextValue});if(!i)return{hits:[],hasPrevious:!1,hasMore:!1,refine:function(){},refinePrevious:function(){},refineNext:function(){}};var s=i.page,a=i.hits,o=i.hitsPerPage,u=i.nbPages,c=i._state;this._cache=e.cache?e.cache:this._cache||function(){var e=void 0,t=void 0;return{read:function(n){var r=n.state;return pe()(t,Jt(r))?e:null},write:function(n){var r=n.state,i=n.hits;t=Jt(r),e=i}}}();var l=this._cache.read({state:c})||{},h=function(e,t,n){return e.map((function(e,r){return be(be({},e),{},{__position:t*n+r+1})}))}(a,o,s),f=function(e,t){return t?e.map((function(e){return be(be({},e),{},{__queryID:t})})):e}(h,i.queryID);l[s]=f,this._cache.write({state:c,hits:l});var p=Math.min.apply(Math,(0,Kt.Z)(Object.keys(l).map(Number))),d=Math.max.apply(Math,(0,Kt.Z)(Object.keys(l).map(Number))),_=p>0,g=d<u-1;return{hits:Gt(l),hasPrevious:_,hasMore:g,refinePrevious:function(e){return r.refine(e,p-1)},refineNext:function(e){return r.refine(e,d+1)}}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:Wt(t,n,{ais:t.contextValue,multiIndexContext:t.indexContextValue})-1})},refine:function(e,t,n,r){return Ie(t,(0,he.Z)({},"page",r+1),{ais:e.contextValue,multiIndexContext:e.indexContextValue},!1)}}),Qt=function(e){var t=e.attribute,n=e.hit,r=e.highlightProperty,i=e.preTag,s=void 0===i?Fe.highlightPreTag:i,a=e.postTag;return Oe({attribute:t,highlightProperty:r,hit:n,preTag:s,postTag:void 0===a?Fe.highlightPostTag:a})},Yt=yt({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:Qt}}});var Xt=function(e){var t=e.cx,n=e.value,r=e.highlightedTagName,i=e.isHighlighted,s=e.nonHighlightedTagName,o=i?r:s,u=i?"highlighted":"nonHighlighted";return a.createElement(o,{className:t(u)},n)};Xt.propTypes={cx:_e().func.isRequired,value:_e().string.isRequired,isHighlighted:_e().bool.isRequired,highlightedTagName:_e().string.isRequired,nonHighlightedTagName:_e().string.isRequired};var en=function(e){var t=e.cx,n=e.hit,r=e.attribute,i=e.highlight,s=e.highlightProperty,o=e.tagName,c=e.nonHighlightedTagName,l=e.separator,h=e.className,f=i({hit:n,attribute:r,highlightProperty:s});return a.createElement("span",{className:u()(t(""),h)},f.map((function(e,n){if(Array.isArray(e)){var r=n===f.length-1;return a.createElement("span",{key:n},e.map((function(e,n){return a.createElement(Xt,{cx:t,key:n,value:e.value,highlightedTagName:o,nonHighlightedTagName:c,isHighlighted:e.isHighlighted})})),!r&&a.createElement("span",{className:t("separator")},l))}return a.createElement(Xt,{cx:t,key:n,value:e.value,highlightedTagName:o,nonHighlightedTagName:c,isHighlighted:e.isHighlighted})})))};en.propTypes={cx:_e().func.isRequired,hit:_e().object.isRequired,attribute:_e().oneOfType([_e().arrayOf(_e().string),_e().string]).isRequired,highlight:_e().func.isRequired,highlightProperty:_e().string.isRequired,tagName:_e().string,nonHighlightedTagName:_e().string,className:_e().string,separator:_e().node},en.defaultProps={tagName:"em",nonHighlightedTagName:"span",className:"",separator:", "};var tn=en,nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ais";return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter((function(e){return e||""===e})).map((function(n){var r="".concat(t,"-").concat(e);return n?"".concat(r,"-").concat(n):r}));return u()(s)}}("Highlight"),rn=Yt((function(e){return a.createElement(tn,(0,dt.Z)({},e,{highlightProperty:"_highlightResult",cx:nn}))})),sn=n(82909),an=function(e){var t=e.children,n=e.href,r=e.className,i=e.style,s=void 0===i?{}:i;return(0,O.jsxs)("a",{href:n,style:s,target:"_blank",rel:"noreferrer",className:r?"external-link ".concat(r):"external-link",children:[(0,O.jsx)(sn.Z,{}),t]})},on=(n(11237),function(e){var t=e.hit,n=e.className,r=e.badgeContent,i=new URL(h.Z.ITWINJS_URL+"/sandboxes/"+t.username+"/"+t.name).toString();return(0,O.jsx)("li",{className:"custom-hit",children:(0,O.jsxs)(k.Z,{className:"result-list-item-link",target:"_blank",href:i,children:[(0,O.jsx)(T.Badge,{className:n,children:r}),(0,O.jsx)(k.Z,{href:i,children:(0,O.jsx)(T.Body,{className:"result-heading result-title",children:(0,O.jsx)(rn,{attribute:"name",hit:t})})}),t.tags&&t.tags.map((function(e,n){return t._highlightResult.tags[n].matchedWords.length>0?(0,O.jsx)("div",{children:(0,O.jsx)(k.Z,{href:h.Z.ITWINJS_URL+"/sandboxes/search?term="+e,children:(0,O.jsxs)(T.Body,{className:"result-heading",children:[(0,O.jsx)(rn,{attribute:"tags[".concat(n,"]"),hit:t}),(0,O.jsx)(T.Badge,{className:"badge badge-tag",children:"Tag"})]})})},n):(0,O.jsx)(O.Fragment,{})})),(0,O.jsx)(k.Z,{href:h.Z.ITWINJS_URL+"/sandboxes/search?term="+t.username,children:(0,O.jsx)(T.Body,{className:"result-heading",children:(0,O.jsx)(rn,{attribute:"username",hit:t})})}),t.description&&(0,O.jsx)(T.Body,{className:"result-heading result-description",children:t.description}),(0,O.jsx)(an,{href:i,children:i})]})})}),un=function(e){var t=e.hit,n=e.className,r=e.badgeContent,i=new URL(h.Z.ITWINJS_URL+"/sample-showcase/?group="+t.groupName+"&sample="+t.sampleName).toString();return(0,O.jsx)("li",{className:"custom-hit",children:(0,O.jsxs)(k.Z,{className:"result-list-item-link",target:"_blank",href:i,children:[(0,O.jsx)(T.Badge,{className:n,children:r}),(0,O.jsx)(k.Z,{href:i,children:(0,O.jsx)(T.Body,{className:"result-heading result-title",children:(0,O.jsx)(rn,{attribute:"sampleName",hit:t})})}),"Sample"===t.contentType&&t.tags&&t.tags.map((function(e,n){return t._highlightResult.tags&&t._highlightResult.tags[n].matchedWords.length>0?(0,O.jsxs)(T.Body,{className:"result-heading result-description",children:[(0,O.jsx)(rn,{attribute:"tags[".concat(n,"]"),hit:t}),(0,O.jsx)(T.Badge,{className:"badge badge-tag",children:"Tag"})]},n):(0,O.jsx)(O.Fragment,{})})),(0,O.jsx)(T.Body,{className:"result-heading result-description",children:(0,O.jsx)(rn,{attribute:"groupName",hit:t})}),t.description&&(0,O.jsx)(T.Body,{className:"result-heading result-description",children:t.description}),(0,O.jsx)(an,{href:i,children:i})]})})};function cn(e){var t=e.index,n=e.hit,r=e.highlightType,i=e.match,s=e.cssTypeName,a=e.displayName;if("Method"===a||"Property"===a){var o="badge badge-".concat(s),u=JSON.parse(JSON.stringify(n));u._highlightResult["".concat(r)].value=i;var c=i?i.replace("<ais-highlight-0000000000>","").replace("</ais-highlight-0000000000>",""):"",l=new URL("".concat(h.Z.ITWINJS_URL,"/").concat(n.filePath.toLowerCase()).concat(c?"#".concat(c.toLowerCase()):"")).toString();return(0,O.jsx)(k.Z,{href:l,children:(0,O.jsxs)(T.Body,{className:"result-heading",children:[(0,O.jsx)(rn,{attribute:"".concat(r),hit:u}),(0,O.jsx)(T.Badge,{className:o,children:a})]})})}if(t&&n._highlightResult["".concat(r)][t].matchedWords.length>0){var f="badge badge-".concat(s),p=new URL(h.Z.ITWINJS_URL+"/"+n.filePath.toLowerCase()+"#"+n["".concat(r)][t].toLowerCase()).toString();return(0,O.jsx)(k.Z,{href:p,children:(0,O.jsxs)(T.Body,{className:"result-heading",children:[(0,O.jsx)(rn,{attribute:"".concat(r,"[").concat(t,"]"),hit:n}),(0,O.jsx)(T.Badge,{className:f,children:a})]})})}return(0,O.jsx)(O.Fragment,{})}var ln=function(e){var t=e.hit,n=e.className,r=e.badgeContent,i=new URL(h.Z.ITWINJS_URL+"/"+t.filePath.toLowerCase()).toString();return(0,O.jsx)("li",{className:"custom-hit",children:(0,O.jsxs)(k.Z,{target:"_blank",href:i,children:[(0,O.jsx)(T.Badge,{className:n,children:r}),(0,O.jsx)(T.Body,{className:"result-heading result-title",children:(0,O.jsx)(rn,{attribute:"filePath",hit:t})}),"Global Functions"!==t.contentType&&"Methods"!==t.contentType&&t.Methods&&t._highlightResult.Methods.matchedWords.length>0&&(0,O.jsx)("div",{children:t._highlightResult.Methods.value.match(/<ais-\S+/g).map((function(e,n){return(0,O.jsx)(cn,{hit:t,highlightType:"Methods",match:e,cssTypeName:"methods",displayName:"Method"},n)}))}),"Properties"!==t.contentType&&t.Properties&&t._highlightResult.Properties.matchedWords.length>0&&(0,O.jsx)("div",{children:t._highlightResult.Properties.value.match(/<ais-\S+/g).map((function(e,n){return(0,O.jsx)(cn,{hit:t,highlightType:"Properties",match:e,cssTypeName:"properties",displayName:"Property"},n)}))}),t.EntityClass&&(0,O.jsx)("div",{children:t.EntityClass.map((function(e,n){return t._highlightResult.EntityClass[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"EntityClass",cssTypeName:"entity-class",displayName:"EntityClass"},n):(0,O.jsx)(O.Fragment,{})}))}),t.RelationshipClass&&(0,O.jsx)("div",{children:t.RelationshipClass.map((function(e,n){return t._highlightResult.RelationshipClass[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"RelationshipClass",cssTypeName:"relationship-class",displayName:"RelationshipClass"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Unit&&(0,O.jsx)("div",{children:t.Unit.map((function(e,n){return t._highlightResult.Unit[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Unit",cssTypeName:"unit",displayName:"Unit"},n):(0,O.jsx)(O.Fragment,{})}))}),t.InvertedUnit&&(0,O.jsx)("div",{children:t.InvertedUnit.map((function(e,n){return t._highlightResult.InvertedUnit[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"InvertedUnit",cssTypeName:"inverted-unit",displayName:"InvertedUnit"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Phenomenon&&(0,O.jsx)("div",{children:t.Phenomenon.map((function(e,n){return t._highlightResult.Phenomenon[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Phenomenon",cssTypeName:"phenomenon",displayName:"Phenomenon"},n):(0,O.jsx)(O.Fragment,{})}))}),t.UnitSystem&&(0,O.jsx)("div",{children:t.UnitSystem.map((function(e,n){return t._highlightResult.UnitSystem[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"UnitSystem",cssTypeName:"unit-system",displayName:"UnitSystem"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Mixin&&(0,O.jsx)("div",{children:t.Mixin.map((function(e,n){return t._highlightResult.Mixin[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Mixin",cssTypeName:"mixin",displayName:"Mixin"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Deprecated&&(0,O.jsx)("div",{children:t.Deprecated.map((function(e,n){return t._highlightResult.Deprecated[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Deprecated",cssTypeName:"deprecated",displayName:"Deprecated"},n):(0,O.jsx)(O.Fragment,{})}))}),t.StructClass&&(0,O.jsx)("div",{children:t.StructClass.map((function(e,n){return t._highlightResult.StructClass[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"StructClass",cssTypeName:"struct-class",displayName:"StructClass"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Enumeration&&(0,O.jsx)("div",{children:t.Enumeration.map((function(e,n){return t._highlightResult.Enumeration[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Enumeration",cssTypeName:"enumeration",displayName:"Enumeration"},n):(0,O.jsx)(O.Fragment,{})}))}),t.KindOfQuantity&&(0,O.jsx)("div",{children:t.KindOfQuantity.map((function(e,n){return t._highlightResult.KindOfQuantity[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"KindOfQuantity",cssTypeName:"kind-of-quantity",displayName:"KindOfQuantity"},n):(0,O.jsx)(O.Fragment,{})}))}),t.PropertyCategory&&(0,O.jsx)("div",{children:t.PropertyCategory.map((function(e,n){return t._highlightResult.PropertyCategory[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"PropertyCategory",cssTypeName:"property-category",displayName:"PropertyCategory"},n):(0,O.jsx)(O.Fragment,{})}))}),t.CustomAttributeClass&&(0,O.jsx)("div",{children:t.CustomAttributeClass.map((function(e,n){return t._highlightResult.CustomAttributeClass[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"CustomAttributeClass",cssTypeName:"custom-attribute-class",displayName:"CustomAttributeClass"},n):(0,O.jsx)(O.Fragment,{})}))}),t.Format&&(0,O.jsx)("div",{children:t.Format.map((function(e,n){return t._highlightResult.Format[n].matchedWords.length>0?(0,O.jsx)(cn,{index:n,hit:t,highlightType:"Format",cssTypeName:"format",displayName:"Format"},n):(0,O.jsx)(O.Fragment,{})}))}),t.description&&(0,O.jsx)(T.Body,{className:"result-heading result-description",children:t.description}),(0,O.jsx)(an,{href:i,children:i})]})})},hn=function(e){var t=e.children,n=e.href,r=e.className,i=e.style,s=void 0===i?{}:i,a=e.onClick;return(0,O.jsx)(z(),{href:n,as:n,children:(0,O.jsx)("a",{style:s,className:r,onClick:a,children:t})})},fn=function(e){var t=e.hit,n=e.className,r=e.badgeContent,i=e.onClick;return(0,O.jsx)("li",{className:"custom-hit",children:(0,O.jsxs)(k.Z,{className:"result-list-item-link",href:t.url,onClick:i,children:[(0,O.jsx)(T.Badge,{className:n,children:r}),(0,O.jsx)(k.Z,{href:t.url,children:(0,O.jsx)("div",{className:"result-heading result-title",children:(0,O.jsx)(rn,{attribute:"title",hit:t})})}),t.description&&(0,O.jsx)(T.Body,{className:"result-heading result-description",children:t.description}),(0,O.jsx)(hn,{href:t.url,children:t.url})]})})},pn=n(96486),dn=function(e){var t=e.hit,n=e.onClick,r=function(e){var t;return null!==(t={Topic:jt.Topic,Methods:jt.Method,Classes:jt.Class,Interfaces:jt.Interface,Enumerations:jt.Enumeration,"Global Functions":jt.GlobalFunction,Constants:jt.Constant,"Type Aliases":jt.TypeAlias,Namespaces:jt.Namespace,Properties:jt.Property,Sandbox:jt.Sandbox,Sample:jt.Sample,ECSchema:jt.ECSchema,"Developer APIs":At.DeveloperAPI,Tutorials:At.Tutorial}[e])&&void 0!==t?t:e},i=function(e){return"badge badge-"+e.toLowerCase().replace(/\s/g,"-")},s=(0,a.useState)(t),o=s[0],u=s[1],c=(0,a.useState)(i(t.contentType)),l=c[0],h=c[1];return(0,a.useEffect)((function(){var e=(0,pn.cloneDeep)(t);e._highlightResult&&e._highlightResult.filePath&&(e._highlightResult.filePath.value=function(e){var t=e.replace(/\\/g," > ");if(t.endsWith("Static")){var n=t.lastIndexOf("Static");t=t.slice(0,n)}return t}(e._highlightResult.filePath.value)),u(e),h(i(e.contentType))}),[t]),(0,O.jsxs)(O.Fragment,{children:[o.filePath&&(0,O.jsx)(ln,{hit:o,className:l,badgeContent:r(o.contentType)}),o.name&&(0,O.jsx)(on,{hit:o,className:l,badgeContent:r(o.contentType)}),o.sampleName&&(0,O.jsx)(un,{hit:o,className:l,badgeContent:r(o.contentType)}),o.title&&o.url&&(0,O.jsx)(fn,{hit:o,className:l,badgeContent:r(o.contentType),onClick:n})]})},_n=function(e){var t=e.onClick,n=$t((function(e){var n=e.hits,r=e.hasMore,i=e.refineNext;return function(e){var t=e.onClick,n=e.hits,r=e.hasMore,i=e.refineNext,s=a.useRef(null),o=function(e){e.forEach((function(e){e.isIntersecting&&r&&i()}))};return a.useEffect((function(){var e=new IntersectionObserver(o);return null!==s.current&&e.observe(s.current),function(){return e.disconnect()}}),[n]),(0,O.jsx)("div",{className:"infinite-hits",children:(0,O.jsxs)("ul",{className:"infinite-hits-list",children:[n.map((function(e){return(0,O.jsx)("li",{className:"infinite-hits-item",children:(0,O.jsx)(dn,{hit:e,onClick:t})},e.objectID)})),(0,O.jsx)("li",{className:"infinite-hits-sentinel",ref:s})]})})}({onClick:t,hits:n,hasMore:r,refineNext:i})}));return(0,O.jsx)(n,{})};function gn(e,t,n){var r=De(e,t,n,"query","");return r||""}function vn(e,t,n,r){return Ie(t,(0,he.Z)({},"query",n),r,!0)}var mn=yt({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:_e().string},getProvidedProps:function(e,t,n){return{currentRefinement:gn(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return vn(0,t,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},cleanUp:function(e,t){return function(e,t,n){return Le(t,n,"query")}(0,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},getSearchParameters:function(e,t,n){return e.setQuery(gn(t,n,{ais:t.contextValue,multiIndexContext:t.indexContextValue}))},getMetadata:function(e,t){var n="query",r=gn(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue});return{id:n,index:Ae({ais:e.contextValue,multiIndexContext:e.indexContextValue}),items:null===r?[]:[{label:"".concat(n,": ").concat(r),value:function(t){return vn(0,t,"",{ais:e.contextValue,multiIndexContext:e.indexContextValue})},currentRefinement:r}]}}})((function(e){var t=e.currentRefinement,n=e.refine;return(0,O.jsx)(T.Input,{id:"search-box",placeholder:"Search...",value:t,onChange:function(e){return n(e.currentTarget.value)}})}));n(25073);function yn(e){var t=e.onClose;return(0,O.jsxs)("div",{className:"search-panel",children:[(0,O.jsxs)("div",{className:"search-bar-area",children:[(0,O.jsx)(mn,{}),(0,O.jsx)(T.Button,{id:"close-search",onClick:t,startIcon:(0,O.jsx)(N.GG$,{}),styleType:"borderless",children:"Close"})]}),(0,O.jsx)("div",{className:"search-result",children:[h.Z.ALGOLIA_INDEX,h.Z.ITWINJS_INDEX].map((function(e){return(0,O.jsx)(zt,{indexName:e,children:(0,O.jsx)(_n,{onClick:t})},e)}))})]})}var bn=function(e){var t=e.isOpen,n=e.onClose,r=pt(),i=a.useState(Tt.iTwinPlatform),s=(0,re.Z)(i,2),o=s[0],u=s[1];return(0,O.jsx)(T.Modal,{title:"",isOpen:t,isDismissible:!1,className:"search-modal",children:(0,O.jsxs)(lt,{searchClient:r,indexName:o===Tt.iTwinPlatform?h.Z.ALGOLIA_INDEX:h.Z.ITWINJS_INDEX,children:[(0,O.jsx)(Mt,{searchSite:o,onChange:u}),(0,O.jsx)(yn,{onClose:n})]})})},wn=(n(16110),function(e){var t=e.name,n=e.isActive,r=void 0!==n&&n,i=e.onClick,s=e.startIcon,a=e.endIcon;return(0,O.jsx)(T.HeaderButton,{className:"hamburger-button",name:t,isActive:r,onClick:i,startIcon:s,endIcon:a},t)}),xn=function(e){var t=e.to,n=e.title,r=e.isActiveFn,i=e.startIcon,s=e.endIcon,a=(0,c.useRouter)(),o=r?r(a.pathname):a.pathname.startsWith(t);return(0,O.jsx)(k.Z,{href:t,className:"hamburger-nav-link",children:(0,O.jsx)(wn,{name:n,isActive:o,startIcon:i,endIcon:s})})};var Sn=function(e){return(0,O.jsx)("div",{className:e.className,style:{display:e.show?"block":"none"},onClick:e.onClick,children:e.children})};n(23962);var En=function(){var e=(0,g.a)(),t=e.firstName,n=e.lastName,r=e.email,i=F.c.getUserFullName(t,n);return(0,O.jsxs)("div",{className:"side-menu-user-info-section",children:[(0,O.jsx)(X.Z,{firstName:t,lastName:n,size:"large"}),(0,O.jsxs)("div",{className:"user-info",children:[(0,O.jsx)(T.Text,{variant:"leading",id:"full-user-name",children:i}),(0,O.jsx)(T.Text,{isMuted:!0,id:"user-email",children:r})]})]})};var kn=function(e){var t=e.menuItems,n=e.isOpen,r=e.setIsOpen,i=(0,V.m)().isLoggedIn;return(0,O.jsx)(Sn,{show:n,onClick:function(){return r(!n)},className:"header-menu-backdrop",children:(0,O.jsxs)("div",{className:"collapsible-menu",children:[(0,O.jsxs)("div",{className:i?"user-info-area":"collapsible-menu-close-area",children:[i&&(0,O.jsx)(En,{}),(0,O.jsx)(T.IconButton,{className:"header-close-button",styleType:"borderless",size:"small",onClick:function(){return r(!n)},children:(0,O.jsx)(N.GG$,{})})]}),t]})})},Fn=n(72600);n(18107);var Pn=function(){return(0,O.jsx)(z(),{href:p.Sd,children:(0,O.jsx)("a",{id:"itwin-platform-header-logo-link",children:(0,O.jsx)(T.HeaderLogo,{logo:(0,O.jsx)(Fn.Z,{id:"header-logo-icon"}),onClick:function(){},children:(0,O.jsx)("strong",{children:"iTwin Platform"})})})})};n(50908);var On=function(e){var t=e.title,n=e.menuItems,r=e.className,i=(0,c.useRouter)(),s=n.filter((function(e){return void 0===e.customRenderCondition||e.customRenderCondition}));return(0,O.jsx)(T.HeaderButton,{name:t,className:r,isActive:!!n.filter((function(e){return i.pathname.startsWith(e.href)})).length,menuItems:function(e){return s.map((function(t){return(0,O.jsx)(k.Z,{href:t.href,children:(0,O.jsx)(T.MenuItem,{className:"dropdown-button",onClick:function(){e()},isSelected:i.pathname.startsWith(t.href),badge:t.endIcon,children:t.title})},t.title)}))}})};n(80563);var Rn=function(e){var t=e.onClick,n=e.className;return(0,O.jsx)(T.IconButton,{className:n,styleType:"borderless",id:"search-button",onClick:function(){t()},children:(0,O.jsx)(N.yrh,{})})};n(7362);var jn=function(e){var t=e.href,n=e.title,r=e.startIcon,i=e.addDividerBefore;return(0,O.jsxs)(O.Fragment,{children:[i&&(0,O.jsx)("div",{className:"iui-divider"},"divider"),(0,O.jsx)(z(),{href:t,children:(0,O.jsx)(T.Button,{styleType:"high-visibility",className:"simple-link-button",startIcon:r,as:"a",href:t,children:n})})]})};var An=function(e){var t=e.className,n=(0,v.L)(),r=(0,H.k)(),i=r.session,s=r.isInitializing,o=(0,V.m)(),c=o.isLoggingIn,l=o.isLoggedIn,h=o.signout,d=o.signin,_=(0,a.useMemo)((function(){return B.getFilteredHeaderItems(n,i).filter((function(e){return e.allowAnonymous||l}))}),[n,i,l]),g=(0,a.useState)(!1),m=g[0],y=g[1],b=(0,a.useState)(!1),w=b[0],x=b[1],S=n[f.DY]&&!c&&!s&&(!l||!!i&&!i.subscription),E=[].concat((0,Y.Z)(_.filter((function(e){return!e.isInUserProfile&&!e.isInLearningPage})).map((function(e){return e.isDropdown&&e.values?(0,O.jsx)(On,{className:"desktop-header-button",title:e.title,menuItems:e.values},e.title):(0,O.jsx)(K,{className:"desktop-header-button",href:e.href,title:e.title,isActiveFn:e.isActiveFn,startIcon:e.startIcon,endIcon:e.endIcon,addDividerBefore:e.addDividerBefore},e.title)}))),[n[f.qr]?(0,O.jsx)(Rn,{className:"desktop-header-button",onClick:function(){return y(!0)}},"search-button"):void 0,(0,O.jsx)(T.IconButton,{id:"mobile-header-button",styleType:"borderless",onClick:function(){return x(!w)},children:(0,O.jsx)(N.Bdq,{})},"mobile-header-button")]),k=[];return l&&(k.push((0,O.jsx)(T.MenuDivider,{className:"hamburger-menu-divider"})),k.push.apply(k,(0,Y.Z)(_.filter((function(e){return!e.allowAnonymous})).flatMap((function(e){return e.isDropdown?(e.values||[]).map((function(e){return(0,O.jsx)(xn,{to:e.href,title:e.title},e.title)})):(0,O.jsx)(xn,{to:e.href,title:e.title,isActiveFn:e.isActiveFn,startIcon:e.startIcon},e.title)})))),k.push((0,O.jsx)(T.MenuDivider,{className:"hamburger-menu-divider"}))),S&&k.push((0,O.jsx)(xn,{to:p.Kh,title:"Free Trial"},"trial")),k.push.apply(k,(0,Y.Z)(_.filter((function(e){return e.allowAnonymous})).flatMap((function(e){return e.isDropdown?(e.values||[]).map((function(e){return(0,O.jsx)(xn,{to:e.href,title:e.title,endIcon:e.endIcon},e.title)})):(0,O.jsx)(xn,{to:e.href,title:e.title,isActiveFn:e.isActiveFn,startIcon:e.startIcon,endIcon:e.endIcon},e.title)}))).concat([c||s?(0,O.jsx)(T.ProgressRadial,{indeterminate:!0,style:{margin:"16px 24px"}}):l?(0,O.jsx)(wn,{name:"Sign Out",onClick:function(){h()}},"Sign Out"):(0,O.jsx)(wn,{name:"Sign In",onClick:function(){d()}},"Sign In")])),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:u()(["portal-header",t]),"data-theme":"dark",children:[(0,O.jsx)(T.Header,{className:"page-header",appLogo:(0,O.jsx)(Pn,{}),actions:E,userIcon:(0,O.jsxs)(O.Fragment,{children:[c||s?(0,O.jsx)(T.ProgressRadial,{indeterminate:!0,className:"desktop-header-signin-spinner"}):l?(0,O.jsx)(te,{className:"desktop-header-button",userIconMenuItemData:_.filter((function(e){return e.isInUserProfile}))}):(0,O.jsx)(T.HeaderButton,{className:"desktop-header-button",name:"Sign In",onClick:function(){d()}}),S&&(0,O.jsx)(jn,{href:p.Kh,title:"Free Trial"},"trial")]})}),(0,O.jsx)(kn,{isOpen:w,setIsOpen:x,menuItems:k})]}),(0,O.jsx)(bn,{isOpen:m,onClose:function(){y(!1)}})]})};n(51252);function Tn(e){var t,n,r=e.children,i=(0,c.useRouter)(),s=(0,g.n)(),o=(0,_.kP)(),m=o.closeTrialBanner,b=o.session,S=o.showTrialBanner,E=(0,a.useState)(!1),k=E[0],F=E[1];(0,a.useEffect)((function(){if("prod"!==h.Z.ENVIRONMENT){var e=window.document.createElement("meta");e.name="robots",e.content="noindex";var t=window.document.getElementsByTagName("head")[0];t.insertBefore(e,t.firstChild)}}),[]),(0,a.useEffect)((function(){F(null!==window.document.getElementById("error-page"))}),[i,s]);var P=[".*".concat(p.ei),".*".concat(p.Nz),".*".concat(p.Nd),".*".concat(p._m)],R=[p.Sd,p.Kh],j=[p.Sd,p.Kh,p.tQ,p.$Z],T=(0,v.L)(),C=(0,a.useState)(!1),I=C[0],N=C[1];T[f.UH]&&!I&&(N(!0),y().interceptors.request.use((function(e){var t,n=null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),r=e.baseURL?e.baseURL+e.url:e.url;return w.some((function(e){return null===r||void 0===r?void 0:r.includes(e)}))||console.log("REQUEST: ".concat(n," ").concat(r,"\n").concat(JSON.stringify({headers:e.headers?x(e.headers):{}}))),e})),y().interceptors.response.use((function(e){var t,n=null===(t=e.config.method)||void 0===t?void 0:t.toUpperCase(),r=e.config.baseURL?e.config.baseURL+e.config.url:e.config.url;return w.some((function(e){return r&&e.includes(r)}))||console.log("RESPONSE: ".concat(n," ").concat(r," STATUS: ").concat(e.status,"\n").concat(JSON.stringify({headers:e.headers?x(e.headers):{},payload:e.data}))),e})));var D,L,U=T[f.wm]?[p.ih,p.$Z,p.z$,p.QL,p.MG,p.eU,p.Wv,p.PY]:[p.ih,p.$Z,p.z$,p.QL],M=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(An,{className:"dark-blue"}),U.some((function(e){return i.pathname.startsWith(e)}))&&(0,O.jsx)(q,{})]}),B=(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(ne,{className:"dark-blue"})}),H=!P.some((function(e){return new RegExp(e).test(d.l.isPreloading?"":window.location.pathname)}))&&(0,O.jsx)(W.$,{});return(j.some((function(e){return e===i.pathname}))||i.pathname.includes(p.A)||i.pathname.includes(p.tQ))&&!k?(0,O.jsx)("div",{"data-theme":R.some((function(e){return e===i.pathname}))?"dark":"light",children:(0,O.jsxs)(l.PageLayout,{className:u()([i.pathname===p.Sd||R.some((function(e){return e===i.pathname}))?"dark-bg":void 0]),children:[(0,O.jsxs)(l.PageLayout.Header,{children:[S&&s&&(null===b||void 0===b||null===(D=b.subscription)||void 0===D?void 0:D.expirationDateTime)&&(0,O.jsx)(A,{onClose:m,trialExpirationDateTime:new Date(null===b||void 0===b||null===(L=b.subscription)||void 0===L?void 0:L.expirationDateTime)}),i.pathname!==p.au?M:B]}),r]})}):(0,O.jsxs)("div",{className:"app",children:[(0,O.jsxs)("div",{className:"sticky-top",style:{zIndex:10},children:[S&&(null===b||void 0===b||null===(t=b.subscription)||void 0===t?void 0:t.expirationDateTime)&&s&&(0,O.jsx)(A,{onClose:m,trialExpirationDateTime:new Date(null===b||void 0===b||null===(n=b.subscription)||void 0===n?void 0:n.expirationDateTime)}),i.pathname!==p.au?M:B]}),(0,O.jsx)("main",{className:"content",children:r}),H]})}var Cn=n(45829);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(n,!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e){function t(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}var Mn=Un("LaunchDarklyUnexpectedResponseError"),Bn=Un("LaunchDarklyInvalidEnvironmentIdError"),Hn=Un("LaunchDarklyInvalidUserError"),Vn=Un("LaunchDarklyInvalidEventKeyError"),Zn=Un("LaunchDarklyInvalidArgumentError"),zn=Un("LaunchDarklyFlagFetchError");function Kn(e){return!(e>=400&&e<500)||400===e||408===e||429===e}for(var qn=Object.freeze({__proto__:null,LDUnexpectedResponseError:Mn,LDInvalidEnvironmentIdError:Bn,LDInvalidUserError:Hn,LDInvalidEventKeyError:Vn,LDInvalidArgumentError:Zn,LDFlagFetchError:zn,isHttpErrorRecoverable:Kn}),Wn=[],Jn=[],Gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$n=0,Qn=Gn.length;$n<Qn;++$n)Wn[$n]=Gn[$n],Jn[Gn.charCodeAt($n)]=$n;function Yn(e,t,n){for(var r,i,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(Wn[(i=r)>>18&63]+Wn[i>>12&63]+Wn[i>>6&63]+Wn[63&i]);return s.join("")}Jn["-".charCodeAt(0)]=62,Jn["_".charCodeAt(0)]=63;var Xn=Array.isArray,er=Object.keys,tr=Object.prototype.hasOwnProperty,nr=["key","secondary","ip","country","email","firstName","lastName","avatar","name"];function rr(e){return function(e){for(var t,n=e.length,r=n%3,i=[],s=0,a=n-r;s<a;s+=16383)i.push(Yn(e,s,s+16383>a?a:s+16383));return 1===r?(t=e[n-1],i.push(Wn[t>>2]+Wn[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(Wn[t>>10]+Wn[t>>4&63]+Wn[t<<2&63]+"=")),i.join("")}(function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}(unescape(encodeURIComponent(e))))}function ir(e){return rr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sr(e){return JSON.parse(JSON.stringify(e))}function ar(e,t){return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var r,i,s,a=Xn(t),o=Xn(n);if(a&&o){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(a!=o)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,h=n instanceof RegExp;if(l!=h)return!1;if(l&&h)return t.toString()==n.toString();var f=er(t);if((i=f.length)!==er(n).length)return!1;for(r=i;0!=r--;)if(!tr.call(n,f[r]))return!1;for(r=i;0!=r--;)if(!e(t[s=f[r]],n[s]))return!1;return!0}return t!=t&&n!=n}(e,t)}function or(e){setTimeout(e,0)}function ur(e,t){var n=e.then((function(e){return t&&setTimeout((function(){t(null,e)}),0),e}),(function(e){if(!t)return Promise.reject(e);setTimeout((function(){t(e,null)}),0)}));return t?void 0:n}function cr(e){var t={};for(var n in e)gr(e,n)&&(t[n]={value:e[n],version:0});return t}function lr(e){var t={};for(var n in e)gr(e,n)&&(t[n]=e[n].value);return t}function hr(e,t){for(var n,r=t.slice(0),i=[],s=e;r.length>0;){for(n=[];s>0;){var a=r.shift();if(!a)break;(s-=ir(JSON.stringify(a)).length)<0&&n.length>0?r.unshift(a):n.push(a)}s=e,i.push(n)}return i}function fr(e){var t=e.version||"3.4.0";return e.userAgent+"/"+t}function pr(e,t){if(t&&!t.sendLDHeaders)return{};var n={"X-LaunchDarkly-User-Agent":fr(e)};return t&&t.wrapperName&&(n["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName),n}function dr(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform(Ln({},e)):e}function _r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Ln({},e,{},t)}),{})}function gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vr(e){if(!e)return e;var t;for(var n in nr){var r=nr[n],i=e[r];void 0!==i&&"string"!=typeof i&&((t=t||Ln({},e))[r]=String(i))}return t||e}Object.freeze({__proto__:null,btoa:rr,base64URLEncode:ir,clone:sr,deepEquals:ar,onNextTick:or,wrapPromiseCallback:ur,transformValuesToVersionedValues:cr,transformVersionedValuesToValues:lr,chunkUserEventsForUrl:hr,getLDUserAgentString:fr,getLDHeaders:pr,transformHeaders:dr,extend:_r,objectHasOwnProperty:gr,sanitizeUser:vr});for(var mr=function(e,t){return function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}}(t={exports:{}}),t.exports}(),yr=[],br=0;br<256;++br)yr[br]=(br+256).toString(16).substr(1);var wr,xr,Sr=0,Er=0,kr=function(e,t,n){var r=t&&n||0,i=t||[],s=(e=e||{}).node||wr,a=void 0!==e.clockseq?e.clockseq:xr;if(null==s||null==a){var o=mr();null==s&&(s=wr=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==a&&(a=xr=16383&(o[6]<<8|o[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Er+1,l=u-Sr+(c-Er)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>Sr)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Sr=u,Er=c,xr=a;var h=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var f=u/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var p=0;p<6;++p)i[r+p]=s[p];return t||function(e,t){var n=0,r=yr;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}(i)};function Fr(e,t,n){var r="/a/"+t+".gif",i=_r({"Content-Type":"application/json"},pr(e,n)),s=e.httpFallbackPing,a={sendChunk:function(t,a,o,u){var c=JSON.stringify(t),l=o?null:kr();return u?function t(r){var s=o?i:_r({},i,{"X-LaunchDarkly-Event-Schema":"3","X-LaunchDarkly-Payload-ID":l});return e.httpRequest("POST",a,dr(s,n),c).promise.then((function(e){if(e)return e.status>=400&&Kn(e.status)&&r?t(!1):function(e){var t={status:e.status},n=e.header("date");if(n){var r=Date.parse(n);r&&(t.serverTime=r)}return t}(e)})).catch((function(){return r?t(!1):Promise.reject()}))}(!0).catch((function(){})):(s&&s(a+r+"?d="+ir(c)),Promise.resolve())},sendEvents:function(t,n,r){if(!e.httpRequest)return Promise.resolve();var i,s=e.httpAllowsPost();i=s?[t]:hr(2e3-n.length,t);for(var o=[],u=0;u<i.length;u++)o.push(a.sendChunk(i[u],n,r,s));return Promise.all(o)}};return a}function Pr(){var e={},t=0,n=0,r={};return e.summarizeEvent=function(e){if("feature"===e.kind){var i=e.key+":"+(null!==e.variation&&void 0!==e.variation?e.variation:"")+":"+(null!==e.version&&void 0!==e.version?e.version:""),s=r[i];s?s.count=s.count+1:r[i]={count:1,key:e.key,variation:e.variation,version:e.version,value:e.value,default:e.default},(0===t||e.creationDate<t)&&(t=e.creationDate),e.creationDate>n&&(n=e.creationDate)}},e.getSummary=function(){var e={},i=!0;for(var s in r){var a=r[s],o=e[a.key];o||(o={default:a.default,counters:[]},e[a.key]=o);var u={value:a.value,count:a.count};void 0!==a.variation&&null!==a.variation&&(u.variation=a.variation),a.version?u.version=a.version:u.unknown=!0,o.counters.push(u),i=!1}return i?null:{startDate:t,endDate:n,features:e}},e.clearSummary=function(){t=0,n=0,r={}},e}function Or(e){var t={},n=e.allAttributesPrivate,r=e.privateAttributeNames||[],i={key:!0,custom:!0,anonymous:!0},s={key:!0,secondary:!0,ip:!0,country:!0,email:!0,firstName:!0,lastName:!0,avatar:!0,name:!0,anonymous:!0,custom:!0};return t.filterUser=function(e){if(!e)return null;var t=e.privateAttributeNames||[],a=function(e,s){return Object.keys(e).reduce((function(a,o){var u=a;return s(o)&&(function(e){return!i[e]&&(n||-1!==t.indexOf(e)||-1!==r.indexOf(e))}(o)?u[1][o]=!0:u[0][o]=e[o]),u}),[{},{}])},o=a(e,(function(e){return s[e]})),u=o[0],c=o[1];if(e.custom){var l=a(e.custom,(function(){return!0}));u.custom=l[0],c=_r({},c,l[1])}var h=Object.keys(c);return h.length&&(h.sort(),u.privateAttrs=h),u},t}function Rr(e){return e&&e.message?e.message:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}var jr=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.",Ar=function(e){return'Expected application/json content type but got "'+e+'"'},Tr=function(e){return"network error"+(e?" ("+e+")":"")},Cr=function(e){return'Custom event "'+e+'" does not exist'},Ir=function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+jr},Nr=function(){return"No environment/client-side ID was specified."+jr},Dr=function(e){return"Error fetching flag settings: "+Rr(e)},Lr=function(){return"No user specified."+jr},Ur=function(){return"Invalid user specified."+jr},Mr=function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+jr},Br=function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},Hr=function(e,t,n){return"Received error "+e+(401===e?" (invalid SDK key)":"")+" for "+t+" - "+(Kn(e)?n:"giving up permanently")},Vr=function(){return"Cannot make HTTP requests in this environment."+jr},Zr=function(e){return"Opening stream connection to "+e},zr=function(e,t){return"Error on stream connection: "+Rr(e)+", will continue retrying every "+t+" milliseconds."},Kr=function(e){return'Ignoring unknown config option "'+e+'"'},qr=function(e,t,n){return'Config option "'+e+'" should be of type '+t+", got "+n+", using default value"},Wr=function(e,t){return'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"},Jr=function(e,t,n){return'Config option "'+e+'" was set to '+t+", changing to minimum value of "+n},Gr=function(e){return"polling for feature flags at "+e},$r=function(e){return'received streaming update for flag "'+e+'"'},Qr=function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},Yr=function(e){return'received streaming deletion for flag "'+e+'"'},Xr=function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},ei=function(e){return'enqueueing "'+e+'" event'},ti=function(e){return"sending "+e+" events"},ni=Object.freeze({__proto__:null,clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutUser:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},invalidContentType:Ar,invalidKey:function(){return"Event key must be a string"},localStorageUnavailable:function(){return"localStorage is unavailable"},localStorageUnavailableForUserId:function(){return"localStorage is unavailable, so anonymous user ID cannot be cached"},networkError:Tr,unknownCustomEventKey:Cr,environmentNotFound:Ir,environmentNotSpecified:Nr,errorFetchingFlags:Dr,userNotSpecified:Lr,invalidUser:Ur,bootstrapOldFormat:Mr,bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},deprecated:Br,httpErrorMessage:Hr,httpUnavailable:Vr,identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},streamClosing:function(){return"Closing stream connection"},streamConnecting:Zr,streamError:zr,unknownOption:Kr,wrongOptionType:qr,wrongOptionTypeBoolean:Wr,optionBelowMinimum:Jr,debugPolling:Gr,debugStreamPing:function(){return"received ping message from stream"},debugStreamPut:function(){return"received streaming update for all flags"},debugStreamPatch:$r,debugStreamPatchIgnored:Qr,debugStreamDelete:Yr,debugStreamDeleteIgnored:Xr,debugEnqueueingEvent:ei,debugPostingEvents:ti,debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"}});function ri(e,t,n,r,i){var s={};function a(){var e="",i=r.getUser();return i&&(e=n||rr(JSON.stringify(i))),"ld:"+t+":"+e}return s.loadFlags=function(){return e.get(a()).then((function(e){if(null==e)return null;try{var t=JSON.parse(e);if(t){var n=t.$schema;void 0===n||n<1?t=cr(t):delete t.$schema}return t}catch(e){return s.clearFlags().then((function(){return Promise.reject(e)}))}})).catch((function(e){return i.warn("localStorage is unavailable"),Promise.reject(e)}))},s.saveFlags=function(t){var n=_r({},t,{$schema:1});return e.set(a(),JSON.stringify(n)).catch((function(e){return i.warn("localStorage is unavailable"),Promise.reject(e)}))},s.clearFlags=function(){return e.clear(a()).catch((function(e){return i.warn("localStorage is unavailable"),Promise.reject(e)}))},s}function ii(e,t,n,r){var i,s=t.streamUrl,a=t.logger,o={},u=s+"/eval/"+n,c=t.useReport,l=t.evaluationReasons,h=t.streamReconnectDelay,f=pr(e,t),p=!1,d=null,_=null,g=null,v=null,m=null;function y(e){p||(a.warn(zr(e,h)),p=!0),S(!1),x(),b(h)}function b(e){_||(e?_=setTimeout(w,e):w())}function w(){var r;_=null;var o="",h={headers:f,readTimeoutMillis:3e5};if(e.eventSourceFactory){for(var p in null!=v&&(o="h="+v),c?e.eventSourceAllowsReport?(r=u,h.method="REPORT",h.headers["Content-Type"]="application/json",h.body=JSON.stringify(g)):(r=s+"/ping/"+n,o=""):r=u+"/"+ir(JSON.stringify(g)),h.headers=dr(h.headers,t),l&&(o=o+(o?"&":"")+"withReasons=true"),r=r+(o?"?":"")+o,x(),a.info(Zr(r)),i=(new Date).getTime(),d=e.eventSourceFactory(r,h),m)gr(m,p)&&d.addEventListener(p,m[p]);d.onerror=y}}function x(){d&&(a.info("Closing stream connection"),d.close(),d=null)}function S(e){i&&r&&r.recordStreamInit(i,!e,(new Date).getTime()-i),i=null}return o.connect=function(e,t,n){g=e,v=t,m={};var r=function(e){m[e]=function(t){p=!1,S(!0),n[e]&&n[e](t)}};for(var i in n||{})r(i);b()},o.disconnect=function(){clearTimeout(_),_=null,x()},o.isConnected=function(){return!!(d&&e.eventSourceIsActive&&e.eventSourceIsActive(d))},o}function si(e,t,n){var r=t.baseUrl,i=t.useReport,s=t.evaluationReasons,a=t.logger,o={},u={};function c(n,r){if(!e.httpRequest)return new Promise((function(e,t){t(new zn(Vr()))}));var i=r?"REPORT":"GET",s=pr(e,t);r&&(s["Content-Type"]="application/json");var a=u[n];a||(a=function(e){var t,n,r,i,s={addPromise:function(s,a){t=s,n&&n(),n=a,s.then((function(n){t===s&&(r(n),e&&e())}),(function(n){t===s&&(i(n),e&&e())}))}};return s.resultPromise=new Promise((function(e,t){r=e,i=t})),s}((function(){delete u[n]})),u[n]=a);var o=e.httpRequest(i,n,dr(s,t),r),c=o.promise.then((function(e){if(200===e.status){if(e.header("content-type")&&"application/json"===e.header("content-type").substring(0,"application/json".length))return JSON.parse(e.body);var t=Ar(e.header("content-type")||"");return Promise.reject(new zn(t))}return Promise.reject(function(e){return 404===e.status?new Bn(Ir()):new zn(Dr(e.statusText||String(e.status)))}(e))}),(function(e){return Promise.reject(new zn(Tr(e)))}));return a.addPromise(c,(function(){o.cancel&&o.cancel()})),a.resultPromise}return o.fetchJSON=function(e){return c(r+e,null)},o.fetchFlagSettings=function(e,t){var o,u,l,h="";return i?(u=[r,"/sdk/evalx/",n,"/user"].join(""),l=JSON.stringify(e)):(o=ir(JSON.stringify(e)),u=[r,"/sdk/evalx/",n,"/users/",o].join("")),t&&(h="h="+t),s&&(h=h+(h?"&":"")+"withReasons=true"),u=u+(h?"?":"")+h,a.debug(Gr(u)),c(u,l)},o}function ai(e,t){var n={validateUser:function(n){if(!n)return Promise.reject(new Hn(Lr()));var r=sr(n);return null!==r.key&&void 0!==r.key?(r.key=r.key.toString(),Promise.resolve(r)):r.anonymous?(e?e.get("ld:$anonUserId").catch((function(){return null})):Promise.resolve(null)).then((function(n){if(n)return r.key=n,r;var i=kr();return r.key=i,function(n){return e?e.set("ld:$anonUserId",n).catch((function(){t.warn("localStorage is unavailable, so anonymous user ID cannot be cached")})):Promise.resolve()}(i).then((function(){return r}))})):Promise.reject(new Hn(Ur()))}};return n}var oi={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},inlineUsersInEvents:{default:!1},allowFrequentDuplicateEvents:{default:!1},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributeNames:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},autoAliasingOptOut:{default:!1}};function ui(e,t,n,r){var i=_r({logger:{default:r}},oi,n),s={all_attributes_private:"allAttributesPrivate",private_attribute_names:"privateAttributeNames",samplingInterval:null};function a(e){or((function(){t&&t.maybeReportError(new Zn(e))}))}var o=_r({},e||{});return function(e){var t=e;Object.keys(s).forEach((function(e){if(void 0!==t[e]){var n=s[e];r&&r.warn(Br(e,n)),n&&(void 0===t[n]&&(t[n]=t[e]),delete t[e])}}))}(o),function(e){var t=_r({},e),n=function(e){if(null===e)return"any";if(void 0!==e){if(Array.isArray(e))return"array";var t=In(e);return"boolean"===t||"string"===t||"number"===t||"function"===t?t:"object"}};return Object.keys(e).forEach((function(r){var s=e[r];if(null!=s){var o=i[r];if(void 0===o)a(Kr(r));else{var u=o.type||n(o.default);if("any"!==u){var c=u.split("|"),l=n(s);c.indexOf(l)<0?"boolean"===u?(t[r]=!!s,a(Wr(r,l))):(a(qr(r,u,l)),t[r]=o.default):"number"===l&&void 0!==o.minimum&&s<o.minimum&&(a(Jr(r,s,o.minimum)),t[r]=o.minimum)}}}})),t}(o=function(e){var t=_r({},e);return Object.keys(i).forEach((function(e){void 0!==t[e]&&null!==t[e]||(t[e]=i[e]&&i[e].default)})),t}(o))}var ci=Object.freeze({__proto__:null,baseOptionDefs:oi,validate:ui}).baseOptionDefs,li=function(e){var t={diagnosticId:kr()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t};function hi(e,t){var n,r=["debug","info","warn","error"];n=null!=t?""===t?"":t+" ":"LD: ";var i=0;e&&(i="none"===e?100:r.indexOf(e));var s={};function a(e,t,s){if(e>=i&&console){var a=console[t];if(a){var o=e<r.length?r[e]:"?";a.call(console,n+"["+o+"] "+s)}}}return s.debug=function(e){return a(0,"log",e)},s.info=function(e){return a(1,"info",e)},s.warn=function(e){return a(2,"warn",e)},s.error=function(e){return a(3,"error",e)},s}function fi(e,t,n,r,i){var s,a,o,u,c=n&&n.logger?n.logger:i&&i.logger&&i.logger.default||hi("warn"),l=function(e){var t={},n={};return t.on=function(e,t,r){n[e]=n[e]||[],n[e]=n[e].concat({handler:t,context:r})},t.off=function(e,t,r){if(n[e])for(var i=0;i<n[e].length;i++)n[e][i].handler===t&&n[e][i].context===r&&(n[e]=n[e].slice(0,i).concat(n[e].slice(i+1)))},t.emit=function(e){if(n[e])for(var t=n[e].slice(0),r=0;r<t.length;r++)t[r].handler.apply(t[r].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(n)},t.getEventListenerCount=function(e){return n[e]?n[e].length:0},t.maybeReportError=function(t){t&&(n.error?this.emit("error",t):(e||console).error(t.message))},t}(c),h=function(e){var t=!1,n=!1,r=null,i=null,s=new Promise((function(t){e.on("ready",(function n(){e.off("ready",n),t()}))})).catch((function(){}));return{getInitializationPromise:function(){return i||(t?Promise.resolve():n?Promise.reject(r):i=new Promise((function(t,n){e.on("initialized",(function n(){e.off("initialized",n),t()})),e.on("failed",(function t(r){e.off("failed",t),n(r)}))})))},getReadyPromise:function(){return s},signalSuccess:function(){t||n||(t=!0,e.emit("initialized"),e.emit("ready"))},signalFailure:function(i){t||n||(n=!0,r=i,e.emit("failed",i),e.emit("ready")),e.maybeReportError(i)}}}(l),f=ui(n,l,i,c),p=f.sendEvents,d=e,_=f.hash,g=Fr(r,d,f),v=f.sendEvents&&!f.diagnosticOptOut,m=v?li(d):null,y=v?function(e){var t,n,r,i;function s(e){t=e,n=0,r=0,i=[]}return s((new Date).getTime()),{getProps:function(){return{dataSinceDate:t,droppedEvents:n,eventsInLastBatch:r,streamInits:i}},setProps:function(e){t=e.dataSinceDate,n=e.droppedEvents||0,r=e.eventsInLastBatch||0,i=e.streamInits||[]},incrementDroppedEvents:function(){n++},setEventsInLastBatch:function(e){r=e},recordStreamInit:function(e,t,n){var r={timestamp:e,failed:t,durationMillis:n};i.push(r)},reset:s}}():null,b=v?function(e,t,n,r,i,s){var a,o,u=!!e.diagnosticUseCombinedEvent,c="ld:"+r+":$diagnostics",l=i.eventsUrl+"/events/diagnostic/"+r,h=i.diagnosticRecordingInterval,f=t,p=!!i.streaming,d={};function _(){return{sdk:m(),configuration:(t={customBaseURI:i.baseUrl!==ci.baseUrl.default,customStreamURI:i.streamUrl!==ci.streamUrl.default,customEventsURI:i.eventsUrl!==ci.eventsUrl.default,eventsCapacity:i.eventCapacity,eventsFlushIntervalMillis:i.flushInterval,reconnectTimeMillis:i.streamReconnectDelay,streamingDisabled:!p,allAttributesPrivate:!!i.allAttributesPrivate,inlineUsersInEvents:!!i.inlineUsersInEvents,diagnosticRecordingIntervalMillis:i.diagnosticRecordingInterval,usingSecureMode:!!i.hash,bootstrapMode:!!i.bootstrap,fetchGoalsDisabled:!i.fetchGoals,allowFrequentDuplicateEvents:!!i.allowFrequentDuplicateEvents,sendEventsOnlyForVariation:!!i.sendEventsOnlyForVariation,autoAliasingOptOut:!!i.autoAliasingOptOut},t),platform:e.diagnosticPlatformData};var t}function g(e){i.logger&&i.logger.debug(ni.debugPostingDiagnosticEvent(e)),n.sendEvents(e,l,!0).then((function(){})).catch((function(){}))}function v(){var t,n;g((t=(new Date).getTime(),n=Ln({kind:u?"diagnostic-combined":"diagnostic",id:s,creationDate:t},f.getProps()),u&&(n=Ln({},n,{},_())),f.reset(t),n)),o=setTimeout(v,h),a=(new Date).getTime(),u&&function(){if(e.localStorage){var t=Ln({},f.getProps());e.localStorage.set(c,JSON.stringify(t),(function(){}))}}()}function m(){var t=Ln({},e.diagnosticSdkData);return i.wrapperName&&(t.wrapperName=i.wrapperName),i.wrapperVersion&&(t.wrapperVersion=i.wrapperVersion),t}return d.start=function(){u?function(t){if(!e.localStorage)return t(!1);e.localStorage.get(c).then((function(e){if(e)try{var n=JSON.parse(e);f.setProps(n),a=n.dataSinceDate}catch(e){}t(!0)})).catch((function(){t(!1)}))}((function(e){if(e){var t=(a||0)+h,n=(new Date).getTime();n>=t?v():o=setTimeout(v,t-n)}else 0===Math.floor(4*Math.random())?v():o=setTimeout(v,h)})):(g(Ln({kind:"diagnostic-init",id:s,creationDate:f.getProps().dataSinceDate},_())),o=setTimeout(v,h))},d.stop=function(){o&&clearTimeout(o)},d.setStreaming=function(e){p=e},d}(r,y,g,d,f,m):null,w=ii(r,f,d,y),x=f.eventProcessor||function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o={},u=a||Fr(e,n,t),c=t.eventsUrl+"/events/bulk/"+n,l=Pr(),h=Or(t),f=t.inlineUsersInEvents,p=t.samplingInterval,d=t.eventCapacity,_=t.flushInterval,g=t.logger,v=[],m=0,y=!1,b=!1;function w(){return 0===p||0===Math.floor(Math.random()*p)}function x(e){return!!e.debugEventsUntilDate&&e.debugEventsUntilDate>m&&e.debugEventsUntilDate>(new Date).getTime()}function S(e){var t=_r({},e);return"alias"===e.kind||(f||"identify"===e.kind?t.user=h.filterUser(e.user):(t.userKey=e.user.key,delete t.user),"feature"===e.kind&&(delete t.trackEvents,delete t.debugEventsUntilDate)),t}function E(e){v.length<d?(v.push(e),b=!1):(b||(b=!0,g.warn("Exceeded event queue capacity. Increase capacity to avoid dropping events.")),i&&i.incrementDroppedEvents())}return o.enqueue=function(e){if(!y){var t=!1,n=!1;if(l.summarizeEvent(e),"feature"===e.kind?w()&&(t=!!e.trackEvents,n=x(e)):t=w(),t&&E(S(e)),n){var r=_r({},e,{kind:"debug"});r.user=h.filterUser(r.user),delete r.trackEvents,delete r.debugEventsUntilDate,E(r)}}},o.flush=function(){if(y)return Promise.resolve();var e=v,t=l.getSummary();return l.clearSummary(),t&&(t.kind="summary",e.push(t)),i&&i.setEventsInLastBatch(e.length),0===e.length?Promise.resolve():(v=[],g.debug(ti(e.length)),u.sendEvents(e,c).then((function(e){e&&(e.serverTime&&(m=e.serverTime),Kn(e.status)||(y=!0),e.status>=400&&or((function(){s.maybeReportError(new Mn(Hr(e.status,"event posting","some events were dropped")))})))})))},o.start=function(){r=setTimeout((function e(){o.flush(),r=setTimeout(e,_)}),_)},o.stop=function(){clearTimeout(r)},o}(r,f,d,y,l,g),S=si(r,f,d),E={},k={},F=f.streaming,P=!1,O=!1,R=!0,j=f.stateProvider,A=function(e,t){var n,r={setUser:function(e){var r=n&&sr(n);(n=vr(e))&&t&&t(sr(n),r)},getUser:function(){return n?sr(n):null}};return r}(0,(function(e,t){(function(e){j||e&&C({kind:"identify",key:e.key,user:e,creationDate:(new Date).getTime()})})(e),!f.autoAliasingOptOut&&t&&t.anonymous&&e&&!e.anonymous&&U(e,t)})),T=ai(r.localStorage,c);function C(e){if(d&&!(j&&j.enqueueEvent&&j.enqueueEvent(e))){if("alias"!==e.kind){if(!e.user)return void(R&&(c.warn("Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"),R=!1));R=!1}!p||O||r.isDoNotTrack()||(c.debug(ei(e.kind)),x.enqueue(e))}}function I(e,t,n,r){var i=A.getUser(),s=new Date,a=t?t.value:null;if(!f.allowFrequentDuplicateEvents){var o=JSON.stringify(a)+(i&&i.key?i.key:"")+e,u=E[o];if(u&&s-u<3e5)return;E[o]=s}var c={kind:"feature",key:e,user:i,value:a,variation:t?t.variationIndex:null,default:n,creationDate:s.getTime()};i&&i.anonymous&&(c.contextKind=L(i));var l=k[e];l&&(c.version=l.flagVersion?l.flagVersion:l.version,c.trackEvents=l.trackEvents,c.debugEventsUntilDate=l.debugEventsUntilDate),(r||l&&l.trackReason)&&t&&(c.reason=t.reason),C(c)}function N(e,t,n,r){var i;if(k&&gr(k,e)&&k[e]&&!k[e].deleted){var s=k[e];i=D(s),null!==s.value&&void 0!==s.value||(i.value=t)}else i={value:t,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return n&&I(e,i,t,r),i}function D(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function L(e){return e.anonymous?"anonymousUser":"user"}function U(e,t){j||e&&t&&C({kind:"alias",key:e.key,contextKind:L(e),previousKey:t.key,previousContextKind:L(t),creationDate:(new Date).getTime()})}function M(){a=!0,A.getUser()&&w.connect(A.getUser(),_,{ping:function(){c.debug("received ping message from stream");var e=A.getUser();S.fetchFlagSettings(e,_).then((function(t){ar(e,A.getUser())&&H(t||{})})).catch((function(e){l.maybeReportError(new zn(Dr(e)))}))},put:function(e){var t=JSON.parse(e.data);c.debug("received streaming update for all flags"),H(t)},patch:function(e){var t=JSON.parse(e.data),n=k[t.key];if(!n||!n.version||!t.version||n.version<t.version){c.debug($r(t.key));var r={},i=_r({},t);delete i.key,k[t.key]=i;var s=D(i);r[t.key]=n?{previous:n.value,current:s}:{current:s},V(r)}else c.debug(Qr(t.key))},delete:function(e){var t=JSON.parse(e.data);if(!k[t.key]||k[t.key].version<t.version){c.debug(Yr(t.key));var n={};k[t.key]&&!k[t.key].deleted&&(n[t.key]={previous:k[t.key].value}),k[t.key]={version:t.version,deleted:!0},V(n)}else c.debug(Xr(t.key))}})}function B(){a&&(w.disconnect(),a=!1)}function H(e){var t={};if(!e)return Promise.resolve();for(var n in k)gr(k,n)&&k[n]&&(e[n]&&!ar(e[n].value,k[n].value)?t[n]={previous:k[n].value,current:D(e[n])}:e[n]&&!e[n].deleted||(t[n]={previous:k[n].value}));for(var r in e)gr(e,r)&&e[r]&&(!k[r]||k[r].deleted)&&(t[r]={current:D(e[r])});return k=Ln({},e),V(t).catch((function(){}))}function V(e){var t=Object.keys(e);if(t.length>0){var n={};t.forEach((function(t){var r=e[t].current,i=r?r.value:void 0,s=e[t].previous;l.emit("change:"+t,i,s),n[t]=r?{current:i,previous:s}:{previous:s}})),l.emit("change",n),l.emit("internal-change",k),f.sendEventsOnlyForVariation||j||t.forEach((function(t){I(t,e[t].current)}))}return s&&u?u.saveFlags(k).catch((function(){return null})):Promise.resolve()}function Z(){var e=F||o&&void 0===F;e&&!a?M():!e&&a&&B(),b&&b.setStreaming(e)}function z(e){return"change"===e||"change:"===e.substr(0,"change".length+1)}if(r.localStorage&&(u=new ri(r.localStorage,d,_,A,c)),"string"==typeof f.bootstrap&&"LOCALSTORAGE"===f.bootstrap.toUpperCase()&&(u?s=!0:c.warn("localStorage is unavailable")),"object"===In(f.bootstrap)&&(k=function(e){var t=Object.keys(e),n=e.$flagsState;!n&&t.length&&c.warn(Mr()),!1===e.$valid&&c.warn("LaunchDarkly bootstrap data is not available because the back end could not read the flags.");var r={};return t.forEach((function(t){if("$flagsState"!==t&&"$valid"!==t){var i={value:e[t]};n&&n[t]?i=_r(i,n[t]):i.version=0,r[t]=i}})),r}(f.bootstrap)),j){var K=j.getInitialState();K?q(K):j.on("init",q),j.on("update",(function(e){e.user&&A.setUser(e.user),e.flags&&H(e.flags)}))}else(e?T.validateUser(t).then((function(e){return A.setUser(e),"object"===In(f.bootstrap)?W():s?u.loadFlags().catch((function(){return null})).then((function(e){return null==e?(k={},S.fetchFlagSettings(A.getUser(),_).then((function(e){return H(e||{})})).then(W).catch((function(e){J(new zn(Dr(e)))}))):(k=e,or(W),S.fetchFlagSettings(A.getUser(),_).then((function(e){return H(e)})).catch((function(e){return l.maybeReportError(e)})))})):S.fetchFlagSettings(A.getUser(),_).then((function(e){k=e||{},W()})).catch((function(e){k={},J(e)}))})):Promise.reject(new Bn(Nr()))).catch(J);function q(e){d=e.environment,A.setUser(e.user),k=Ln({},e.flags),or(W)}function W(){c.info("LaunchDarkly client initialized"),P=!0,Z(),h.signalSuccess()}function J(e){h.signalFailure(e)}return{client:{waitForInitialization:function(){return h.getInitializationPromise()},waitUntilReady:function(){return h.getReadyPromise()},identify:function(e,t,n){return O?ur(Promise.resolve({}),n):j?(c.warn("identify() has no effect here; it must be called on the main client instance"),ur(Promise.resolve(lr(k)),n)):ur((s&&u?u.clearFlags():Promise.resolve()).then((function(){return T.validateUser(e)})).then((function(e){return S.fetchFlagSettings(e,t).then((function(n){var r=lr(n);return A.setUser(e),_=t,n?H(n).then((function(){return r})):r}))})).then((function(e){return a&&M(),e})).catch((function(e){return l.maybeReportError(e),Promise.reject(e)})),n)},getUser:function(){return A.getUser()},variation:function(e,t){return N(e,t,!0,!1).value},variationDetail:function(e,t){return N(e,t,!0,!0)},track:function(e,t,n){if("string"==typeof e){r.customEventFilter&&!r.customEventFilter(e)&&c.warn(Cr(e));var i=A.getUser(),s={kind:"custom",key:e,user:i,url:r.getCurrentUrl(),creationDate:(new Date).getTime()};i&&i.anonymous&&(s.contextKind=L(i)),null!=t&&(s.data=t),null!=n&&(s.metricValue=n),C(s)}else l.maybeReportError(new Vn(Cr(e)))},alias:U,on:function(e,t,n){z(e)?(o=!0,P&&Z(),l.on(e,t,n)):l.on.apply(l,arguments)},off:function(e){if(l.off.apply(l,arguments),z(e)){var t=!1;l.getEvents().forEach((function(e){z(e)&&l.getEventListenerCount(e)>0&&(t=!0)})),t||(o=!1,a&&void 0===F&&B())}},setStreaming:function(e){var t=null===e?void 0:e;t!==F&&(F=t,Z())},flush:function(e){return ur(p?x.flush():Promise.resolve(),e)},allFlags:function(){var e={};if(!k)return e;for(var t in k)gr(k,t)&&(e[t]=N(t,null,!f.sendEventsOnlyForVariation).value);return e},close:function(e){if(O)return ur(Promise.resolve(),e);var t=function(){O=!0,k={}};return ur(Promise.resolve().then((function(){if(B(),b&&b.stop(),p)return x.stop(),x.flush()})).then(t).catch(t),e)}},options:f,emitter:l,ident:A,logger:c,requestor:S,start:function(){p&&(b&&b.start(),x.start())},enqueueEvent:C,getFlagsInternal:function(){return k},getEnvironmentId:function(){return d},internalChangeEventName:"internal-change"}}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gi={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function vi(e){var t,n={synchronousFlush:!1};if(window.XMLHttpRequest){var r=e&&e.disableSyncEventPost;n.httpRequest=function(e,t,i,s){var a=n.synchronousFlush&!r;return n.synchronousFlush=!1,function(e,t,n,r,i){if(i&&!function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t=e.match(/Chrom(e|ium)\/([0-9]+)\./);if(t)return parseInt(t[2],10)<73}return!0}())return gi;var s,a=new window.XMLHttpRequest;for(var o in a.open(e,t,!i),n||{})Object.prototype.hasOwnProperty.call(n,o)&&a.setRequestHeader(o,n[o]);return i?(a.send(r),gi):{promise:new Promise((function(e,t){a.addEventListener("load",(function(){s||e({status:a.status,header:function(e){return a.getResponseHeader(e)},body:a.responseText})})),a.addEventListener("error",(function(){s||t(new Error)})),a.send(r)})),cancel:function(){s=!0,a.abort()}}}(e,t,i,s,a)}}n.httpAllowsPost=function(){return void 0===t&&(t=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),t},n.httpFallbackPing=function(e){(new window.Image).src=e};var i,s=e&&e.eventUrlTransformer;n.getCurrentUrl=function(){return s?s(window.location.href):window.location.href},n.isDoNotTrack=function(){var e;return 1===(e=window.navigator&&void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||"1"===e||"yes"===e};try{window.localStorage&&(n.localStorage={get:function(e){return new Promise((function(t){t(window.localStorage.getItem(e))}))},set:function(e,t){return new Promise((function(n){window.localStorage.setItem(e,t),n()}))},clear:function(e){return new Promise((function(t){window.localStorage.removeItem(e),t()}))}})}catch(e){n.localStorage=null}if(e&&e.useReport&&"function"==typeof window.EventSourcePolyfill&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(n.eventSourceAllowsReport=!0,i=window.EventSourcePolyfill):(n.eventSourceAllowsReport=!1,i=window.EventSource),window.EventSource){var a=3e5;n.eventSourceFactory=function(e,t){var n=_i(_i({},{heartbeatTimeout:a,silentTimeout:a,skipDefaultHeaders:!0}),t);return new i(e,n)},n.eventSourceIsActive=function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING}}return n.userAgent="JSClient",n.version="2.20.0",n.diagnosticSdkData={name:"js-client-sdk",version:"2.20.0"},n.diagnosticPlatformData={name:"JS"},n.diagnosticUseCombinedEvent=!0,n}var mi=/[|\\{}()[\]^$+*?.]/g,yi=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(mi,"\\$&")};function bi(e,t,n,r){var i,s,a=("substring"!==e.kind&&"regex"!==e.kind||!r.includes("/")?t.replace(r,""):t).replace(n,"");switch(e.kind){case"exact":s=t,i=new RegExp("^"+yi(e.url)+"/?$");break;case"canonical":s=a,i=new RegExp("^"+yi(e.url)+"/?$");break;case"substring":s=a,i=new RegExp(".*"+yi(e.substring)+".*$");break;case"regex":s=a,i=new RegExp(e.pattern);break;default:return!1}return i.test(s)}function wi(e,t){for(var n={},r=null,i=[],s=0;s<e.length;s++)for(var a=e[s],o=a.urls||[],u=0;u<o.length;u++)if(bi(o[u],window.location.href,window.location.search,window.location.hash)){"pageview"===a.kind?t("pageview",a):(i.push(a),t("click_pageview",a));break}return i.length>0&&(r=function(e){for(var n=function(e,t){for(var n=[],r=0;r<t.length;r++)for(var i=e.target,s=t[r],a=s.selector,o=document.querySelectorAll(a);i&&o.length>0;){for(var u=0;u<o.length;u++)i===o[u]&&n.push(s);i=i.parentNode}return n}(e,i),r=0;r<n.length;r++)t("click",n[r])},document.addEventListener("click",r)),n.dispose=function(){document.removeEventListener("click",r)},n}function xi(e,t){var n,r;function i(){r&&r.dispose(),n&&n.length&&(r=wi(n,s))}function s(t,n){var r=e.ident.getUser(),i={kind:t,key:n.key,data:null,url:window.location.href,user:r,creationDate:(new Date).getTime()};return r&&r.anonymous&&(i.contextKind="anonymousUser"),"click"===t&&(i.selector=n.selector),e.enqueueEvent(i)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then((function(e){e&&e.length>0&&(r=wi(n=e,s),function(e,t){var n,r=window.location.href;function i(){(n=window.location.href)!==r&&(r=n,t())}!function e(t,n){t(),setTimeout((function(){e(t,n)}),n)}(i,300),window.history&&window.history.pushState?window.addEventListener("popstate",i):window.addEventListener("hashchange",i)}(0,i)),t()})).catch((function(n){e.emitter.maybeReportError(new qn.LDUnexpectedResponseError((n&&n.message,n.message))),t()})),{}}var Si={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function Ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=vi(n),i=fi(e,t,n,r,Si),s=i.client,a=i.options,o=i.emitter,u=new Promise((function(e){var t=o.on("goalsReady",(function(){o.off("goalsReady",t),e()}))}));s.waitUntilGoalsReady=function(){return u},a.fetchGoals?xi(i,(function(){return o.emit("goalsReady")})):o.emit("goalsReady"),"complete"!==document.readyState?window.addEventListener("load",i.start):i.start();var c=function(){r.synchronousFlush=!0,s.flush().catch((function(){})),r.synchronousFlush=!1};return window.addEventListener("beforeunload",c),window.addEventListener("unload",c),s}var ki,Fi=new Uint8Array(16);function Pi(){if(!ki&&!(ki="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ki(Fi)}var Oi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ri=function(e){return"string"===typeof e&&Oi.test(e)},ji=[],Ai=0;Ai<256;++Ai)ji.push((Ai+256).toString(16).substr(1));var Ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ji[e[t+0]]+ji[e[t+1]]+ji[e[t+2]]+ji[e[t+3]]+"-"+ji[e[t+4]]+ji[e[t+5]]+"-"+ji[e[t+6]]+ji[e[t+7]]+"-"+ji[e[t+8]]+ji[e[t+9]]+"-"+ji[e[t+10]]+ji[e[t+11]]+ji[e[t+12]]+ji[e[t+13]]+ji[e[t+14]]+ji[e[t+15]]).toLowerCase();if(!Ri(n))throw TypeError("Stringified UUID is invalid");return n};var Ci=function(e,t,n){var r=(e=e||{}).random||(e.rng||Pi)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Ti(r)},Ii=function(e){var t=h.Z.LAUNCHDARKLY_CLIENT_ID,n=(0,a.useRef)(null),r=(0,g.a)();return(0,a.useEffect)((function(){n.current=Ei(t,r.accessToken?function(e){var t,n,r,i=Number(null!==(t=e.ultimateSite)&&void 0!==t?t:"0");return{key:e.sub,name:null===(n=e.email)||void 0===n?void 0:n.toUpperCase(),email:null===(r=e.email)||void 0===r?void 0:r.toUpperCase(),custom:{UltimateId:isNaN(i)?0:i}}}(r):function(){var e="LD_ANONYMOUS_USER_KEY",t=window.localStorage.getItem(e);return null===t&&(t=Ci(),window.localStorage.setItem(e,t)),{key:t,anonymous:!0}}(),{bootstrap:"localStorage"});n.current.on("ready",(function(){if(n.current){var e=n.current.allFlags();v.j.replace(e);var t=function(e){n.current.on("change:".concat(e),(function(t){v.j.update((function(n){n[e]=t}))}))};for(var r in e)t(r)}}))}),[r,t]),(0,O.jsx)(O.Fragment,{children:e.children})},Ni=n(71747),Di=n(58679),Li=function(e){var t,n,r=(0,c.useRouter)(),i=(0,v.L)(),s=(0,H.k)().session,o=i[f.DY]&&r.pathname===p.Od,u=i[f.DY]&&r.pathname===p.Kh,l=!(null===s||void 0===s||!s.subscription),h=(null===s||void 0===s||null===(t=s.subscription)||void 0===t?void 0:t.tier)===Ni.K.Trial&&(null===s||void 0===s||null===(n=s.subscription)||void 0===n?void 0:n.state)===Di.j.Active;return(0,a.useEffect)((function(){if((o||u)&&l){var e=p.ih;o&&h&&(e+="?welcome=true"),r.push(e)}}),[r,h,o,u,l]),(0,O.jsx)(O.Fragment,{children:e.children})},Ui=n(75409),Mi=function(e){var t=(0,v.L)(),n=(0,c.useRouter)(),r=(0,H.k)().session,i=(0,a.useState)(!0),s=i[0],o=i[1],u=(0,a.useState)(!1),l=u[0],h=u[1],d=!(null===r||void 0===r||!r.subscription);return(0,a.useEffect)((function(){r&&!d&&!0!==r.profile.trialPromptShown&&t[f.DY]&&n.pathname!==p.sz&&n.pathname!==p.Od&&!l?o(!0):o(!1)}),[n,t,r,l,d]),(0,O.jsxs)(O.Fragment,{children:[e.children,s&&(0,O.jsx)(Ui.Z,{givenName:null===r||void 0===r?void 0:r.profile.givenName,closeModal:function(){o(!1),h(!0)}})]})};function Bi(e){var t=(0,Cn.m)(),n=t.isLoaded,r=t.isLoggedIn,i=t.silentSignin;return(0,a.useEffect)((function(){n&&!r&&i()}),[n,r,i]),(0,O.jsx)(_.eA,{children:(0,O.jsx)(Ii,{children:(0,O.jsx)(Li,{children:(0,O.jsx)(Mi,{children:(0,O.jsx)(Tn,{children:e.children})})})})})}var Hi=n(20949),Vi=n(4730),Zi=(n(2194),["children","className"]);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e){var t=e.children,n=e.className,r=(0,Vi.Z)(e,Zi);return(0,O.jsxs)(k.Z,Ki(Ki({className:u()(["external-link",n]),target:"_blank"},r),{},{children:[t,(0,O.jsx)(N.M5i,{})]}))}n(96905);var Wi=["className","image","children","type"];function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e){var t=e.className,n=e.image,r=e.children,i=e.type,s=void 0===i?"default":i,a=(0,Vi.Z)(e,Wi);return(0,O.jsxs)(E.Blockquote,Gi(Gi({className:u()(["important-update-blockquote",t]),"data-type":s},a),{},{children:[(0,O.jsx)("div",{className:"content-text",children:r}),n&&(0,O.jsx)("div",{className:"content-image",children:n})]}))}n(86902);function Qi(e){var t=e.title,n=e.onClose;return(0,O.jsxs)("div",{className:"dialog-heading",children:[n&&(0,O.jsxs)("button",{id:"back-button",className:"link",onClick:n,children:[(0,O.jsx)(N.CZ_,{className:"chevron-back"}),(0,O.jsx)(E.Text,{children:"Back"})]}),(0,O.jsx)(E.Text,{variant:"leading",children:t})]})}function Yi(e){var t=e.title,n=e.onClose,r=e.children;return(0,O.jsxs)(O.Fragment,{children:[t&&(0,O.jsx)(Qi,{onClose:n,title:t}),(0,O.jsx)("div",{className:"dialog-content",children:r})]})}n(50231);function Xi(){return(0,O.jsx)("div",{className:"account-admins empty",children:(0,O.jsx)(E.Text,{children:"No account administrators found."})})}function es(e){var t=e.listOfAdmins;return 0===t.length?(0,O.jsx)(Xi,{}):(0,O.jsx)("div",{className:"account-admins loaded",children:(0,O.jsx)("ul",{children:t.sort((function(e,t){return e.localeCompare(t)})).map((function(e){return(0,O.jsx)("li",{children:(0,O.jsx)(k.Z,{href:"mailto:".concat(e),target:"_blank",children:e})},e)}))})})}function ts(){return(0,O.jsxs)("div",{className:"account-admins loading",children:[(0,O.jsx)(E.ProgressRadial,{indeterminate:!0}),(0,O.jsx)(E.Text,{children:"Loading account administrators"})]})}function ns(){var e=(0,Hi.A)(),t=(0,a.useState)([]),n=t[0],r=t[1],i=(0,a.useState)(!1),s=i[0],o=i[1];return(0,a.useEffect)((function(){0===n.length&&(o(!0),e.getAllOrganizationAdminsEmails().then((function(e){r(e)})).catch((function(e){var t,n;E.toaster.negative("Unable to get account administrators: ".concat(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:e))})).finally((function(){return o(!1)})))}),[e,n]),s?(0,O.jsx)(ts,{}):(0,O.jsx)(es,{listOfAdmins:n})}function rs(e){return(0,O.jsx)(Yi,{onClose:e.onClose,title:"Account administrators for your organization",children:(0,O.jsx)(ns,{})})}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var as=function(e){return(0,O.jsxs)("svg",ss(ss({},e),{},{children:[(0,O.jsxs)("defs",{children:[(0,O.jsx)("clipPath",{id:"clip2",children:(0,O.jsx)("use",{xlinkHref:"#path1"})}),(0,O.jsx)("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter3",children:(0,O.jsx)("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0",in:"SourceGraphic"})}),(0,O.jsxs)("style",{children:[".cls-1","{","fill:#000e25","}",".cls-2","{","fill:#fff","}",".cls-3","{","fill:#f18b12","}",".cls-4","{","fill:#85a9cf","}",".cls-5","{","fill:#91b2d4","}",".cls-6","{","fill:#333","}",".cls-7","{","fill:#acacac","}",".cls-8","{","fill:#c7ccd1","}",".cls-9","{","fill:#d9dbde","}",".cls-10","{","fill:#424242","}",".cls-11","{","fill:#2e383d","}"]}),(0,O.jsx)("path",{d:"M0 0h321v366.5H0Z",fillRule:"evenodd",fill:"#000",id:"path1"})]}),(0,O.jsxs)("g",{transform:"matrix(.63551 0 0 .63551 0 .042)",clipPath:"url(#clip2)",filter:"url(#filter3)",children:[(0,O.jsx)("path",{className:"cls-1",d:"M.5.5h320v55H.5z"}),(0,O.jsx)("path",{className:"cls-11",d:"M.5 55.51h320v.99H.5z"}),(0,O.jsx)("path",{className:"cls-1",d:"M.5 56.5h320v309H.5z"}),(0,O.jsx)("path",{className:"cls-2",d:"M98.5 55.5h222v265h-222z"}),(0,O.jsx)("path",{className:"cls-8",d:"M98.5 122.5h222v1h-222zM98.5 240.5h222v1h-222zM98.5 280.5h222v1h-222z"}),(0,O.jsx)("path",{className:"cls-9",d:"M181.68 26.28c0 1.01-.34 1.79-1.04 2.33-.69.54-1.68.82-2.96.82h-1.18v3.93h-1.16v-9.99h2.59c2.5 0 3.75.97 3.75 2.91Zm-5.17 2.15h1.04c1.03 0 1.78-.17 2.24-.5.46-.33.69-.87.69-1.6 0-.66-.22-1.15-.65-1.48-.43-.32-1.11-.49-2.02-.49h-1.3v4.06ZM187.02 25.73c.33 0 .63.03.89.08l-.16 1.05c-.31-.07-.58-.1-.82-.1-.61 0-1.12.25-1.56.74s-.65 1.11-.65 1.84v4.02h-1.13v-7.49h.94l.13 1.39h.05c.28-.49.61-.86 1-1.13.39-.26.82-.4 1.29-.4ZM189.22 23.83c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18c.13.12.2.31.2.57s-.07.45-.2.57c-.13.12-.29.19-.47.19-.19 0-.35-.06-.48-.19s-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM195.85 33.49c-1.08 0-1.92-.33-2.52-1-.59-.67-.89-1.61-.89-2.83s.3-2.22.91-2.91 1.46-1.03 2.58-1.03c.36 0 .72.04 1.08.12.36.08.64.17.85.27l-.35.96c-.25-.1-.52-.18-.82-.25-.3-.07-.56-.1-.79-.1-1.52 0-2.28.97-2.28 2.91 0 .92.19 1.63.56 2.12s.92.74 1.65.74c.62 0 1.26-.13 1.92-.4v1c-.5.26-1.13.39-1.89.39ZM199.43 23.83c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18c.13.12.2.31.2.57s-.07.45-.2.57c-.13.12-.29.19-.47.19s-.35-.06-.48-.19-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM208.19 33.36v-4.85c0-.61-.14-1.07-.42-1.37-.28-.3-.71-.45-1.31-.45-.78 0-1.36.21-1.72.64-.36.42-.55 1.12-.55 2.1v3.93h-1.13v-7.49h.92l.18 1.03h.05c.23-.37.56-.66.98-.86.42-.2.89-.3 1.4-.3.9 0 1.58.22 2.04.65.46.44.68 1.13.68 2.09v4.89h-1.13ZM217.79 25.87v.72l-1.39.16c.13.16.24.37.34.63.1.26.15.55.15.87 0 .73-.25 1.32-.75 1.76-.5.44-1.19.66-2.06.66-.22 0-.43-.02-.63-.05-.48.25-.72.58-.72.96 0 .21.08.36.25.46.17.1.46.15.87.15h1.33c.81 0 1.43.17 1.87.51s.65.84.65 1.49c0 .83-.33 1.46-1 1.9-.67.43-1.64.65-2.91.65-.98 0-1.73-.18-2.27-.55s-.8-.88-.8-1.54c0-.46.15-.85.44-1.18.29-.33.7-.56 1.23-.68-.19-.09-.35-.22-.48-.4s-.19-.39-.19-.64c0-.27.07-.51.22-.72.15-.21.38-.4.69-.59-.39-.16-.7-.43-.95-.81s-.37-.82-.37-1.31c0-.82.25-1.45.74-1.9.49-.44 1.19-.67 2.09-.67.39 0 .75.05 1.06.14h2.59Zm-5.97 8.75c0 .41.17.71.51.92s.83.31 1.47.31c.95 0 1.66-.14 2.12-.43.46-.29.69-.67.69-1.16 0-.41-.12-.69-.38-.84-.25-.16-.72-.24-1.42-.24h-1.36c-.52 0-.92.12-1.2.37s-.43.6-.43 1.06Zm.62-6.35c0 .52.15.92.45 1.19.3.27.71.4 1.24.4 1.11 0 1.66-.54 1.66-1.61s-.56-1.69-1.68-1.69c-.53 0-.94.14-1.23.43s-.43.71-.43 1.28Z"}),(0,O.jsx)("path",{className:"cls-10",d:"M110.88 86.37c-.49 0-.88-.07-1.16-.21v-1.13c.37.1.76.16 1.16.16.52 0 .91-.16 1.18-.47.27-.31.4-.76.4-1.35V71.95h1.33v11.31c0 .99-.25 1.76-.75 2.3s-1.22.82-2.16.82ZM124.01 79.07c0 1.4-.35 2.49-1.05 3.27s-1.67 1.18-2.91 1.18c-.77 0-1.45-.18-2.04-.54s-1.05-.88-1.38-1.55c-.32-.67-.48-1.46-.48-2.36 0-1.4.35-2.48 1.05-3.26.7-.78 1.67-1.17 2.91-1.17s2.15.4 2.86 1.2c.71.8 1.06 1.88 1.06 3.23Zm-6.52 0c0 1.09.22 1.93.66 2.5s1.08.86 1.93.86 1.49-.29 1.93-.86c.44-.57.66-1.41.66-2.5s-.22-1.92-.66-2.48c-.44-.57-1.09-.85-1.95-.85s-1.49.28-1.92.84c-.43.56-.65 1.39-.65 2.49ZM132.14 83.36v-5.54c0-.7-.16-1.22-.48-1.56-.32-.34-.82-.52-1.49-.52-.9 0-1.56.25-1.97.73s-.62 1.29-.62 2.41v4.48h-1.3V71.2h1.3v3.68c0 .44-.02.81-.06 1.1h.08c.25-.41.62-.74 1.09-.97.47-.24 1.01-.36 1.61-.36 1.05 0 1.83.25 2.36.75s.79 1.29.79 2.37v5.59h-1.3ZM141.96 83.36v-5.54c0-.7-.16-1.22-.48-1.56-.32-.34-.81-.52-1.49-.52-.9 0-1.55.24-1.97.73-.42.48-.62 1.28-.62 2.4v4.49h-1.3V74.8h1.05l.21 1.17h.06c.27-.42.64-.75 1.12-.98.48-.23 1.01-.35 1.6-.35 1.03 0 1.81.25 2.33.75s.78 1.29.78 2.39v5.59h-1.3ZM159.39 77.54c0 1.89-.51 3.33-1.54 4.32s-2.5 1.5-4.42 1.5h-3.16V71.94h3.5c1.78 0 3.16.49 4.14 1.48s1.48 2.36 1.48 4.12Zm-1.41.05c0-1.49-.37-2.61-1.12-3.37-.75-.75-1.86-1.13-3.33-1.13h-1.93v9.12h1.62c1.58 0 2.77-.39 3.57-1.17s1.2-1.93 1.2-3.46ZM169.13 79.07c0 1.4-.35 2.49-1.05 3.27s-1.67 1.18-2.91 1.18c-.77 0-1.45-.18-2.04-.54s-1.05-.88-1.38-1.55c-.32-.67-.48-1.46-.48-2.36 0-1.4.35-2.48 1.05-3.26.7-.78 1.67-1.17 2.91-1.17s2.15.4 2.86 1.2c.71.8 1.06 1.88 1.06 3.23Zm-6.52 0c0 1.09.22 1.93.66 2.5s1.08.86 1.93.86 1.49-.29 1.93-.86c.44-.57.66-1.41.66-2.5s-.22-1.92-.66-2.48c-.44-.57-1.09-.85-1.95-.85s-1.49.28-1.92.84c-.43.56-.65 1.39-.65 2.49ZM175.02 83.51c-1.27 0-2.26-.39-3-1.16-.73-.77-1.1-1.84-1.1-3.21s.34-2.48 1.02-3.29 1.59-1.22 2.74-1.22c1.07 0 1.92.35 2.55 1.06s.94 1.64.94 2.79v.82h-5.9c.03 1 .28 1.77.76 2.29s1.16.78 2.04.78c.92 0 1.83-.19 2.73-.58v1.16c-.46.2-.89.34-1.3.43-.41.09-.9.13-1.48.13Zm-.35-7.79c-.69 0-1.24.22-1.64.67-.41.45-.65 1.07-.72 1.86h4.48c0-.82-.18-1.44-.55-1.88-.36-.43-.88-.65-1.56-.65Z"}),(0,O.jsx)("path",{className:"cls-7",d:"M111.26 107.72c-.43 0-.78-.06-1.05-.17v-.92c.31.09.62.14.93.14.36 0 .62-.1.78-.29.17-.19.25-.49.25-.88v-8.72h1.13v8.64c0 1.48-.68 2.21-2.04 2.21Zm.81-12.89c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18.2.31.2.57-.07.45-.2.57c-.13.12-.29.19-.47.19-.19 0-.35-.06-.48-.19s-.19-.32-.19-.57ZM115.55 103.63c0-.31.07-.54.21-.69.14-.16.34-.24.6-.24s.47.08.62.24c.15.16.22.39.22.69s-.08.52-.23.68-.36.24-.62.24c-.23 0-.42-.07-.58-.22-.15-.14-.23-.38-.23-.71ZM124.54 103.35h-.06c-.52.76-1.31 1.14-2.35 1.14-.98 0-1.74-.33-2.29-1s-.82-1.62-.82-2.86.27-2.19.82-2.88 1.31-1.03 2.28-1.03 1.8.37 2.34 1.11h.09l-.05-.54-.03-.53v-3.05h1.13v10.64h-.92l-.15-1Zm-2.27.19c.77 0 1.34-.21 1.69-.63.35-.42.52-1.1.52-2.04v-.24c0-1.06-.18-1.82-.53-2.27-.35-.45-.92-.68-1.69-.68-.67 0-1.17.26-1.53.78-.35.52-.53 1.25-.53 2.19s.18 1.68.53 2.17.87.73 1.54.73ZM134.48 100.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35-.42-1.28-.42-2.06c0-1.22.31-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73-.57 1.21-.57 2.18ZM139.64 104.49c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.25 1.55.67 2s1.01.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.3.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.78-.57-1.37-.57ZM154.88 99.37c0 .65-.1 1.24-.3 1.78-.2.54-.48.96-.85 1.25-.36.3-.78.44-1.26.44-.39 0-.72-.12-.99-.36a1.43 1.43 0 0 1-.48-.91h-.05c-.18.4-.44.71-.78.93s-.74.33-1.21.33c-.68 0-1.22-.23-1.6-.7-.39-.47-.58-1.1-.58-1.9 0-.93.27-1.69.81-2.27.54-.58 1.24-.87 2.12-.87.31 0 .66.03 1.05.08.39.06.74.14 1.06.24l-.17 3.21v.15c0 .81.3 1.22.91 1.22.42 0 .75-.25 1.01-.73.26-.49.39-1.13.39-1.91 0-.83-.17-1.55-.51-2.17-.34-.62-.82-1.1-1.44-1.43-.62-.34-1.34-.5-2.14-.5-1.02 0-1.9.21-2.65.63-.75.42-1.33 1.02-1.72 1.8-.4.78-.6 1.69-.6 2.71 0 1.39.37 2.46 1.1 3.21.73.75 1.79 1.12 3.17 1.12.96 0 1.95-.2 2.98-.59v.91c-.88.38-1.87.57-2.98.57-1.65 0-2.94-.46-3.85-1.36-.91-.91-1.37-2.18-1.37-3.81 0-1.18.24-2.24.73-3.17.49-.92 1.18-1.64 2.09-2.15.9-.51 1.94-.76 3.1-.76.98 0 1.85.21 2.61.62.76.41 1.35 1 1.77 1.76.42.76.62 1.63.62 2.62Zm-7.07.9c0 1.16.45 1.74 1.33 1.74.94 0 1.46-.71 1.54-2.14l.1-1.78a4.07 4.07 0 0 0-1.07-.14c-.59 0-1.06.21-1.39.62s-.5.98-.5 1.71ZM160.4 96.74c.98 0 1.75.34 2.29 1.01.54.67.82 1.62.82 2.85s-.27 2.19-.82 2.87c-.55.68-1.31 1.02-2.29 1.02-.49 0-.93-.09-1.34-.27-.4-.18-.74-.46-1.01-.83h-.08l-.24.96h-.81V93.71h1.13v2.58c0 .58-.02 1.1-.05 1.56h.05c.53-.75 1.31-1.12 2.35-1.12Zm-.16.95c-.78 0-1.33.22-1.68.67-.34.44-.51 1.19-.51 2.25s.17 1.81.53 2.26c.35.45.91.68 1.69.68.7 0 1.22-.25 1.56-.76.34-.51.51-1.24.51-2.19s-.17-1.7-.51-2.18-.87-.72-1.59-.72ZM168.66 104.49c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.24 1.55.67 2s1.02.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.29.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.77-.57-1.37-.57ZM178.47 104.36v-4.85c0-.61-.14-1.07-.42-1.37-.28-.3-.71-.45-1.3-.45-.78 0-1.36.21-1.72.64-.37.42-.55 1.12-.55 2.1v3.93h-1.13v-7.49h.92l.19 1.03h.05c.23-.37.56-.66.98-.86.42-.2.89-.3 1.4-.3.9 0 1.58.22 2.04.65.46.44.68 1.13.68 2.09v4.89h-1.13ZM184.36 103.56c.2 0 .39-.01.58-.04.19-.03.33-.06.44-.09v.87c-.12.06-.3.11-.54.15-.24.04-.46.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88h-2.17v4.41c0 .45.11.8.32 1.04.21.24.51.36.88.36ZM188.02 104.36h-1.13V93.72h1.13v10.64ZM193.59 104.49c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.25 1.55.67 2s1.01.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.3.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.78-.57-1.37-.57ZM197.09 96.87h1.22l1.64 4.27c.36.98.58 1.68.67 2.11h.05c.06-.23.18-.63.37-1.19.19-.56.81-2.29 1.86-5.19h1.22l-3.22 8.53c-.32.84-.69 1.44-1.12 1.79-.43.35-.95.53-1.57.53-.35 0-.69-.04-1.03-.12v-.91c.25.05.53.08.84.08.78 0 1.33-.44 1.67-1.31l.42-1.07-3.02-7.53ZM205.17 103.63c0-.31.07-.54.21-.69.14-.16.34-.24.6-.24s.47.08.62.24c.15.16.22.39.22.69s-.08.52-.23.68-.36.24-.62.24c-.23 0-.42-.07-.58-.22-.15-.14-.23-.38-.23-.71ZM212.05 104.49c-1.08 0-1.92-.33-2.52-1-.59-.67-.89-1.61-.89-2.83s.3-2.22.91-2.91 1.46-1.03 2.58-1.03c.36 0 .72.04 1.08.12.36.08.64.17.85.27l-.35.96c-.25-.1-.52-.18-.82-.25-.3-.07-.56-.1-.79-.1-1.52 0-2.28.97-2.28 2.91 0 .92.19 1.63.56 2.12s.92.74 1.65.74c.62 0 1.26-.13 1.92-.4v1c-.5.26-1.13.39-1.89.39ZM222.19 100.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35c-.28-.59-.42-1.28-.42-2.06 0-1.22.3-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73c-.38.49-.57 1.21-.57 2.18ZM233.73 104.36v-4.87c0-.6-.13-1.04-.38-1.34-.25-.3-.65-.45-1.19-.45-.71 0-1.23.2-1.56.61-.34.41-.51 1.03-.51 1.87v4.18h-1.13v-4.87c0-.6-.13-1.04-.38-1.34-.26-.3-.65-.45-1.2-.45-.71 0-1.23.21-1.56.64-.33.43-.5 1.12-.5 2.09v3.93h-1.13v-7.49h.92l.19 1.03h.05c.21-.36.52-.65.91-.85s.83-.31 1.31-.31c1.17 0 1.94.42 2.3 1.27h.05c.22-.39.55-.7.97-.93s.91-.34 1.45-.34c.85 0 1.48.22 1.9.65.42.44.63 1.13.63 2.09v4.89h-1.13Z"}),(0,O.jsx)("path",{className:"cls-10",d:"M119.68 142.28c0 1.01-.35 1.79-1.04 2.33-.69.54-1.68.82-2.96.82h-1.18v3.93h-1.16v-9.99h2.59c2.5 0 3.75.97 3.75 2.91Zm-5.17 2.15h1.05c1.03 0 1.77-.17 2.24-.5s.69-.87.69-1.6c0-.66-.22-1.15-.65-1.48s-1.11-.49-2.02-.49h-1.3v4.06ZM125.02 141.73c.33 0 .63.03.9.08l-.16 1.05c-.31-.07-.58-.1-.82-.1-.61 0-1.12.25-1.56.74s-.65 1.11-.65 1.84v4.02h-1.13v-7.49h.94l.13 1.39h.05c.28-.49.61-.86 1-1.13s.82-.4 1.29-.4ZM133.78 145.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35-.42-1.28-.42-2.06c0-1.22.31-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73-.57 1.21-.57 2.18ZM139.15 142.75h-1.91v6.61h-1.13v-6.61h-1.34v-.51l1.34-.41v-.42c0-1.84.8-2.76 2.41-2.76.4 0 .86.08 1.39.24l-.29.91c-.44-.14-.81-.21-1.12-.21-.43 0-.75.14-.95.43-.21.28-.31.74-.31 1.37v.49h1.91v.88Zm1.27-2.91c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18c.13.12.2.31.2.57s-.07.45-.2.57c-.13.12-.29.19-.47.19s-.35-.06-.48-.19-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM145.19 149.36h-1.13v-10.64h1.13v10.64ZM150.76 149.49c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.24 1.55.67 2s1.02.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.29.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.77-.57-1.37-.57ZM117.77 187.36l-3.39-8.86h-.05c.06.7.1 1.54.1 2.5v6.36h-1.07v-9.99h1.75l3.17 8.24h.05l3.19-8.24h1.74v9.99h-1.16v-6.44c0-.74.03-1.54.1-2.41h-.05l-3.42 8.85h-.94ZM124.62 179.87h1.22l1.64 4.27c.36.98.58 1.68.67 2.11h.05c.06-.23.18-.63.37-1.19.19-.56.81-2.29 1.86-5.19h1.22l-3.22 8.53c-.32.84-.69 1.44-1.12 1.79-.43.35-.95.53-1.57.53-.35 0-.69-.04-1.03-.12v-.91c.25.05.53.08.84.08.78 0 1.34-.44 1.67-1.31l.42-1.07-3.02-7.53ZM142.96 187.36l-1.24-3.18h-4.01l-1.23 3.18h-1.18l3.95-10.04h.98l3.93 10.04h-1.2Zm-1.61-4.22-1.16-3.1c-.15-.39-.3-.87-.46-1.44-.1.44-.24.92-.43 1.44l-1.18 3.1h3.23ZM148.85 187.49c-.49 0-.93-.09-1.34-.27-.4-.18-.74-.46-1.01-.83h-.08c.05.44.08.85.08 1.24v3.08h-1.13v-10.86h.92l.16 1.03h.05c.29-.41.63-.71 1.02-.89.39-.18.83-.27 1.33-.27.99 0 1.76.34 2.3 1.02s.81 1.63.81 2.86-.27 2.19-.82 2.87c-.55.68-1.31 1.02-2.29 1.02Zm-.16-6.8c-.77 0-1.32.21-1.66.64s-.52 1.1-.53 2.02v.25c0 1.05.17 1.81.53 2.26.35.45.91.68 1.69.68.65 0 1.15-.26 1.52-.79s.55-1.25.55-2.17-.18-1.65-.55-2.15c-.37-.5-.88-.75-1.55-.75ZM157.43 187.49c-.49 0-.93-.09-1.34-.27-.4-.18-.74-.46-1.02-.83h-.08c.05.44.08.85.08 1.24v3.08h-1.13v-10.86h.92l.16 1.03h.05c.29-.41.63-.71 1.02-.89.39-.18.83-.27 1.33-.27.99 0 1.76.34 2.3 1.02s.81 1.63.81 2.86-.28 2.19-.82 2.87c-.55.68-1.31 1.02-2.29 1.02Zm-.16-6.8c-.77 0-1.32.21-1.66.64s-.52 1.1-.53 2.02v.25c0 1.05.18 1.81.53 2.26.35.45.91.68 1.69.68.65 0 1.15-.26 1.52-.79s.55-1.25.55-2.17-.18-1.65-.55-2.15c-.37-.5-.88-.75-1.55-.75ZM167.35 185.31c0 .7-.26 1.24-.78 1.61s-1.25.57-2.19.57c-.99 0-1.77-.16-2.32-.47v-1.05c.36.18.75.33 1.16.43s.81.16 1.19.16c.59 0 1.05-.09 1.37-.28.32-.19.48-.48.48-.86 0-.29-.13-.54-.38-.75-.25-.21-.75-.45-1.48-.73-.7-.26-1.19-.49-1.49-.68-.29-.19-.51-.41-.66-.66s-.21-.54-.21-.88c0-.61.25-1.09.74-1.45.5-.35 1.18-.53 2.04-.53.81 0 1.59.16 2.37.49l-.4.92c-.75-.31-1.43-.46-2.04-.46-.54 0-.94.08-1.22.25s-.41.4-.41.7c0 .2.05.37.15.51s.27.28.5.4c.23.13.67.31 1.31.55.89.32 1.49.65 1.8.98s.47.74.47 1.24ZM117.77 225.36l-3.39-8.86h-.05c.06.7.1 1.54.1 2.5v6.36h-1.07v-9.99h1.75l3.17 8.24h.05l3.19-8.24h1.74v9.99h-1.16v-6.44c0-.74.03-1.54.1-2.41h-.05l-3.42 8.85h-.94ZM124.62 217.87h1.22l1.64 4.27c.36.98.58 1.68.67 2.11h.05c.06-.23.18-.63.37-1.19.19-.56.81-2.29 1.86-5.19h1.22l-3.22 8.53c-.32.84-.69 1.44-1.12 1.79-.43.35-.95.53-1.57.53-.35 0-.69-.04-1.03-.12v-.91c.25.05.53.08.84.08.78 0 1.34-.44 1.67-1.31l.42-1.07-3.02-7.53ZM136.41 215.83c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18c.13.12.2.31.2.57s-.07.45-.2.57c-.13.12-.29.19-.47.19-.19 0-.35-.06-.48-.19s-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM144.64 225.36l-3.39-8.86h-.05c.06.7.1 1.54.1 2.5v6.36h-1.07v-9.99h1.75l3.17 8.24h.05l3.19-8.24h1.74v9.99h-1.16v-6.44c0-.74.03-1.54.1-2.41h-.05l-3.42 8.85h-.94ZM159.15 221.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35c-.28-.59-.42-1.28-.42-2.06 0-1.22.3-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73c-.38.49-.57 1.21-.57 2.18ZM166.24 224.35h-.06c-.52.76-1.31 1.14-2.35 1.14-.98 0-1.74-.33-2.29-1s-.82-1.62-.82-2.86.27-2.19.82-2.88 1.31-1.03 2.28-1.03 1.8.37 2.34 1.11h.09l-.05-.54-.03-.53v-3.05h1.13v10.64h-.92l-.15-1Zm-2.27.19c.77 0 1.34-.21 1.68-.63.35-.42.52-1.1.52-2.04v-.24c0-1.06-.18-1.82-.53-2.27-.35-.45-.92-.68-1.69-.68-.67 0-1.18.26-1.53.78-.35.52-.53 1.25-.53 2.19s.18 1.68.53 2.17c.35.49.87.73 1.54.73ZM172.88 225.49c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.24 1.55.67 2s1.02.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.29.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.77-.57-1.37-.57ZM178.71 225.36h-1.13v-10.64h1.13v10.64ZM185.95 223.31c0 .7-.26 1.24-.78 1.61s-1.25.57-2.19.57c-.99 0-1.77-.16-2.32-.47v-1.05c.36.18.75.33 1.16.43s.81.16 1.19.16c.59 0 1.05-.09 1.37-.28.32-.19.48-.48.48-.86 0-.29-.13-.54-.38-.75-.25-.21-.75-.45-1.48-.73-.7-.26-1.19-.49-1.49-.68-.29-.19-.51-.41-.66-.66s-.21-.54-.21-.88c0-.61.25-1.09.74-1.45.5-.35 1.18-.53 2.04-.53.81 0 1.59.16 2.37.49l-.4.92c-.75-.31-1.43-.46-2.04-.46-.54 0-.94.08-1.22.25s-.41.4-.41.7c0 .2.05.37.15.51s.27.28.5.4c.23.13.67.31 1.31.55.89.32 1.49.65 1.8.98s.47.74.47 1.24ZM143.47 265.1l-1.24-3.18h-4.01l-1.23 3.18h-1.18l3.95-10.04h.98l3.93 10.04h-1.2Zm-1.61-4.22-1.16-3.1c-.15-.39-.31-.87-.46-1.44-.1.44-.24.92-.43 1.44l-1.18 3.1h3.23ZM148.87 265.24c-1.08 0-1.92-.33-2.52-1-.59-.67-.89-1.61-.89-2.83s.3-2.22.91-2.91 1.46-1.03 2.58-1.03c.36 0 .72.04 1.08.12.36.08.64.17.85.27l-.35.96c-.25-.1-.52-.18-.82-.25-.3-.07-.56-.1-.79-.1-1.52 0-2.28.97-2.28 2.91 0 .92.19 1.63.56 2.12s.92.74 1.65.74c.62 0 1.27-.13 1.92-.4v1c-.5.26-1.13.39-1.89.39ZM155.54 265.24c-1.08 0-1.92-.33-2.52-1-.59-.67-.89-1.61-.89-2.83s.3-2.22.91-2.91 1.46-1.03 2.58-1.03c.36 0 .72.04 1.08.12.36.08.64.17.85.27l-.35.96c-.25-.1-.52-.18-.82-.25-.3-.07-.56-.1-.79-.1-1.52 0-2.28.97-2.28 2.91 0 .92.19 1.63.56 2.12s.92.74 1.65.74c.62 0 1.26-.13 1.92-.4v1c-.5.26-1.13.39-1.89.39ZM165.67 261.35c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35c-.28-.59-.42-1.28-.42-2.06 0-1.22.3-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73c-.38.49-.57 1.21-.57 2.18ZM168.73 257.61v4.86c0 .61.14 1.07.42 1.37.28.3.71.45 1.31.45.78 0 1.36-.21 1.72-.64s.54-1.13.54-2.1v-3.94h1.13v7.49h-.94l-.16-1h-.06c-.23.37-.55.65-.97.85s-.88.29-1.41.29c-.91 0-1.59-.22-2.05-.65s-.68-1.13-.68-2.08v-4.9h1.15ZM181.38 265.1v-4.85c0-.61-.14-1.07-.42-1.37-.28-.3-.71-.45-1.31-.45-.78 0-1.36.21-1.72.64-.36.42-.55 1.12-.55 2.1v3.93h-1.13v-7.49h.92l.18 1.03h.05c.23-.37.56-.66.98-.86.42-.2.89-.3 1.4-.3.9 0 1.58.22 2.04.65.46.44.68 1.13.68 2.09v4.89h-1.13ZM187.27 264.3c.2 0 .39-.01.58-.04.19-.03.34-.06.45-.09v.87c-.12.06-.3.11-.54.15-.24.04-.45.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88h-2.17v4.41c0 .45.11.8.32 1.04.21.24.51.36.88.36ZM198.26 263.06c0 .7-.26 1.24-.78 1.61s-1.25.57-2.19.57c-.99 0-1.77-.16-2.32-.47v-1.05c.36.18.75.33 1.16.43s.81.16 1.19.16c.59 0 1.05-.09 1.37-.28.32-.19.48-.48.48-.86 0-.29-.13-.54-.38-.75-.25-.21-.75-.45-1.48-.73-.7-.26-1.19-.49-1.49-.68-.29-.19-.51-.41-.66-.66s-.22-.54-.22-.88c0-.61.25-1.09.75-1.45.5-.35 1.18-.53 2.04-.53.81 0 1.6.16 2.37.49l-.4.92c-.75-.31-1.43-.46-2.04-.46-.54 0-.94.08-1.22.25s-.41.4-.41.7c0 .2.05.37.15.51s.27.28.5.4c.23.13.67.31 1.31.55.89.32 1.49.65 1.8.98s.47.74.47 1.24ZM203.27 265.24c-1.11 0-1.98-.34-2.62-1.01s-.96-1.61-.96-2.81.3-2.17.89-2.88 1.39-1.07 2.4-1.07c.94 0 1.68.31 2.23.93.55.62.82 1.43.82 2.44v.72h-5.16c.02.88.25 1.55.67 2s1.01.68 1.78.68c.81 0 1.6-.17 2.39-.51v1.01c-.4.17-.78.3-1.14.37-.36.08-.79.11-1.3.11Zm-.31-6.82c-.6 0-1.08.2-1.44.59s-.57.93-.63 1.63h3.92c0-.72-.16-1.26-.48-1.64-.32-.38-.78-.57-1.37-.57ZM210.38 264.3c.2 0 .39-.01.58-.04.19-.03.33-.06.44-.09v.87c-.12.06-.3.11-.54.15-.24.04-.46.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88h-2.17v4.41c0 .45.11.8.32 1.04.21.24.51.36.88.36ZM215.32 264.3c.2 0 .39-.01.58-.04.19-.03.34-.06.45-.09v.87c-.12.06-.3.11-.54.15-.24.04-.45.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88h-2.17v4.41c0 .45.11.8.32 1.04.21.24.51.36.88.36ZM217.75 255.58c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18c.13.12.2.31.2.57s-.07.45-.2.57c-.13.12-.29.19-.47.19s-.35-.06-.48-.19-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM226.51 265.1v-4.85c0-.61-.14-1.07-.42-1.37-.28-.3-.71-.45-1.31-.45-.78 0-1.36.21-1.72.64-.36.42-.55 1.12-.55 2.1v3.93h-1.13v-7.49h.92l.18 1.03h.05c.23-.37.56-.66.98-.86.42-.2.89-.3 1.4-.3.9 0 1.58.22 2.04.65.46.44.68 1.13.68 2.09v4.89h-1.13ZM236.11 257.61v.72l-1.39.16c.13.16.24.37.34.63.1.26.15.55.15.87 0 .73-.25 1.32-.75 1.76-.5.44-1.19.66-2.06.66-.22 0-.43-.02-.63-.05-.48.25-.72.58-.72.96 0 .21.08.36.25.46.17.1.46.15.87.15h1.33c.81 0 1.43.17 1.87.51s.65.84.65 1.49c0 .83-.33 1.46-1 1.9-.67.43-1.64.65-2.91.65-.98 0-1.73-.18-2.27-.55s-.8-.88-.8-1.54c0-.46.15-.85.44-1.18.29-.33.7-.56 1.23-.68-.19-.09-.35-.22-.48-.4s-.19-.39-.19-.64c0-.27.07-.51.22-.72.15-.21.38-.4.69-.59-.39-.16-.7-.43-.95-.81s-.37-.82-.37-1.31c0-.82.25-1.45.74-1.9.49-.44 1.19-.67 2.09-.67.39 0 .75.05 1.06.14h2.59Zm-5.97 8.75c0 .41.17.71.51.92s.83.31 1.47.31c.95 0 1.66-.14 2.12-.43.46-.29.69-.67.69-1.16 0-.41-.12-.69-.38-.84-.25-.16-.72-.24-1.42-.24h-1.36c-.52 0-.92.12-1.2.37s-.43.6-.43 1.06Zm.62-6.35c0 .52.15.92.45 1.19.3.27.71.4 1.24.4 1.11 0 1.66-.54 1.66-1.61s-.56-1.69-1.68-1.69c-.53 0-.94.14-1.23.43s-.43.71-.43 1.28ZM242.48 263.06c0 .7-.26 1.24-.78 1.61s-1.25.57-2.19.57c-.99 0-1.77-.16-2.32-.47v-1.05c.36.18.75.33 1.16.43s.81.16 1.19.16c.59 0 1.05-.09 1.37-.28.32-.19.48-.48.48-.86 0-.29-.13-.54-.38-.75-.25-.21-.75-.45-1.48-.73-.7-.26-1.19-.49-1.49-.68-.29-.19-.51-.41-.66-.66s-.21-.54-.21-.88c0-.61.25-1.09.74-1.45.5-.35 1.18-.53 2.04-.53.81 0 1.59.16 2.37.49l-.4.92c-.75-.31-1.43-.46-2.04-.46-.54 0-.94.08-1.22.25s-.41.4-.41.7c0 .2.05.37.15.51s.27.28.5.4c.23.13.67.31 1.31.55.89.32 1.49.65 1.8.98s.47.74.47 1.24ZM118.83 304.7c0 .88-.32 1.57-.96 2.06s-1.5.74-2.6.74c-1.19 0-2.1-.15-2.73-.46v-1.12c.41.17.86.31 1.34.41s.96.15 1.44.15c.77 0 1.36-.15 1.75-.44.39-.29.59-.7.59-1.23 0-.35-.07-.63-.21-.85-.14-.22-.37-.43-.7-.61s-.82-.4-1.49-.64c-.93-.33-1.59-.73-1.99-1.18s-.6-1.05-.6-1.78c0-.77.29-1.38.87-1.84s1.34-.68 2.3-.68 1.91.18 2.74.55l-.36 1.01c-.82-.35-1.63-.52-2.41-.52-.62 0-1.1.13-1.44.4s-.52.63-.52 1.1c0 .35.06.63.19.85.13.22.34.42.65.61.3.19.77.39 1.39.61 1.05.37 1.77.77 2.16 1.2s.59.98.59 1.67ZM120.6 297.83c0-.26.06-.45.19-.57.13-.12.29-.18.48-.18s.34.06.47.18.2.31.2.57-.07.45-.2.57c-.13.12-.29.19-.47.19-.19 0-.35-.06-.48-.19s-.19-.32-.19-.57Zm1.23 9.52h-1.13v-7.49h1.13v7.49ZM130.37 299.87v.72l-1.39.16c.13.16.24.37.34.63.1.26.15.55.15.87 0 .73-.25 1.32-.75 1.76s-1.19.66-2.06.66c-.22 0-.43-.02-.63-.05-.48.25-.72.58-.72.96 0 .21.08.36.25.46.17.1.46.15.87.15h1.33c.81 0 1.43.17 1.87.51s.65.84.65 1.49c0 .83-.33 1.46-1 1.9-.67.43-1.64.65-2.91.65-.98 0-1.74-.18-2.27-.55s-.8-.88-.8-1.54c0-.46.15-.85.44-1.18s.7-.56 1.23-.68c-.19-.09-.35-.22-.48-.4s-.19-.39-.19-.64c0-.27.07-.51.22-.72s.38-.4.69-.59c-.39-.16-.7-.43-.95-.81s-.37-.82-.37-1.31c0-.82.25-1.45.74-1.9.49-.44 1.19-.67 2.09-.67.39 0 .75.05 1.06.14h2.59Zm-5.97 8.75c0 .41.17.71.51.92s.83.31 1.47.31c.95 0 1.66-.14 2.12-.43.46-.29.69-.67.69-1.16 0-.41-.13-.69-.38-.84-.25-.16-.72-.24-1.42-.24h-1.36c-.52 0-.92.12-1.2.37s-.43.6-.43 1.06Zm.62-6.35c0 .52.15.92.44 1.19s.71.4 1.24.4c1.11 0 1.66-.54 1.66-1.61s-.56-1.69-1.68-1.69c-.53 0-.94.14-1.23.43s-.43.71-.43 1.28ZM137.04 307.36v-4.85c0-.61-.14-1.07-.42-1.37-.28-.3-.71-.45-1.31-.45-.78 0-1.36.21-1.72.64s-.55 1.12-.55 2.1v3.93h-1.13v-7.49h.92l.18 1.03h.05c.23-.37.56-.66.98-.86.42-.2.89-.3 1.4-.3.9 0 1.58.22 2.04.65.46.44.68 1.13.68 2.09v4.89h-1.13ZM152.99 302.35c0 1.6-.4 2.86-1.21 3.77s-1.93 1.37-3.37 1.37-2.61-.45-3.41-1.35c-.8-.9-1.2-2.17-1.2-3.81s.4-2.89 1.2-3.78c.8-.89 1.94-1.34 3.42-1.34s2.56.46 3.36 1.37 1.21 2.17 1.21 3.77Zm-7.96 0c0 1.35.29 2.38.87 3.08.58.7 1.41 1.05 2.51 1.05s1.94-.35 2.51-1.05c.56-.7.85-1.72.85-3.08s-.28-2.36-.84-3.06c-.56-.69-1.4-1.04-2.5-1.04s-1.95.35-2.53 1.05c-.58.7-.87 1.72-.87 3.05ZM156.11 299.87v4.86c0 .61.14 1.07.42 1.37.28.3.71.45 1.3.45.78 0 1.36-.21 1.72-.64s.54-1.13.54-2.1v-3.94h1.13v7.49h-.94l-.16-1h-.06c-.23.37-.55.65-.97.85s-.88.29-1.41.29c-.91 0-1.59-.22-2.05-.65s-.68-1.13-.68-2.08v-4.9h1.15ZM166.06 306.56c.2 0 .39-.01.58-.04.19-.03.34-.06.45-.09v.87c-.12.06-.3.11-.54.15-.24.04-.45.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88h-2.17v4.41c0 .45.11.8.32 1.04.21.24.51.36.88.36Z"}),(0,O.jsx)("path",{className:"cls-9",d:"M77.98 30.7c0 .88-.32 1.57-.96 2.06s-1.5.74-2.6.74c-1.19 0-2.1-.15-2.73-.46v-1.12c.41.17.86.31 1.34.41s.96.15 1.44.15c.77 0 1.36-.15 1.75-.44.39-.29.59-.7.59-1.23 0-.35-.07-.63-.21-.85-.14-.22-.37-.43-.7-.61s-.82-.4-1.49-.64c-.93-.33-1.59-.73-1.99-1.18s-.6-1.05-.6-1.78c0-.77.29-1.38.87-1.84s1.34-.68 2.3-.68 1.91.18 2.74.55l-.36 1.01c-.82-.35-1.63-.52-2.41-.52-.62 0-1.1.13-1.44.4s-.52.63-.52 1.1c0 .35.06.63.19.85.13.22.34.42.65.61.3.19.77.39 1.39.61 1.05.37 1.77.77 2.16 1.2s.59.98.59 1.67ZM80.92 25.87v4.86c0 .61.14 1.07.42 1.37s.71.45 1.31.45c.78 0 1.36-.21 1.72-.64s.54-1.13.54-2.1v-3.94h1.13v7.49h-.94l-.16-1h-.06c-.23.37-.55.65-.97.85s-.88.29-1.41.29c-.91 0-1.59-.22-2.05-.65s-.68-1.13-.68-2.08v-4.9h1.15ZM91.94 33.49c-.49 0-.93-.09-1.34-.27-.4-.18-.74-.46-1.02-.83h-.08c.05.44.08.85.08 1.24v3.08h-1.13V25.85h.92l.16 1.03h.05c.29-.41.63-.71 1.02-.89s.83-.27 1.33-.27c.99 0 1.76.34 2.3 1.02s.81 1.63.81 2.86-.27 2.19-.82 2.87c-.55.68-1.31 1.02-2.29 1.02Zm-.16-6.8c-.77 0-1.32.21-1.66.64s-.52 1.1-.53 2.02v.25c0 1.05.18 1.81.53 2.26.35.45.91.68 1.69.68.65 0 1.15-.26 1.52-.79s.55-1.25.55-2.17-.18-1.65-.55-2.15c-.37-.5-.88-.75-1.55-.75ZM100.51 33.49c-.49 0-.93-.09-1.34-.27-.4-.18-.74-.46-1.02-.83h-.08c.05.44.08.85.08 1.24v3.08h-1.13V25.85h.92l.16 1.03h.05c.29-.41.63-.71 1.02-.89s.83-.27 1.33-.27c.99 0 1.76.34 2.3 1.02s.81 1.63.81 2.86-.27 2.19-.82 2.87c-.55.68-1.31 1.02-2.29 1.02Zm-.16-6.8c-.77 0-1.32.21-1.66.64s-.52 1.1-.53 2.02v.25c0 1.05.18 1.81.53 2.26.35.45.91.68 1.69.68.65 0 1.15-.26 1.52-.79s.55-1.25.55-2.17-.18-1.65-.55-2.15c-.37-.5-.88-.75-1.55-.75ZM112.07 29.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35-.42-1.28-.42-2.06c0-1.22.31-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73-.57 1.21-.57 2.18ZM117.48 25.73c.33 0 .63.03.9.08l-.16 1.05c-.31-.07-.58-.1-.82-.1-.61 0-1.12.25-1.56.74s-.65 1.11-.65 1.84v4.02h-1.13v-7.49h.94l.13 1.39h.05c.28-.49.61-.86 1-1.13s.82-.4 1.29-.4ZM122.2 32.56c.2 0 .39-.01.58-.04.19-.03.33-.06.44-.09v.87c-.12.06-.3.11-.54.15-.24.04-.45.06-.65.06-1.45 0-2.17-.76-2.17-2.29v-4.46h-1.07v-.55l1.07-.47.48-1.6h.66v1.74h2.17v.88H121v4.41c0 .45.11.8.32 1.04s.51.36.88.36ZM17.34 23.36h2.82c1.33 0 2.29.2 2.88.59s.89 1.02.89 1.88c0 .59-.17 1.08-.5 1.47-.33.38-.81.63-1.45.75v.07c1.52.26 2.28 1.06 2.28 2.39 0 .89-.3 1.59-.91 2.09s-1.45.75-2.53.75h-3.49v-9.99Zm1.16 4.28h1.91c.82 0 1.41-.13 1.77-.39.36-.26.54-.69.54-1.3 0-.56-.2-.96-.6-1.21-.4-.25-1.04-.37-1.91-.37H18.5v3.27Zm0 .98v3.74h2.08c.81 0 1.41-.16 1.82-.47.41-.31.61-.8.61-1.47 0-.62-.21-1.08-.63-1.37s-1.05-.44-1.9-.44h-1.99ZM27.38 33.36h-1.13V22.72h1.13v10.64ZM36.25 29.6c0 1.22-.31 2.17-.92 2.86-.62.69-1.47 1.03-2.55 1.03-.67 0-1.26-.16-1.78-.47s-.92-.77-1.2-1.35-.42-1.28-.42-2.06c0-1.22.31-2.17.92-2.85.61-.68 1.46-1.02 2.54-1.02s1.88.35 2.5 1.05.93 1.64.93 2.83Zm-5.71 0c0 .96.19 1.69.57 2.19s.95.75 1.69.75 1.31-.25 1.69-.75c.39-.5.58-1.23.58-2.19s-.19-1.68-.58-2.17c-.39-.49-.95-.74-1.71-.74s-1.3.24-1.68.73-.57 1.21-.57 2.18ZM44.37 25.87v.72l-1.39.16c.13.16.24.37.34.63.1.26.15.55.15.87 0 .73-.25 1.32-.75 1.76s-1.19.66-2.06.66c-.22 0-.43-.02-.63-.05-.48.25-.72.58-.72.96 0 .21.08.36.25.46.17.1.46.15.87.15h1.33c.81 0 1.43.17 1.87.51s.65.84.65 1.49c0 .83-.33 1.46-1 1.9-.67.43-1.64.65-2.91.65-.98 0-1.74-.18-2.27-.55s-.8-.88-.8-1.54c0-.46.15-.85.44-1.18s.7-.56 1.23-.68c-.19-.09-.35-.22-.48-.4s-.19-.39-.19-.64c0-.27.07-.51.22-.72s.38-.4.69-.59c-.39-.16-.7-.43-.95-.81s-.37-.82-.37-1.31c0-.82.25-1.45.74-1.9.49-.44 1.19-.67 2.09-.67.39 0 .75.05 1.06.14h2.59Zm-5.97 8.75c0 .41.17.71.51.92s.83.31 1.47.31c.95 0 1.66-.14 2.12-.43.46-.29.69-.67.69-1.16 0-.41-.13-.69-.38-.84-.25-.16-.72-.24-1.42-.24h-1.36c-.52 0-.92.12-1.2.37s-.43.6-.43 1.06Zm.62-6.35c0 .52.15.92.44 1.19s.71.4 1.24.4c1.11 0 1.66-.54 1.66-1.61s-.56-1.69-1.68-1.69c-.53 0-.94.14-1.23.43s-.43.71-.43 1.28ZM248.5 32.5c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6c0 1.6-.62 3.11-1.76 4.24a5.97 5.97 0 0 1-4.24 1.76Zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4c1.07 0 2.07-.42 2.83-1.17.76-.76 1.17-1.76 1.17-2.83 0-2.21-1.79-4-4-4Z"}),(0,O.jsx)("path",{className:"cls-9",d:"m251.338 30.743 1.414-1.414 5.466 5.466-1.414 1.414zM140.5 26.5l3 3 2.99-3h-5.99z"}),(0,O.jsx)("circle",{className:"cls-4",cx:"295.5",cy:"28.5",r:"16"}),(0,O.jsx)("path",{className:"cls-5",d:"M295.5 45c-9.1 0-16.5-7.4-16.5-16.5S286.4 12 295.5 12 312 19.4 312 28.5 304.6 45 295.5 45Zm0-32c-8.55 0-15.5 6.95-15.5 15.5S286.95 44 295.5 44 311 37.05 311 28.5 304.05 13 295.5 13Z"}),(0,O.jsx)("path",{className:"cls-2",d:"M288.91 36.29c-.51 0-.94-.07-1.28-.2v-1.57c.44.11.82.16 1.14.16 1.02 0 1.53-.65 1.53-1.94V21.67h1.88v11.01c0 1.17-.28 2.06-.83 2.68s-1.37.93-2.43.93ZM304.42 27.28c0 1.89-.52 3.33-1.57 4.32s-2.55 1.5-4.52 1.5h-3.2V21.68h3.53c1.82 0 3.23.49 4.24 1.47s1.52 2.36 1.52 4.13Zm-1.97.06c0-2.73-1.28-4.1-3.84-4.1h-1.62v8.29h1.33c2.75 0 4.12-1.4 4.12-4.19Z"}),(0,O.jsx)("path",{className:"cls-6",d:"M115.01 256.46c0-2.63 1.3-3.46 2.93-3.46s2.93.82 2.93 3.46c.13 1.76-1.17 3.3-2.93 3.46a3.231 3.231 0 0 1-2.93-3.46Zm3.44 8.54c0-1.8.98-3.46 2.55-4.33l-.7-.36h-.16a3.7 3.7 0 0 1-2.18.81c-.8-.03-1.58-.31-2.21-.81h-.16l-2.28 1.19c-.14.06-.26.17-.33.32l-1.46 3.24c-.08.2-.08.43 0 .63.15.21.39.33.65.32h6.39c-.07-.33-.1-.66-.1-1Zm9 .71v-1.43l-1.1-.22c-.05-.15-.12-.3-.19-.45l.62-.93-1.01-1.01-.93.62c-.15-.08-.3-.14-.46-.19l-.22-1.1h-1.43l-.22 1.1c-.16.05-.31.11-.46.19l-.93-.62-1.01 1.01.62.93c-.07.15-.14.3-.19.46l-1.09.22v1.43l1.1.22c.05.16.11.31.19.45l-.62.94 1.01 1.01.94-.63c.14.08.29.14.44.19l.23 1.1h1.42l.23-1.11c.15-.05.3-.11.44-.18l.94.62 1.01-1.01-.62-.94c.07-.14.13-.3.18-.45l1.11-.22Zm-4 .81c-.84 0-1.53-.68-1.53-1.52s.68-1.53 1.52-1.53 1.53.68 1.53 1.52c0 .85-.68 1.53-1.52 1.53Z"}),(0,O.jsx)("path",{className:"cls-9",d:"M321 366.5H0V0h321v366.5Zm-320-1h319V1H1v364.5Z"}),(0,O.jsx)("path",{className:"cls-3",d:"M12 257.64h66.32v8H12z"}),(0,O.jsx)("path",{className:"cls-3",d:"m51.82 294.36-5.46-5.86 28.89-26.85-28.89-26.86 5.46-5.86L87 261.65l-35.18 32.71z"})]})]}))};function os(){var e=(0,a.useState)(0),t=e[0],n=e[1],r=(0,a.useRef)(null),i=[(0,O.jsxs)(Yi,{children:[(0,O.jsxs)(E.Text,{children:["We have recently introduced ",(0,O.jsx)("b",{children:"role-based permissions"})," to help you better manage your iTwin Platform subscription."]}),(0,O.jsx)(E.Text,{children:"These roles allow your organization to control who can manage your subscription and applications, enabling you to prevent unnecessary costs and disruption of your application."}),(0,O.jsxs)($i,{type:"informational",image:(0,O.jsx)(as,{}),children:[(0,O.jsx)(E.Text,{variant:"leading",children:"For account administrators"}),(0,O.jsx)(E.Text,{children:"Role management is found on the Account Settings page in the menu under your profile button."}),(0,O.jsx)(E.Text,{children:"To learn more about these changes, see a complete list of the roles available, and learn how to assign roles, please visit:"}),(0,O.jsx)(qi,{href:p.QR,children:"Roles and permissions"})]}),(0,O.jsxs)($i,{type:"informational",children:[(0,O.jsx)(E.Text,{variant:"leading",children:"For non-administrators"}),(0,O.jsxs)(E.Text,{children:["If you do not have access to this iTwin Platform subscription,",(0,O.jsx)("b",{children:" please contact a Subscription Manager"})," or any Admin or Co-Admin for your Bentley account."]}),(0,O.jsx)(E.Text,{children:(0,O.jsx)("button",{className:"link",onClick:function(){var e;n(1),null===r||void 0===r||null===(e=r.current)||void 0===e||e.scrollIntoView()},children:"Show contact information"})})]})]},"main"),(0,O.jsx)(rs,{onClose:function(){var e;n(0),null===r||void 0===r||null===(e=r.current)||void 0===e||e.scrollIntoView()}},"admins")];return(0,O.jsx)("div",{className:"account-settings-update-container",ref:r,children:i[t]})}as.defaultProps={xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 204 233",xmlns:"http://www.w3.org/2000/svg"};var us=n(25675),cs=n.n(us);function ls(){return(0,O.jsxs)(Yi,{children:[(0,O.jsx)(E.Text,{variant:"leading",children:(0,O.jsx)("b",{children:"Introducing new Application Management pages"})}),(0,O.jsx)(E.Text,{children:"To simplify management of your iTwin Platform apps, we have redesigned the Register an app and App Details pages to provide a similar experience."}),(0,O.jsx)(E.Text,{children:"The new Application Management experience is now available. Use the toggle in the upper right corner of the page to move between the old and new pages."}),(0,O.jsx)(cs(),{id:"app-details-v2-image",src:"/unreal-docs-site/static/images/app-details-v2-update.png",alt:"Application Management update",width:1151,height:815})]})}function hs(){var e,t,n="Projects";return t=(0,O.jsxs)(E.Text,{children:["Projects API is being superseded by the ",(0,O.jsx)("i",{children:"iTwins API"})," and the ",(0,O.jsx)("i",{children:"Access Control API"}),"."]}),(0,O.jsxs)(Yi,{children:[(0,O.jsx)(E.Text,{variant:"leading",children:(0,O.jsx)("b",{children:"API/API version deprecation notice"})}),(0,O.jsxs)(E.Text,{children:["The ",(0,O.jsx)("b",{children:n})," API is on a path to deprecation. The anticipated End of Support date is ",(0,O.jsx)("b",{children:"Dec 31, 2000"}),".",null!==(e=t)&&void 0!==e?e:t]}),(0,O.jsxs)(E.Text,{children:["If you are using ",n," API in your products, please plan to migrate before the end of support. See ",(0,O.jsx)(qi,{href:"https://developer.bentley.com/apis/projects/overview/",children:"projects"})," for more information on upgrading."]})]})}var fs=function(){function e(){(0,C.Z)(this,e)}return(0,I.Z)(e,null,[{key:"getUpdateList",value:function(){return[{content:(0,O.jsx)(ls,{},"appDetailsV2"),startDisplayDate:new Date("2023-12-17T10:00:00+00:00"),endDisplayDate:new Date("2024-12-17T00:00:00+00:00"),renderFunc:function(e){var t=e.subscription,n=e.flags;return t&&n&&n[f.u7]}},{content:(0,O.jsx)(os,{},"accountSettingsInfo"),startDisplayDate:new Date("2023-06-06T10:00:00+00:00"),endDisplayDate:new Date("2024-06-07T00:00:00+00:00"),renderFunc:function(e){var t=e.subscription,n=e.flags;return t&&"Trial"!==t.tier&&n&&n[f.j8]}},{content:(0,O.jsx)(hs,{},"ApiDeprecationInfoExample"),startDisplayDate:new Date("2000-06-06T10:00:00+00:00"),endDisplayDate:new Date("2001-06-07T00:00:00+00:00"),renderFunc:function(e){var t=e.subscription;return t&&"Internal"==t.tier}}]}},{key:"getFilteredUpdateList",value:function(e,t,n){var r=(new Date).getTime(),i=e?new Date(e):void 0;return this.interleaveDividers(this.getUpdateList().filter((function(e){var s=r<e.endDisplayDate.getTime()&&r>e.startDisplayDate.getTime(),a=i&&e.startDisplayDate.getTime()<i.getTime(),o=!e.renderFunc||e.renderFunc({subscription:t,flags:n});return s&&!a&&o})).map((function(e){return e.content})))}},{key:"interleaveDividers",value:function(e){return e.flatMap((function(e,t){return[e,(0,O.jsx)(E.Divider,{},t)]})).slice(0,-1)}}]),e}();function ps(){var e=(0,a.useState)(!1),t=e[0],n=e[1],r=(0,a.useState)([]),i=r[0],s=r[1],o=(0,H.k)(),u=o.session,c=o.fetchSession,l=(0,v.L)(),h=(0,Hi.A)();(0,a.useEffect)((function(){if(u){var e=fs.getFilteredUpdateList(u.profile.lastSeenUpdateDateTime,u.subscription,l);s(e),e.length>0&&n(!0)}else n(!1)}),[u,l]);var f=function(){n(!1),h.updatePopUpSeenDateTime().then((function(){return c()}))};return 0===i.length?(0,O.jsx)(O.Fragment,{}):(0,O.jsx)(P.Z,{theme:"light",children:(0,O.jsxs)(E.Dialog,{id:"important-update-modal",isOpen:t,trapFocus:!0,isDismissible:!0,preventDocumentScroll:!0,closeOnExternalClick:!1,onClose:f,children:[(0,O.jsx)(E.Dialog.Backdrop,{}),(0,O.jsxs)(E.Dialog.Main,{className:"important-update",children:[(0,O.jsx)(E.Dialog.TitleBar,{className:"dialog-title-bar",titleText:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(N.u$m,{className:"dialog-title-icon"}),"Important update"]})}),(0,O.jsxs)(E.Dialog.Content,{id:"important-update-modal-content",className:"dialog-content-wrapper",children:[i,(0,O.jsx)(E.Dialog.ButtonBar,{className:"button-bar",children:(0,O.jsx)(E.Button,{styleType:"default",onClick:f,children:"Close"})})]})]})]})})}function ds(){var e=(0,Cn.m)().isLoggedIn,t=(0,c.useRouter)();return!e||p.fy.some((function(e){return t.pathname===e}))?(0,O.jsx)(O.Fragment,{}):(0,O.jsx)(ps,{})}n(68485),n(572);function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(14473);var vs=function(e){var t,n=e.Component,r=e.pageProps,i=null!==(t=n.Layout)&&void 0!==t?t:Bi;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(s(),{children:[(0,O.jsx)("title",{children:"iTwin Platform"}),(0,O.jsx)("meta",{name:"author",content:"Bentley Systems"}),(0,O.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,O.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,O.jsx)("link",{rel:"apple-touch-icon",href:"/favicon.ico"})]}),(0,O.jsx)(Cn.H,{children:(0,O.jsxs)(i,{children:[(0,O.jsx)(n,gs({},r)),(0,O.jsx)(ds,{})]})})]})}},44019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78566:function(e,t,n){"use strict";var r=n(930),i=n(85696),s=n(7980);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.src,a=e.sizes,f=e.unoptimized,d=void 0!==f&&f,g=e.priority,w=void 0!==g&&g,F=e.loading,O=e.lazyRoot,R=void 0===O?null:O,j=e.lazyBoundary,A=e.className,T=e.quality,C=e.width,I=e.height,N=e.style,D=e.objectFit,L=e.objectPosition,U=e.onLoadingComplete,M=e.placeholder,B=void 0===M?"empty":M,H=e.blurDataURL,V=_(e,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","placeholder","blurDataURL"]),Z=o.useContext(h.ImageConfigContext),z=o.useMemo((function(){var e=m||Z||c.imageConfigDefault,t=[].concat(s(e.deviceSizes),s(e.imageSizes)).sort((function(e,t){return e-t})),n=e.deviceSizes.sort((function(e,t){return e-t}));return p({},e,{allSizes:t,deviceSizes:n})}),[Z]),K=V,q=a?"responsive":"intrinsic";"layout"in K&&(K.layout&&(q=K.layout),delete K.layout);var W=k;if("loader"in K){if(K.loader){var J=K.loader;W=function(e){e.config;var t=_(e,["config"]);return J(t)}}delete K.loader}var G="";if(function(e){return"object"===typeof e&&(x(e)||function(e){return void 0!==e.src}(e))}(n)){var $=x(n)?n.default:n;if(!$.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify($)));if(H=H||$.blurDataURL,G=$.src,(!q||"fill"!==q)&&(I=I||$.height,C=C||$.width,!$.height||!$.width))throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify($)))}n="string"===typeof n?n:G;var Q=E(C),Y=E(I),X=E(T),ee=!w&&("lazy"===F||"undefined"===typeof F);(n.startsWith("data:")||n.startsWith("blob:"))&&(d=!0,ee=!1);y.has(n)&&(ee=!1);v&&(d=!0);var te,ne=o.useState(!1),re=i(ne,2),ie=re[0],se=re[1],ae=l.useIntersection({rootRef:R,rootMargin:j||"200px",disabled:!ee}),oe=i(ae,3),ue=oe[0],ce=oe[1],le=oe[2],he=!ee||ce,fe={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},pe={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},de=!1,_e={position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:D,objectPosition:L};0;var ge=Object.assign({},N,_e),ve="blur"!==B||ie?{}:{backgroundSize:D||"cover",backgroundPosition:L||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'.concat(H,'")')};if("fill"===q)fe.display="block",fe.position="absolute",fe.top=0,fe.left=0,fe.bottom=0,fe.right=0;else if("undefined"!==typeof Q&&"undefined"!==typeof Y){var me=Y/Q,ye=isNaN(me)?"100%":"".concat(100*me,"%");"responsive"===q?(fe.display="block",fe.position="relative",de=!0,pe.paddingTop=ye):"intrinsic"===q?(fe.display="inline-block",fe.position="relative",fe.maxWidth="100%",de=!0,pe.maxWidth="100%",te="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(Q,"%27%20height=%27").concat(Y,"%27/%3e")):"fixed"===q&&(fe.display="inline-block",fe.position="relative",fe.width=Q,fe.height=Y)}else 0;var be={src:b,srcSet:void 0,sizes:void 0};he&&(be=S({config:z,src:n,unoptimized:d,layout:q,width:Q,quality:X,sizes:a,loader:W}));var we=n;0;0;var xe=(r(t={},"imagesrcset",be.srcSet),r(t,"imagesizes",be.sizes),t),Se=o.default.useLayoutEffect,Ee=o.useRef(U),ke=o.useRef(n);o.useEffect((function(){Ee.current=U}),[U]),Se((function(){ke.current!==n&&(le(),ke.current=n)}),[le,n]);var Fe=p({isLazy:ee,imgAttributes:be,heightInt:Y,widthInt:Q,qualityInt:X,layout:q,className:A,imgStyle:ge,blurStyle:ve,loading:F,config:z,unoptimized:d,placeholder:B,loader:W,srcString:we,onLoadingCompleteRef:Ee,setBlurComplete:se,setIntersection:ue,isVisible:he,noscriptSizes:a},K);return o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{style:fe},de?o.default.createElement("span",{style:pe},te?o.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:te}):null):null,o.default.createElement(P,Object.assign({},Fe))),w?o.default.createElement(u.default,null,o.default.createElement("link",Object.assign({key:"__nimg-"+be.src+be.srcSet+be.sizes,rel:"preload",as:"image",href:be.srcSet?void 0:be.src},xe))):null)};var a,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(67294)),u=(a=n(72717))&&a.__esModule?a:{default:a},c=n(48187),l=n(90639),h=n(89239),f=(n(99475),n(24969));function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function _(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",experimentalLayoutRaw:!1}||{},v=g.experimentalUnoptimized,m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",experimentalLayoutRaw:!1},y=new Set,b=(new Map,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");var w=new Map([["default",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality;0;if(n.endsWith(".svg")&&!t.dangerouslyAllowSVG)return n;return"".concat(f.normalizePathTrailingSlash(t.path),"?url=").concat(encodeURIComponent(n),"&w=").concat(r,"&q=").concat(i||75)}],["imgix",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality,s=new URL("".concat(t.path).concat(O(n))),a=s.searchParams;a.set("auto",a.get("auto")||"format"),a.set("fit",a.get("fit")||"max"),a.set("w",a.get("w")||r.toString()),i&&a.set("q",i.toString());return s.href}],["cloudinary",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality,s=["f_auto","c_limit","w_"+r,"q_"+(i||"auto")].join(",")+"/";return"".concat(t.path).concat(s).concat(O(n))}],["akamai",function(e){var t=e.config,n=e.src,r=e.width;return"".concat(t.path).concat(O(n),"?imwidth=").concat(r)}],["custom",function(e){var t=e.src;throw new Error('Image with src "'.concat(t,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}]]);function x(e){return void 0!==e.default}function S(e){var t=e.config,n=e.src,r=e.unoptimized,i=e.layout,a=e.width,o=e.quality,u=e.sizes,c=e.loader;if(r)return{src:n,srcSet:void 0,sizes:void 0};var l=function(e,t,n,r){var i=e.deviceSizes,a=e.allSizes;if(r&&("fill"===n||"responsive"===n)){for(var o,u=/(^|\s)(1?\d?\d)vw/g,c=[];o=u.exec(r);o)c.push(parseInt(o[2]));if(c.length){var l=.01*Math.min.apply(Math,c);return{widths:a.filter((function(e){return e>=i[0]*l})),kind:"w"}}return{widths:a,kind:"w"}}return"number"!==typeof t||"fill"===n||"responsive"===n?{widths:i,kind:"w"}:{widths:s(new Set([t,2*t].map((function(e){return a.find((function(t){return t>=e}))||a[a.length-1]})))),kind:"x"}}(t,a,i,u),h=l.widths,f=l.kind,p=h.length-1;return{sizes:u||"w"!==f?u:"100vw",srcSet:h.map((function(e,r){return"".concat(c({config:t,src:n,quality:o,width:e})," ").concat("w"===f?e:r+1).concat(f)})).join(", "),src:c({config:t,src:n,quality:o,width:h[p]})}}function E(e){return"number"===typeof e?e:"string"===typeof e?parseInt(e,10):void 0}function k(e){var t,n=(null==(t=e.config)?void 0:t.loader)||"default",r=w.get(n);if(r)return r(e);throw new Error('Unknown "loader" found in "next.config.js". Expected: '.concat(c.VALID_LOADERS.join(", "),". Received: ").concat(n))}function F(e,t,n,r,i,s){e&&e.src!==b&&e["data-loaded-src"]!==t&&(e["data-loaded-src"]=t,("decode"in e?e.decode():Promise.resolve()).catch((function(){})).then((function(){if(e.parentNode&&(y.add(t),"blur"===r&&s(!0),null==i?void 0:i.current)){var n=e.naturalWidth,a=e.naturalHeight;i.current({naturalWidth:n,naturalHeight:a})}})))}var P=function(e){var t=e.imgAttributes,n=(e.heightInt,e.widthInt),r=e.qualityInt,i=e.layout,s=e.className,a=e.imgStyle,u=e.blurStyle,c=e.isLazy,l=e.placeholder,h=e.loading,f=e.srcString,d=e.config,g=e.unoptimized,v=e.loader,m=e.onLoadingCompleteRef,y=e.setBlurComplete,b=e.setIntersection,w=e.onLoad,x=e.onError,E=(e.isVisible,e.noscriptSizes),k=_(e,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","placeholder","loading","srcString","config","unoptimized","loader","onLoadingCompleteRef","setBlurComplete","setIntersection","onLoad","onError","isVisible","noscriptSizes"]);return h=c?"lazy":h,o.default.createElement(o.default.Fragment,null,o.default.createElement("img",Object.assign({},k,t,{decoding:"async","data-nimg":i,className:s,style:p({},a,u),ref:o.useCallback((function(e){b(e),(null==e?void 0:e.complete)&&F(e,f,0,l,m,y)}),[b,f,i,l,m,y]),onLoad:function(e){F(e.currentTarget,f,0,l,m,y),w&&w(e)},onError:function(e){"blur"===l&&y(!0),x&&x(e)}})),(c||"blur"===l)&&o.default.createElement("noscript",null,o.default.createElement("img",Object.assign({},k,S({config:d,src:f,unoptimized:g,layout:i,width:n,quality:r,sizes:E,loader:v}),{decoding:"async","data-nimg":i,style:a,className:s,loading:h}))))};function O(e){return"/"===e[0]?e.slice(1):e}("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7942:function(e,t,n){"use strict";var r=n(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=(i=n(67294))&&i.__esModule?i:{default:i},a=n(64957),o=n(57995),u=n(30647),c=n(51992),l=n(90639),h=n(44019),f=n(70227);var p="undefined"!==typeof s.default.useTransition,d={};function _(e,t,n,r){if(e&&a.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;d[t+"%"+n+(i?"%"+i:"")]=!0}}var g=s.default.forwardRef((function(e,t){var n,i=e.href,g=e.as,v=e.children,m=e.prefetch,y=e.passHref,b=e.replace,w=e.shallow,x=e.scroll,S=e.locale,E=e.onClick,k=e.onMouseEnter,F=e.legacyBehavior,P=void 0===F?!0!==Boolean(!1):F,O=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","legacyBehavior"]);n=v,!P||"string"!==typeof n&&"number"!==typeof n||(n=s.default.createElement("a",null,n));var R=!1!==m,j=p?s.default.useTransition():[],A=r(j,2)[1],T=s.default.useContext(u.RouterContext),C=s.default.useContext(c.AppRouterContext);C&&(T=C);var I,N=s.default.useMemo((function(){var e=a.resolveHref(T,i,!0),t=r(e,2),n=t[0],s=t[1];return{href:n,as:g?a.resolveHref(T,g):s||n}}),[T,i,g]),D=N.href,L=N.as,U=s.default.useRef(D),M=s.default.useRef(L);P&&(I=s.default.Children.only(n));var B=P?I&&"object"===typeof I&&I.ref:t,H=l.useIntersection({rootMargin:"200px"}),V=r(H,3),Z=V[0],z=V[1],K=V[2],q=s.default.useCallback((function(e){M.current===L&&U.current===D||(K(),M.current=L,U.current=D),Z(e),B&&("function"===typeof B?B(e):"object"===typeof B&&(B.current=e))}),[L,B,D,K,Z]);s.default.useEffect((function(){var e=z&&R&&a.isLocalURL(D),t="undefined"!==typeof S?S:T&&T.locale,n=d[D+"%"+L+(t?"%"+t:"")];e&&!n&&_(T,D,L,{locale:t})}),[L,D,z,S,R,T]);var W={ref:q,onClick:function(e){P||"function"!==typeof E||E(e),P&&I.props&&"function"===typeof I.props.onClick&&I.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,s,o,u,c){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(n)){e.preventDefault();var l=function(){t[i?"replace":"push"](n,r,{shallow:s,locale:u,scroll:o})};c?c(l):l()}}(e,T,D,L,b,w,x,S,C?A:void 0)},onMouseEnter:function(e){P||"function"!==typeof k||k(e),P&&I.props&&"function"===typeof I.props.onMouseEnter&&I.props.onMouseEnter(e),a.isLocalURL(D)&&_(T,D,L,{priority:!0})}};if(!P||y||"a"===I.type&&!("href"in I.props)){var J="undefined"!==typeof S?S:T&&T.locale,G=T&&T.isLocaleDomain&&h.getDomainLocale(L,J,T.locales,T.domainLocales);W.href=G||f.addBasePath(o.addLocale(L,J,T&&T.defaultLocale))}return P?s.default.cloneElement(I,W):s.default.createElement("a",Object.assign({},O,W),n)}));t.default=g,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},90639:function(e,t,n){"use strict";var r=n(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,c=e.disabled||!a,l=i.useRef(),h=i.useState(!1),f=r(h,2),p=f[0],d=f[1],_=i.useState(null),g=r(_,2),v=g[0],m=g[1];i.useEffect((function(){if(a){if(l.current&&(l.current(),l.current=void 0),c||p)return;return v&&v.tagName&&(l.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=u.find((function(e){return e.root===n.root&&e.margin===n.margin}));if(r&&(t=o.get(r)))return t;var i=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return t={id:n,observer:s,elements:i},u.push(n),o.set(n,t),t}(n),i=r.id,s=r.observer,a=r.elements;return a.set(e,t),s.observe(e),function(){if(a.delete(e),s.unobserve(e),0===a.size){s.disconnect(),o.delete(i);var t=u.findIndex((function(e){return e.root===i.root&&e.margin===i.margin}));t>-1&&u.splice(t,1)}}}(v,(function(e){return e&&d(e)}),{root:null==t?void 0:t.current,rootMargin:n})),function(){null==l.current||l.current(),l.current=void 0}}if(!p){var e=s.requestIdleCallback((function(){return d(!0)}));return function(){return s.cancelIdleCallback(e)}}}),[v,c,n,t,p]);var y=i.useCallback((function(){d(!1)}),[]);return[m,p,y]};var i=n(67294),s=n(26286),a="function"===typeof IntersectionObserver;var o=new Map,u=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78e3:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AmpStateContext=void 0;var i=((r=n(67294))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=i},9470:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInAmpMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,i=void 0!==r&&r,s=e.hasQuery,a=void 0!==s&&s;return n||i&&a}},51992:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouterContext=void 0;var i=((r=n(67294))&&r.__esModule?r:{default:r}).default.createContext(null);t.AppRouterContext=i},73579:function(e,t,n){"use strict";var r=n(930);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=s(s({},r),e));if((r=s(s({},r),t)).suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");r.loadableGenerated&&delete(r=s(s({},r),r.loadableGenerated)).loadableGenerated;if("boolean"===typeof r.ssr&&!r.suspense){if(!r.ssr)return delete r.ssr,u(n,r);delete r.ssr}return n(r)},t.noSSR=u;o(n(67294));var a=o(n(23668));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return delete t.webpack,delete t.modules,e(t)}("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72717:function(e,t,n){"use strict";var r=n(930);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHead=f,t.default=void 0;var s,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(67294)),o=(s=n(11585))&&s.__esModule?s:{default:s},u=n(78e3),c=n(15850),l=n(9470);n(99475);function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var d=["name","httpEquiv","charSet","itemProp"];function _(e,t){return e.reduce(p,[]).reverse().concat(f(t.inAmpMode).reverse()).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(i){var s=!0,a=!1;if(i.key&&"number"!==typeof i.key&&i.key.indexOf("$")>0){a=!0;var o=i.key.slice(i.key.indexOf("$")+1);e.has(o)?s=!1:e.add(o)}switch(i.type){case"title":case"base":t.has(i.type)?s=!1:t.add(i.type);break;case"meta":for(var u=0,c=d.length;u<c;u++){var l=d[u];if(i.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?s=!1:n.add(l);else{var h=i.props[l],f=r[l]||new Set;"name"===l&&a||!f.has(h)?(f.add(h),r[l]=f):s=!1}}}return s}}()).reverse().map((function(e,n){var s=e.key||n;if(!t.inAmpMode&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(t){return e.props.href.startsWith(t)}))){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.props||{});return o["data-href"]=o.href,o.href=void 0,o["data-optimized-fonts"]=!0,a.default.cloneElement(e,o)}return a.default.cloneElement(e,{key:s})}))}var g=function(e){var t=e.children,n=a.useContext(u.AmpStateContext),r=a.useContext(c.HeadManagerContext);return a.default.createElement(o.default,{reduceComponentsToState:_,headManager:r,inAmpMode:l.isInAmpMode(n)},t)};t.default=g,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3982:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var i=((r=n(67294))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=i},23668:function(e,t,n){"use strict";var r=n(33227),i=n(88361),s=n(930);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,h=(l=n(67294))&&l.__esModule?l:{default:l},f=n(3982);var p=n(71849).useSyncExternalStore,d=[],_=[],g=!1;function v(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}var m=function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=o(o({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function y(e){return function(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);n.suspense&&(n.lazy=h.default.lazy(n.loader));var r=null;function i(){if(!r){var t=new m(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!g){var s=n.webpack?n.webpack():n.modules;s&&_.push((function(e){var t,n=u(s);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(a){n.e(a)}finally{n.f()}}))}function a(){i();var e=h.default.useContext(f.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach((function(t){e(t)}))}var c=n.suspense?function(e,t){return a(),h.default.createElement(n.lazy,o(o({},e),{},{ref:t}))}:function(e,t){a();var i=p(r.subscribe,r.getCurrentValue,r.getCurrentValue);return h.default.useImperativeHandle(t,(function(){return{retry:r.retry}}),[]),h.default.useMemo((function(){return i.loading||i.error?h.default.createElement(n.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?h.default.createElement(function(e){return e&&e.__esModule?e.default:e}(i.loaded),e):null}),[e,i])};return c.preload=function(){return i()},c.displayName="LoadableComponent",h.default.forwardRef(c)}(v,e)}function b(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return b(e,t)}))}y.preloadAll=function(){return new Promise((function(e,t){b(d).then(e,t)}))},y.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return g=!0,t()};b(_,e).then(n,n)}))},window.__NEXT_PRELOADREADY=y.preloadReady;var w=y;t.default=w},11585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.headManager,n=e.reduceComponentsToState;function i(){if(t&&t.mountedInstances){var i=r.Children.toArray(t.mountedInstances).filter(Boolean);t.updateHead(n(i,e))}}if(s){var u;null==t||null==(u=t.mountedInstances)||u.add(e.children),i()}return a((function(){var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),function(){var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}})),a((function(){return t&&(t._pendingUpdate=i),function(){t&&(t._pendingUpdate=i)}})),o((function(){return t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),function(){t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}})),null};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(n(67294));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var s=!1,a=s?function(){}:r.useLayoutEffect,o=s?function(){}:r.useEffect},28038:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(59499),i=n(50029),s=n(92777),a=n(82262),o=n(87794),u=n.n(o),c=n(9669),l=n.n(c),h=n(42869),f=n(51475),p=n(85804);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){function e(t){(0,s.Z)(this,e),this.token=t}return(0,a.Z)(e,[{key:"baseUrl",get:function(){return h.Z.DEVELOPER_PORTAL_API_URL}},{key:"headers",get:function(){return{Authorization:"Bearer ".concat(this.token)}}},{key:"registerUser",value:function(){var e=(0,i.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().post("/users",t,{baseURL:this.baseUrl,headers:n?{RecaptchaToken:n}:this.headers});case 2:return r=e.sent,e.abrupt("return",r.data.email);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"startSubscription",value:function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().post("/users/me/subscription",void 0,{baseURL:this.baseUrl,headers:_(_({},this.headers),{},{"Content-Type":"application/json"})});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTrialPrompt",value:function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().post("/users/me/update-trial-prompt",void 0,{baseURL:this.baseUrl,headers:_(_({},this.headers),{},{"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("Error while trying to update Trial Prompt value:",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"updatePopUpSeenDateTime",value:function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().post("/users/me/update-popup-prompt",void 0,{baseURL:this.baseUrl,headers:_(_({},this.headers),{},{"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("Error while trying to update last update seen value:",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllOrganizationAdminsEmails",value:function(){var e=(0,i.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/users/organization-admins",{baseURL:this.baseUrl,headers:this.headers});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllOrganizationUsers",value:function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({onlyWithRoles:t.onlyWithRoles.toString()}),t.search&&0!==t.search.length&&n.append("search",t.search),t.page&&n.append("page",t.page.toString()),t.entries?n.append("entries",t.entries.toString()):n.append("entries","1000"),e.next=6,l().get("/roles",{baseURL:this.baseUrl,headers:this.headers,params:n});case 6:return r=e.sent,e.abrupt("return",r.data.users);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserRoles",value:function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={users:t},e.next=3,l().post("/roles",n,{baseURL:this.baseUrl,headers:_(_({},this.headers),{},{"Content-Type":"application/json"})});case 3:if(200===(r=e.sent).status){e.next=6;break}throw Error("Updating users had errors: ".concat(r.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptTermsOfService",value:function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().post("/agreements/".concat(p.No,"/").concat(p.ex),void 0,{baseURL:this.baseUrl,headers:{Authorization:"Bearer ".concat(this.token)}});case 3:f.c.put("agreement:".concat(p.No,":").concat(p.ex,":state"),"true"),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to accept terms of service agreement: ".concat(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTermsOfServiceState",value:function(){var e=(0,i.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=f.c.get("agreement:".concat(p.No,":").concat(p.ex,":state")))){e.next=3;break}return e.abrupt("return","true"===t);case 3:return e.prev=3,e.next=6,l().get("/agreements/".concat(p.No,"/").concat(p.ex,"/state"),{baseURL:this.baseUrl,headers:{Authorization:"Bearer ".concat(this.token)}});case 6:return n=e.sent,r=n.data.accepted,f.c.put("agreement:".concat(p.No,":").concat(p.ex,":state"),"".concat(r)),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(3),new Error("Failed to get terms of service agreement state: ".concat(e.t0));case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},42869:function(e,t,n){"use strict";var r,i;n.d(t,{Z:function(){return pt}}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(i||(i={}));const s=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return s.undefined;case"string":return s.string;case"number":return isNaN(e)?s.nan:s.number;case"boolean":return s.boolean;case"function":return s.function;case"bigint":return s.bigint;case"symbol":return s.symbol;case"object":return Array.isArray(e)?s.array:null===e?s.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?s.promise:"undefined"!==typeof Map&&e instanceof Map?s.map:"undefined"!==typeof Set&&e instanceof Set?s.set:"undefined"!==typeof Date&&e instanceof Date?s.date:s.object;default:return s.unknown}},o=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class u extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}u.create=e=>new u(e);const c=(e,t)=>{let n;switch(e.code){case o.invalid_type:n=e.received===s.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case o.invalid_union:n="Invalid input";break;case o.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case o.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:n="Invalid function arguments";break;case o.invalid_return_type:n="Invalid function return type";break;case o.invalid_date:n="Invalid date";break;case o.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:n="Invalid input";break;case o.invalid_intersection_types:n="Intersection results could not be merged";break;case o.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let l=c;function h(){return l}const f=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const c of u)o=c(a,{data:t,defaultError:o}).message;return{...i,path:s,message:i.message||o}};function p(e,t){const n=f({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,h(),c].filter((e=>!!e))});e.common.issues.push(n)}class d{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return _;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t)n.push({key:await r.key,value:await r.value});return d.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return _;if("aborted"===i.status)return _;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const _=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),m=e=>"aborted"===e.status,y=e=>"dirty"===e.status,b=e=>"valid"===e.status,w=e=>"undefined"!==typeof Promise&&e instanceof Promise;var x;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(x||(x={}));class S{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const E=(e,t)=>{if(b(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new u(e.common.issues);return this._error=t,this._error}}};function k(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:"undefined"===typeof t.data?{message:null!==r&&void 0!==r?r:t.defaultError}:{message:null!==n&&void 0!==n?n:t.defaultError},description:i}}class F{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},i=this._parseSync({data:e,path:r.path,parent:r});return E(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(w(r)?r:Promise.resolve(r));return E(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:o.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new pe({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return de.create(this,this._def)}nullable(){return _e.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return J.create(this,this._def)}promise(){return fe.create(this,this._def)}or(e){return Q.create([this,e],this._def)}and(e){return te.create(this,e,this._def)}transform(e){return new pe({...k(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new ge({...k(this._def),innerType:this,defaultValue:t,typeName:ke.ZodDefault})}brand(){return new be({typeName:ke.ZodBranded,type:this,...k(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new ve({...k(this._def),innerType:this,catchValue:t,typeName:ke.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return we.create(this,e)}readonly(){return xe.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const P=/^c[^\s-]{8,}$/i,O=/^[a-z][a-z0-9]*$/,R=/^[0-9A-HJKMNP-TV-Z]{26}$/,j=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,A=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let T;const C=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,I=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class N extends F{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==s.string){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.string,received:t.parsedType}),_}const t=new d;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:o.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:o.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,i=e.data.length<s.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?p(n,{code:o.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&p(n,{code:o.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)A.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"email",code:o.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)T||(T=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),T.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"emoji",code:o.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)j.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"uuid",code:o.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)P.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid",code:o.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)O.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid2",code:o.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ulid",code:o.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(c){n=this._getOrReturnCtx(e,n),p(n,{validation:"url",code:o.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"regex",code:o.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),p(n,{code:o.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:o.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:o.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){((u=s).precision?u.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${u.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${u.precision}}Z$`):0===u.precision?u.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):u.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:o.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else"ip"===s.kind?(i=e.data,("v4"!==(a=s.version)&&a||!C.test(i))&&("v6"!==a&&a||!I.test(i))&&(n=this._getOrReturnCtx(e,n),p(n,{validation:"ip",code:o.invalid_string,message:s.message}),t.dirty())):r.assertNever(s);var i,a,u;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:o.invalid_string,...x.errToObj(n)})}_addCheck(e){return new N({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var t;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,...x.errToObj(null===e||void 0===e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...x.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...x.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...x.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...x.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...x.errToObj(t)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function D(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}N.create=e=>{var t;return new N({checks:[],typeName:ke.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class L extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==s.number){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.number,received:t.parsedType}),_}let t;const n=new d;for(const i of this._def.checks)if("int"===i.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),p(t,{code:o.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==D(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),p(t,{code:o.not_finite,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,r){return new L({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(r)}]})}_addCheck(e){return new L({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}L.create=e=>new L({checks:[],typeName:ke.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class U extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==s.bigint){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.bigint,received:t.parsedType}),_}let t;const n=new d;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),p(t,{code:o.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,r){return new U({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(r)}]})}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}U.create=e=>{var t;return new U({checks:[],typeName:ke.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class M extends F{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==s.boolean){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.boolean,received:t.parsedType}),_}return v(e.data)}}M.create=e=>new M({typeName:ke.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class B extends F{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==s.date){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.date,received:t.parsedType}),_}if(isNaN(e.data.getTime())){return p(this._getOrReturnCtx(e),{code:o.invalid_date}),_}const t=new d;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:o.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:o.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):r.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}B.create=e=>new B({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:ke.ZodDate,...k(e)});class H extends F{_parse(e){if(this._getType(e)!==s.symbol){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.symbol,received:t.parsedType}),_}return v(e.data)}}H.create=e=>new H({typeName:ke.ZodSymbol,...k(e)});class V extends F{_parse(e){if(this._getType(e)!==s.undefined){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.undefined,received:t.parsedType}),_}return v(e.data)}}V.create=e=>new V({typeName:ke.ZodUndefined,...k(e)});class Z extends F{_parse(e){if(this._getType(e)!==s.null){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.null,received:t.parsedType}),_}return v(e.data)}}Z.create=e=>new Z({typeName:ke.ZodNull,...k(e)});class z extends F{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}z.create=e=>new z({typeName:ke.ZodAny,...k(e)});class K extends F{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}K.create=e=>new K({typeName:ke.ZodUnknown,...k(e)});class q extends F{_parse(e){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.never,received:t.parsedType}),_}}q.create=e=>new q({typeName:ke.ZodNever,...k(e)});class W extends F{_parse(e){if(this._getType(e)!==s.undefined){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.void,received:t.parsedType}),_}return v(e.data)}}W.create=e=>new W({typeName:ke.ZodVoid,...k(e)});class J extends F{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==s.array)return p(t,{code:o.invalid_type,expected:s.array,received:t.parsedType}),_;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(p(t,{code:e?o.too_big:o.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(p(t,{code:o.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(p(t,{code:o.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new S(t,e,t.path,n))))).then((e=>d.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new S(t,e,t.path,n))));return d.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new J({...this._def,minLength:{value:e,message:x.toString(t)}})}max(e,t){return new J({...this._def,maxLength:{value:e,message:x.toString(t)}})}length(e,t){return new J({...this._def,exactLength:{value:e,message:x.toString(t)}})}nonempty(e){return this.min(1,e)}}function G(e){if(e instanceof $){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=de.create(G(r))}return new $({...e._def,shape:()=>t})}return e instanceof J?new J({...e._def,type:G(e.element)}):e instanceof de?de.create(G(e.unwrap())):e instanceof _e?_e.create(G(e.unwrap())):e instanceof ne?ne.create(e.items.map((e=>G(e)))):e}J.create=(e,t)=>new J({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...k(t)});class $ extends F{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==s.object){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.object,received:t.parsedType}),_}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof q&&"strip"===this._def.unknownKeys))for(const s in n.data)i.includes(s)||a.push(s);const u=[];for(const s of i){const e=r[s],t=n.data[s];u.push({key:{status:"valid",value:s},value:e._parse(new S(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof q){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)u.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(p(n,{code:o.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];u.push({key:{status:"valid",value:t},value:e._parse(new S(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of u){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>d.mergeObjectSync(t,e))):d.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new $({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=x.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(e){return new $({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $({...this._def,catchall:e})}pick(e){const t={};return r.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new $({...this._def,shape:()=>t})}omit(e){const t={};return r.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new $({...this._def,shape:()=>t})}deepPartial(){return G(this)}partial(e){const t={};return r.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new $({...this._def,shape:()=>t})}required(e){const t={};return r.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof de;)e=e._def.innerType;t[n]=e}})),new $({...this._def,shape:()=>t})}keyof(){return ce(r.objectKeys(this.shape))}}$.create=(e,t)=>new $({shape:()=>e,unknownKeys:"strip",catchall:q.create(),typeName:ke.ZodObject,...k(t)}),$.strictCreate=(e,t)=>new $({shape:()=>e,unknownKeys:"strict",catchall:q.create(),typeName:ke.ZodObject,...k(t)}),$.lazycreate=(e,t)=>new $({shape:e,unknownKeys:"strip",catchall:q.create(),typeName:ke.ZodObject,...k(t)});class Q extends F{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new u(e.ctx.common.issues)));return p(t,{code:o.invalid_union,unionErrors:n}),_}));{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new u(e)));return p(t,{code:o.invalid_union,unionErrors:i}),_}}get options(){return this._def.options}}Q.create=(e,t)=>new Q({options:e,typeName:ke.ZodUnion,...k(t)});const Y=e=>e instanceof oe?Y(e.schema):e instanceof pe?Y(e.innerType()):e instanceof ue?[e.value]:e instanceof le?e.options:e instanceof he?Object.keys(e.enum):e instanceof ge?Y(e._def.innerType):e instanceof V?[void 0]:e instanceof Z?[null]:null;class X extends F{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.object)return p(t,{code:o.invalid_type,expected:s.object,received:t.parsedType}),_;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=Y(i.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new X({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...k(n)})}}function ee(e,t){const n=a(e),i=a(t);if(e===t)return{valid:!0,data:e};if(n===s.object&&i===s.object){const n=r.objectKeys(t),i=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),s={...e,...t};for(const r of i){const n=ee(e[r],t[r]);if(!n.valid)return{valid:!1};s[r]=n.data}return{valid:!0,data:s}}if(n===s.array&&i===s.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=ee(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===s.date&&i===s.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class te extends F{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(m(e)||m(r))return _;const i=ee(e.value,r.value);return i.valid?((y(e)||y(r))&&t.dirty(),{status:t.value,value:i.data}):(p(n,{code:o.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}te.create=(e,t,n)=>new te({left:e,right:t,typeName:ke.ZodIntersection,...k(n)});class ne extends F{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.array)return p(n,{code:o.invalid_type,expected:s.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return p(n,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(p(n,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new S(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>d.mergeArray(t,e))):d.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ne({...this._def,rest:e})}}ne.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ne({items:e,typeName:ke.ZodTuple,rest:null,...k(t)})};class re extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.object)return p(n,{code:o.invalid_type,expected:s.object,received:n.parsedType}),_;const r=[],i=this._def.keyType,a=this._def.valueType;for(const s in n.data)r.push({key:i._parse(new S(n,s,n.path,s)),value:a._parse(new S(n,n.data[s],n.path,s))});return n.common.async?d.mergeObjectAsync(t,r):d.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new re(t instanceof F?{keyType:e,valueType:t,typeName:ke.ZodRecord,...k(n)}:{keyType:N.create(),valueType:e,typeName:ke.ZodRecord,...k(t)})}}class ie extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.map)return p(n,{code:o.invalid_type,expected:s.map,received:n.parsedType}),_;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new S(n,e,n.path,[s,"key"])),value:i._parse(new S(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return _;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return _;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}ie.create=(e,t,n)=>new ie({valueType:t,keyType:e,typeName:ke.ZodMap,...k(n)});class se extends F{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.set)return p(n,{code:o.invalid_type,expected:s.set,received:n.parsedType}),_;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(p(n,{code:o.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(p(n,{code:o.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return _;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const u=[...n.data.values()].map(((e,t)=>i._parse(new S(n,e,n.path,t))));return n.common.async?Promise.all(u).then((e=>a(e))):a(u)}min(e,t){return new se({...this._def,minSize:{value:e,message:x.toString(t)}})}max(e,t){return new se({...this._def,maxSize:{value:e,message:x.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}se.create=(e,t)=>new se({valueType:e,minSize:null,maxSize:null,typeName:ke.ZodSet,...k(t)});class ae extends F{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.function)return p(t,{code:o.invalid_type,expected:s.function,received:t.parsedType}),_;function n(e,n){return f({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),c].filter((e=>!!e)),issueData:{code:o.invalid_arguments,argumentsError:n}})}function r(e,n){return f({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),c].filter((e=>!!e)),issueData:{code:o.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof fe){const e=this;return v((async function(...t){const s=new u([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(n(t,e)),s})),c=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(c,i).catch((e=>{throw s.addIssue(r(c,e)),s}))}))}{const e=this;return v((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new u([n(t,s.error)]);const o=Reflect.apply(a,this,s.data),c=e._def.returns.safeParse(o,i);if(!c.success)throw new u([r(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ae({...this._def,args:ne.create(e).rest(K.create())})}returns(e){return new ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ae({args:e||ne.create([]).rest(K.create()),returns:t||K.create(),typeName:ke.ZodFunction,...k(n)})}}class oe extends F{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}oe.create=(e,t)=>new oe({getter:e,typeName:ke.ZodLazy,...k(t)});class ue extends F{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ce(e,t){return new le({values:e,typeName:ke.ZodEnum,...k(t)})}ue.create=(e,t)=>new ue({value:e,typeName:ke.ZodLiteral,...k(t)});class le extends F{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{expected:r.joinValues(n),received:t.parsedType,code:o.invalid_type}),_}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{received:t.data,code:o.invalid_enum_value,options:n}),_}return v(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return le.create(e)}exclude(e){return le.create(this.options.filter((t=>!e.includes(t))))}}le.create=ce;class he extends F{_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==s.string&&n.parsedType!==s.number){const e=r.objectValues(t);return p(n,{expected:r.joinValues(e),received:n.parsedType,code:o.invalid_type}),_}if(-1===t.indexOf(e.data)){const e=r.objectValues(t);return p(n,{received:n.data,code:o.invalid_enum_value,options:e}),_}return v(e.data)}get enum(){return this._def.values}}he.create=(e,t)=>new he({values:e,typeName:ke.ZodNativeEnum,...k(t)});class fe extends F{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.promise&&!1===t.common.async)return p(t,{code:o.invalid_type,expected:s.promise,received:t.parsedType}),_;const n=t.parsedType===s.promise?t.data:Promise.resolve(t.data);return v(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}fe.create=(e,t)=>new fe({type:e,typeName:ke.ZodPromise,...k(t)});class pe extends F{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:e=>{p(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===i.type){const e=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?_:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?_:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!b(e))return e;const r=i.transform(e.value,s);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>b(e)?Promise.resolve(i.transform(e.value,s)).then((e=>({status:t.value,value:e}))):e))}r.assertNever(i)}}pe.create=(e,t,n)=>new pe({schema:e,typeName:ke.ZodEffects,effect:t,...k(n)}),pe.createWithPreprocess=(e,t,n)=>new pe({schema:t,effect:{type:"preprocess",transform:e},typeName:ke.ZodEffects,...k(n)});class de extends F{_parse(e){return this._getType(e)===s.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}de.create=(e,t)=>new de({innerType:e,typeName:ke.ZodOptional,...k(t)});class _e extends F{_parse(e){return this._getType(e)===s.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_e.create=(e,t)=>new _e({innerType:e,typeName:ke.ZodNullable,...k(t)});class ge extends F{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===s.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ge.create=(e,t)=>new ge({innerType:e,typeName:ke.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...k(t)});class ve extends F{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ve.create=(e,t)=>new ve({innerType:e,typeName:ke.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...k(t)});class me extends F{_parse(e){if(this._getType(e)!==s.nan){const t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:s.nan,received:t.parsedType}),_}return{status:"valid",value:e.data}}}me.create=e=>new me({typeName:ke.ZodNaN,...k(e)});const ye=Symbol("zod_brand");class be extends F{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class we extends F{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new we({in:e,out:t,typeName:ke.ZodPipeline})}}class xe extends F{_parse(e){const t=this._def.innerType._parse(e);return b(t)&&(t.value=Object.freeze(t.value)),t}}xe.create=(e,t)=>new xe({innerType:e,typeName:ke.ZodReadonly,...k(t)});const Se=(e,t={},n)=>e?z.create().superRefine(((r,i)=>{var s,a;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a,u="string"===typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:o})}})):z.create(),Ee={object:$.lazycreate};var ke;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ke||(ke={}));const Fe=N.create,Pe=L.create,Oe=me.create,Re=U.create,je=M.create,Ae=B.create,Te=H.create,Ce=V.create,Ie=Z.create,Ne=z.create,De=K.create,Le=q.create,Ue=W.create,Me=J.create,Be=$.create,He=$.strictCreate,Ve=Q.create,Ze=X.create,ze=te.create,Ke=ne.create,qe=re.create,We=ie.create,Je=se.create,Ge=ae.create,$e=oe.create,Qe=ue.create,Ye=le.create,Xe=he.create,et=fe.create,tt=pe.create,nt=de.create,rt=_e.create,it=pe.createWithPreprocess,st=we.create,at={string:e=>N.create({...e,coerce:!0}),number:e=>L.create({...e,coerce:!0}),boolean:e=>M.create({...e,coerce:!0}),bigint:e=>U.create({...e,coerce:!0}),date:e=>B.create({...e,coerce:!0})},ot=_;var ut=Object.freeze({__proto__:null,defaultErrorMap:c,setErrorMap:function(e){l=e},getErrorMap:h,makeIssue:f,EMPTY_PATH:[],addIssueToContext:p,ParseStatus:d,INVALID:_,DIRTY:g,OK:v,isAborted:m,isDirty:y,isValid:b,isAsync:w,get util(){return r},get objectUtil(){return i},ZodParsedType:s,getParsedType:a,ZodType:F,ZodString:N,ZodNumber:L,ZodBigInt:U,ZodBoolean:M,ZodDate:B,ZodSymbol:H,ZodUndefined:V,ZodNull:Z,ZodAny:z,ZodUnknown:K,ZodNever:q,ZodVoid:W,ZodArray:J,ZodObject:$,ZodUnion:Q,ZodDiscriminatedUnion:X,ZodIntersection:te,ZodTuple:ne,ZodRecord:re,ZodMap:ie,ZodSet:se,ZodFunction:ae,ZodLazy:oe,ZodLiteral:ue,ZodEnum:le,ZodNativeEnum:he,ZodPromise:fe,ZodEffects:pe,ZodTransformer:pe,ZodOptional:de,ZodNullable:_e,ZodDefault:ge,ZodCatch:ve,ZodNaN:me,BRAND:ye,ZodBranded:be,ZodPipeline:we,ZodReadonly:xe,custom:Se,Schema:F,ZodSchema:F,late:Ee,get ZodFirstPartyTypeKind(){return ke},coerce:at,any:Ne,array:Me,bigint:Re,boolean:je,date:Ae,discriminatedUnion:Ze,effect:tt,enum:Ye,function:Ge,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Se((t=>t instanceof e),t),intersection:ze,lazy:$e,literal:Qe,map:We,nan:Oe,nativeEnum:Xe,never:Le,null:Ie,nullable:rt,number:Pe,object:Be,oboolean:()=>je().optional(),onumber:()=>Pe().optional(),optional:nt,ostring:()=>Fe().optional(),pipeline:st,preprocess:it,promise:et,record:qe,set:Je,strictObject:He,string:Fe,symbol:Te,transformer:tt,tuple:Ke,undefined:Ce,union:Ve,unknown:De,void:Ue,NEVER:ot,ZodIssueCode:o,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:u}),ct=function(e){return"".concat(e," is not provided.")},lt=function(e){return ut.string().min(1,ct(e))},ht=function(e){return ut.string().min(1,ct(e)).url(function(e){return"".concat(e," is not a valid URL.")}(e))},ft=ut.object({ALGOLIA_APPLICATION_ID:lt("NEXT_PUBLIC_ALGOLIA_APPLICATION_ID"),ALGOLIA_INDEX:lt("NEXT_PUBLIC_ALGOLIA_INDEX"),ALGOLIA_READ_KEY:lt("NEXT_PUBLIC_ALGOLIA_READ_KEY"),API_BASE_URL:ht("NEXT_PUBLIC_API_BASE_URL"),API_METADATA_API_URL:ht("NEXT_PUBLIC_API_METADATA_API_URL"),API_STATUS_BLOB_URL:ht("NEXT_PUBLIC_API_STATUS_BLOB_URL"),APIM_MANAGEMENT_URL:ht("NEXT_PUBLIC_APIM_MANAGEMENT_URL"),APPLICATIONS_API_URL:ht("NEXT_PUBLIC_APPLICATIONS_API_URL"),BENTLEY_OAUTH_AUTHORIZATION_URL:ht("NEXT_PUBLIC_BENTLEY_OAUTH_AUTHORIZATION_URL"),BENTLEY_OAUTH_CONSOLE_CLIENT:lt("NEXT_PUBLIC_BENTLEY_OAUTH_CONSOLE_CLIENT"),BENTLEY_OAUTH_TOKEN_URL:ht("NEXT_PUBLIC_BENTLEY_OAUTH_TOKEN_URL"),DEVELOPER_PORTAL_API_URL:ht("NEXT_PUBLIC_DEVELOPER_PORTAL_API_URL"),ENVIRONMENT:lt("NEXT_PUBLIC_ENVIRONMENT"),FUNCTION_APP_URL:ht("NEXT_PUBLIC_FUNCTION_APP_URL"),GITHUB_ITWIN_URL:ht("NEXT_PUBLIC_GITHUB_ITWIN_URL"),GITHUB_DISCUSSIONS_ITWIN_URL:ht("NEXT_PUBLIC_GITHUB_DISCUSSIONS_ITWIN_URL"),IDEAS_PORTAL_URL:ht("NEXT_PUBLIC_IDEAS_PORTAL_URL"),IMODEL_HUB_URL:ht("NEXT_PUBLIC_IMODEL_HUB_URL"),IMS_PROFILE_URL:ht("NEXT_PUBLIC_IMS_PROFILE_URL"),INSIGHTS_API_URL:ht("NEXT_PUBLIC_INSIGHTS_API_URL"),ITWINJS_INDEX:lt("NEXT_PUBLIC_ITWINJS_INDEX"),ITWINJS_URL:ht("NEXT_PUBLIC_ITWINJS_URL"),LAUNCHDARKLY_CLIENT_ID:lt("NEXT_PUBLIC_LAUNCHDARKLY_CLIENT_ID"),OIDC_AUTHORITY:ht("NEXT_PUBLIC_OIDC_AUTHORITY"),OIDC_CLIENT_ID:lt("NEXT_PUBLIC_OIDC_CLIENT_ID"),OIDC_SCOPE:lt("NEXT_PUBLIC_OIDC_SCOPE"),ITWINS_API_URL:ht("NEXT_PUBLIC_ITWINS_API_URL"),RECAPTCHA_SITE_KEY:lt("NEXT_PUBLIC_RECAPTCHA_SITE_KEY"),REPORTING_API_URL:ht("NEXT_PUBLIC_REPORTING_API_URL"),REPORTING_API_KEYS_URL:ht("NEXT_PUBLIC_REPORTING_API_KEYS_URL"),SAMPLE_IMODEL_NAME:lt("NEXT_PUBLIC_SAMPLE_IMODEL_NAME"),SANDBOX_BACKEND_URL:ht("NEXT_PUBLIC_SANDBOX_BACKEND_URL"),SANDBOX_FRONTEND_URL:ht("NEXT_PUBLIC_SANDBOX_FRONTEND_URL"),AGREEMENT_SERVICE_URL:ht("NEXT_PUBLIC_AGREEMENT_SERVICE_URL")}).safeParse({ALGOLIA_APPLICATION_ID:"MUMMM8WBE5",ALGOLIA_INDEX:"dev_iTwinPlatformPortal",ALGOLIA_READ_KEY:"e4bd9db94dfe5da797ab011d2a3d9f9f",API_BASE_URL:"https://dev-api.bentley.com",API_METADATA_API_URL:"https://dev-api.bentley.com/api-metadata/v2",API_STATUS_BLOB_URL:"https://apimdeveussa03.blob.core.windows.net/",APIM_MANAGEMENT_URL:"https://dev-api-wcus-apim-01.management.azure-api.net/subscriptions/sid/resourceGroups/rgid/providers/Microsoft.ApiManagement/service/sid",APPLICATIONS_API_URL:"https://dev-api.bentley.com/apps/v2",BENTLEY_OAUTH_AUTHORIZATION_URL:"https://qa-ims.bentley.com/connect/authorize",BENTLEY_OAUTH_CONSOLE_CLIENT:"itwin-developer-console-dev",BENTLEY_OAUTH_TOKEN_URL:"https://qa-ims.bentley.com/connect/token",DEVELOPER_PORTAL_API_URL:"https://dev-api.bentley.com/itwin-developer-portal/v1",ENVIRONMENT:"dev",FUNCTION_APP_URL:"https://dev-apim2-wcus.azurewebsites.net",GITHUB_ITWIN_URL:"https://github.com/iTwin",GITHUB_DISCUSSIONS_ITWIN_URL:"https://github.com/orgs/iTwin/discussions",IDEAS_PORTAL_URL:"https://itwinplatform.ideas.aha.io/",IMODEL_HUB_URL:"https://dev-connect-imodelhubwebsite.bentley.com",IMS_PROFILE_URL:"https://dev-usermanagement.bentley.com/Profile",INSIGHTS_API_URL:"https://dev-api.bentley.com/insights",ITWINJS_INDEX:"dev_documentation",ITWINJS_URL:"https://dev.imodeljs.org",LAUNCHDARKLY_CLIENT_ID:"60f6c6f2379d910d480da5fb",OIDC_AUTHORITY:"https://qa-ims.bentley.com",OIDC_CLIENT_ID:"apim-developer-portal",OIDC_SCOPE:"openid profile global_roles email insights:read itwin-apps:modify itwin-apps:read itwin-products:read projects:read projects:modify users:read feature_tracking storage:modify storage:read synchronization:read synchronization:modify imodels:read imodels:modify imodelaccess:read realitydata:read itwins:read itwins:modify itwin-developer-portal",ITWINS_API_URL:"https://dev-api.bentley.com/itwins",RECAPTCHA_SITE_KEY:"6LefG_EUAAAAAIswZ_2WjsAUfMg2VdCe0qEFKfCS",REPORTING_API_URL:"https://dev-api.bentley.com/insights/reporting",REPORTING_API_KEYS_URL:"https://dev-api.bentley.com/insights/keys/v1",SAMPLE_IMODEL_NAME:"Test IModel",SANDBOX_BACKEND_URL:"https://connect-itwinjscodesandbox.bentley.com",SANDBOX_FRONTEND_URL:"https://www.itwinjs.org/sandboxes",AGREEMENT_SERVICE_URL:"https://qa-connect-agreement.bentley.com"});if(!ft.success)throw new Error(JSON.stringify(ft.error.issues,null,2));var pt=ft.data},52818:function(e,t,n){"use strict";var r=n(6227),i=n(67294),s=n(51477),a=n(51974),o=(n(79096),n(5948)),u=n(85893);t.Z=function(e){var t=e.firstName,n=e.lastName,c=e.size,l=e.styleType,h=(0,i.useMemo)((function(){return s.c.getUserFullName(t,n)}),[t,n]),f=(0,i.useMemo)((function(){return s.c.getUserAbbreviation(t,n)}),[t,n]),p=(0,i.useMemo)((function(){return(0,r.getUserColor)(h)}),[h]);return t&&n?(0,u.jsx)(a.Z,{children:(0,u.jsx)(r.Avatar,{className:"avatar","data-style-type":l,size:c,abbreviation:f,backgroundColor:p,title:h})}):(0,u.jsx)(a.Z,{children:(0,u.jsx)(r.Avatar,{className:"avatar","data-style-type":l,image:(0,u.jsx)(o.JFW,{"aria-hidden":"true"}),size:c})})}},51974:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(59499),i=n(4730),s=n(94184),a=n.n(s),o=n(6227),u=n(85893),c=["className","theme"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){var t=e.className,n=e.theme,s=void 0===n?"inherit":n,h=(0,i.Z)(e,c);return(0,u.jsx)(o.ThemeProvider,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:a()(["transparent-container",t]),theme:s},h))}},75409:function(e,t,n){"use strict";var r=n(57255),i=n(11163),s=n(20949),a=n(4465),o=n(25781),u=(n(2749),n(85893));t.Z=function(e){var t=e.givenName,n=e.closeModal,c=(0,s.A)(),l=(0,a.v)(),h=(0,o.kP)(),f=h.session,p=h.fetchSession,d=(0,i.useRouter)();return(0,u.jsx)(r.Modal,{isOpen:!0,title:"Hi, ".concat(t,"!"),id:"trial-prompt-modal",closeOnExternalClick:!1,isDismissible:!1,children:(0,u.jsxs)("div",{className:"content",children:[(0,u.jsxs)("div",{className:"main-content",children:[(0,u.jsxs)("div",{className:"trial-prompt-modal-text",children:[(0,u.jsx)(r.Text,{variant:"headline",className:"trial-prompt-modal-headline",children:"Sign up for a free 90 days Trial*"}),(0,u.jsx)(r.Text,{variant:"subheading",className:"trial-prompt-modal-subheading",children:"Learn about the iTwin Platform at your own pace. No credit card needed."}),(0,u.jsx)(r.Text,{variant:"leading",className:"trial-prompt-modal-leading",children:(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"Access all iTwin Platform services"}),(0,u.jsx)("li",{children:"Includes 1 GB of storage"}),(0,u.jsx)("li",{children:"Community Support"})]})}),(0,u.jsx)(r.Text,{variant:"body",className:"trial-prompt-modal-body-text",children:"*For non-commercial use only. Use your Trial to explore tutorials and learn more about the iTwin Platform."})]}),(0,u.jsx)("img",{id:"trial-prompt-illustration",src:"/unreal-docs-site/static/images/svg/trial-prompt-illustration.svg",alt:"trial-prompt-image"})]}),(0,u.jsxs)(r.ModalButtonBar,{className:"trial-prompt-modal-button-bar",children:[(0,u.jsx)(r.Button,{id:"not-now-button",styleType:"borderless",onClick:function(){n(),!0!==(null===f||void 0===f?void 0:f.profile.trialPromptShown)&&c.updateTrialPrompt().then((function(){return l.getSession()})).then((function(){return p()}))},children:"Not now"}),(0,u.jsx)(r.Button,{id:"sign-up-button",styleType:"high-visibility",onClick:function(){n(),c.updateTrialPrompt().then((function(){return l.getSession()})).then((function(){return p()})).then((function(){return d.push("/trial")}))},children:"Sign up"})]})]})})}},44352:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var r=n(59499),i=n(6227),s=n(61686),a=n(51974),o=(n(98803),n(85893));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){var t=e.theme,n=void 0===t?"inherit":t;return(0,o.jsx)(a.Z,{theme:n,children:(0,o.jsx)(i.Footer,{className:"footer",customElements:function(e){return e.map((function(e){return c(c({},e),{},{url:"termsOfService"===e.key?s.sz:e.url})}))}})})}},72600:function(e,t,n){"use strict";var r=n(59499),i=(n(67294),n(85893));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e){return(0,i.jsx)("svg",a(a({},e),{},{children:(0,i.jsx)("path",{d:"M15.997 3.95a1.405 1.405 0 0 0-.682-1.122L11.901.802a1.397 1.397 0 0 0-1.427 0L10.3.906l-1.017.604L7.06 2.828a1.404 1.404 0 0 0-.684 1.202v1.113l-.85-.504a1.397 1.397 0 0 0-1.427 0l-2.157 1.28-.995.59-.262.156A1.404 1.404 0 0 0 0 7.867v4.103c0 .027.001.054.003.08a1.405 1.405 0 0 0 .682 1.122l3.414 2.026a1.397 1.397 0 0 0 1.427 0l.175-.104 1.017-.604 2.222-1.318a1.404 1.404 0 0 0 .685-1.202v-1.113l.85.504a1.397 1.397 0 0 0 1.426 0l2.157-1.28.996-.59.262-.156A1.404 1.404 0 0 0 16 8.133V4.03c0-.027-.001-.054-.003-.08zM4.82 6.619a.744.744 0 1 1-.744.744.744.744 0 0 1 .744-.744zm2.037 6.375-.3.184-1.071.66-.367.227-.19.117a.174.174 0 0 1-.043.02.253.253 0 0 1-.173-.012l-.017-.008-.103-.064-1.825-1.124V11.86s.006-.244.316-.067l1.126.692v-2.428l-.701-.433V8.492s.006-.244.317-.066l1.582.973v3.091l1.132-.696c.31-.177.317.067.317.067zm8.548-7.889v3.028a.807.807 0 0 1-.393.69l-.262.156-.996.591-2.156 1.28a.802.802 0 0 1-.82 0l-1.153-.685V7.867a1.404 1.404 0 0 0-.685-1.202l-1.124-.667-.846-.502V4.03a.807.807 0 0 1 .393-.69L9.585 2.02l1.018-.604.175-.103a.803.803 0 0 1 .82 0l3.414 2.025a.814.814 0 0 1 .392.645l.001.046zm-3.958-2.713 2.157 1.329V5.06s-.008.288-.375.078L11.9 4.32v2.87l.829.511v1.34s-.007.288-.374.078l-1.87-1.15V4.316l-1.338.822c-.367.21-.374-.078-.374-.078V3.72l.354-.217 1.266-.78.434-.268.224-.138a.205.205 0 0 1 .05-.025.299.299 0 0 1 .205.016l.02.01z"})}))};o.defaultProps={viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};t.Z=function(e){return(0,i.jsx)(o,a({},e))}},82909:function(e,t,n){"use strict";var r=n(59499),i=n(4730),s=n(94184),a=n.n(s),o=(n(67294),n(64055),n(85893)),u=["className"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return(0,o.jsx)("svg",l(l({},e),{},{children:(0,o.jsx)("path",{d:"M16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4L10.6 0M16 16V7h-1v8H1V1h8V0H0v16z"})}))};h.defaultProps={viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};t.Z=function(e){var t=e.className,n=(0,i.Z)(e,u);return(0,o.jsx)(h,l({className:a()(["new-window-icon",t])},n))}},71747:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r,i,s=n(59499);!function(e){e.Trial="Trial",e.Basic="Basic",e.Premium="Premium",e.Enterprise="Enterprise"}(i||(i={}));r={},(0,s.Z)(r,i.Basic,500),(0,s.Z)(r,i.Premium,1500)},85804:function(e,t,n){"use strict";n.d(t,{CY:function(){return s},DF:function(){return a},Dd:function(){return l},Gf:function(){return i},JV:function(){return c},N7:function(){return d},No:function(){return _},PX:function(){return u},Sj:function(){return f},aJ:function(){return h},dG:function(){return r},dO:function(){return p},ex:function(){return g},l8:function(){return v},xR:function(){return o}});var r=100,i=6e4,s=10,a=[10,25,50],o=864e5,u=15,c=864e5,l="formSubmitAttempt",h="formSubmitSuccess",f="formSubmitFailure",p="try-it-out-console-root",d="app-page-modal-root",_=4,g="eula",v=[{value:"AD",label:"Andorra"},{value:"AE",label:"United Arab Emirates"},{value:"AF",label:"Afghanistan"},{value:"AG",label:"Antigua and Barbuda"},{value:"AI",label:"Anguilla"},{value:"AL",label:"Albania"},{value:"AM",label:"Armenia"},{value:"AN",label:"Netherlands Antilles"},{value:"AO",label:"Angola"},{value:"AQ",label:"Antarctica"},{value:"AR",label:"Argentina"},{value:"AS",label:"American Samoa"},{value:"AT",label:"Austria"},{value:"AU",label:"Australia"},{value:"AW",label:"Aruba"},{value:"AZ",label:"Azerbaijan"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BB",label:"Barbados"},{value:"BD",label:"Bangladesh"},{value:"BE",label:"Belgium"},{value:"BF",label:"Burkina Faso"},{value:"BG",label:"Bulgaria"},{value:"BH",label:"Bahrain"},{value:"BI",label:"Burundi"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BN",label:"Brunei Darussalam"},{value:"BO",label:"Bolivia"},{value:"BR",label:"Brazil"},{value:"BS",label:"Bahamas"},{value:"BT",label:"Bhutan"},{value:"BV",label:"Bouvet Island"},{value:"BW",label:"Botswana"},{value:"BY",label:"Belarus"},{value:"BZ",label:"Belize"},{value:"CA",label:"Canada"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CD",label:"Congo, the Democratic Republic of the"},{value:"CF",label:"Central African Republic"},{value:"CG",label:"Congo"},{value:"CH",label:"Switzerland"},{value:"CI",label:"Cote D'Ivoire"},{value:"CK",label:"Cook Islands"},{value:"CL",label:"Chile"},{value:"CM",label:"Cameroon"},{value:"CN",label:"China"},{value:"CO",label:"Colombia"},{value:"CR",label:"Costa Rica"},{value:"CV",label:"Cape Verde"},{value:"CW",label:"Cura\xe7ao"},{value:"CX",label:"Christmas Island"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DE",label:"Germany"},{value:"DJ",label:"Djibouti"},{value:"DK",label:"Denmark"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"DZ",label:"Algeria"},{value:"EC",label:"Ecuador"},{value:"EE",label:"Estonia"},{value:"EG",label:"Egypt"},{value:"EH",label:"Western Sahara"},{value:"ER",label:"Eritrea"},{value:"ES",label:"Spain"},{value:"ET",label:"Ethiopia"},{value:"FI",label:"Finland"},{value:"FJ",label:"Fiji"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FM",label:"Micronesia, Federated States of"},{value:"FO",label:"Faroe Islands"},{value:"FR",label:"France"},{value:"GA",label:"Gabon"},{value:"GB",label:"United Kingdom"},{value:"GD",label:"Grenada"},{value:"GE",label:"Georgia"},{value:"GF",label:"French Guiana"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GL",label:"Greenland"},{value:"GM",label:"Gambia"},{value:"GN",label:"Guinea"},{value:"GP",label:"Guadeloupe"},{value:"GQ",label:"Equatorial Guinea"},{value:"GR",label:"Greece"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"GT",label:"Guatemala"},{value:"GU",label:"Guam"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HK",label:"Hong Kong, China"},{value:"HM",label:"Heard Island and Mcdonald Islands"},{value:"HN",label:"Honduras"},{value:"HR",label:"Croatia"},{value:"HT",label:"Haiti"},{value:"HU",label:"Hungary"},{value:"ID",label:"Indonesia"},{value:"IE",label:"Ireland"},{value:"IL",label:"Israel"},{value:"IN",label:"India"},{value:"IO",label:"British Indian Ocean Territory"},{value:"IQ",label:"Iraq"},{value:"IS",label:"Iceland"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JO",label:"Jordan"},{value:"JP",label:"Japan"},{value:"KE",label:"Kenya"},{value:"KG",label:"Kyrgyzstan"},{value:"KH",label:"Cambodia"},{value:"KI",label:"Kiribati"},{value:"KM",label:"Comoros"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"KR",label:"South Korea"},{value:"KW",label:"Kuwait"},{value:"KY",label:"Cayman Islands"},{value:"KZ",label:"Kazakhstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LB",label:"Lebanon"},{value:"LC",label:"Saint Lucia"},{value:"LI",label:"Liechtenstein"},{value:"LK",label:"Sri Lanka"},{value:"LR",label:"Liberia"},{value:"LS",label:"Lesotho"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"LV",label:"Latvia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"MA",label:"Morocco"},{value:"MC",label:"Monaco"},{value:"MD",label:"Moldova, Republic of"},{value:"MG",label:"Madagascar"},{value:"MH",label:"Marshall Islands"},{value:"MK",label:"Macedonia, the Former Yugoslav Republic of"},{value:"ML",label:"Mali"},{value:"MM",label:"Myanmar"},{value:"MN",label:"Mongolia"},{value:"MO",label:"Macao"},{value:"MP",label:"Northern Mariana Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MS",label:"Montserrat"},{value:"MT",label:"Malta"},{value:"MU",label:"Mauritius"},{value:"MV",label:"Maldives"},{value:"MW",label:"Malawi"},{value:"MX",label:"Mexico"},{value:"MY",label:"Malaysia"},{value:"MZ",label:"Mozambique"},{value:"NA",label:"Namibia"},{value:"NC",label:"New Caledonia"},{value:"NE",label:"Niger"},{value:"NF",label:"Norfolk Island"},{value:"NG",label:"Nigeria"},{value:"NI",label:"Nicaragua"},{value:"NL",label:"Netherlands"},{value:"NO",label:"Norway"},{value:"NP",label:"Nepal"},{value:"NR",label:"Nauru"},{value:"NU",label:"Niue"},{value:"NZ",label:"New Zealand"},{value:"OM",label:"Oman"},{value:"PA",label:"Panama"},{value:"PE",label:"Peru"},{value:"PF",label:"French Polynesia"},{value:"PG",label:"Papua New Guinea"},{value:"PH",label:"Philippines"},{value:"PK",label:"Pakistan"},{value:"PL",label:"Poland"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"PN",label:"Pitcairn"},{value:"PR",label:"Puerto Rico"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PT",label:"Portugal"},{value:"PW",label:"Palau"},{value:"PY",label:"Paraguay"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RS",label:"Serbia"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"SA",label:"Saudi Arabia"},{value:"SB",label:"Solomon Islands"},{value:"SC",label:"Seychelles"},{value:"SE",label:"Sweden"},{value:"SG",label:"Singapore"},{value:"SH",label:"Saint Helena"},{value:"SI",label:"Slovenia"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SK",label:"Slovakia"},{value:"SL",label:"Sierra Leone"},{value:"SM",label:"San Marino"},{value:"SN",label:"Senegal"},{value:"SO",label:"Somalia"},{value:"SR",label:"Suriname"},{value:"ST",label:"Sao Tome and Principe"},{value:"SV",label:"El Salvador"},{value:"SZ",label:"Swaziland"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TD",label:"Chad"},{value:"TF",label:"French Southern Territories"},{value:"TG",label:"Togo"},{value:"TH",label:"Thailand"},{value:"TJ",label:"Tajikistan"},{value:"TK",label:"Tokelau"},{value:"TL",label:"Timor-Leste"},{value:"TM",label:"Turkmenistan"},{value:"TN",label:"Tunisia"},{value:"TO",label:"Tonga"},{value:"TR",label:"Turkey"},{value:"TT",label:"Trinidad and Tobago"},{value:"TV",label:"Tuvalu"},{value:"TW",label:"Taiwan, China"},{value:"TZ",label:"Tanzania, United Republic of"},{value:"UA",label:"Ukraine"},{value:"UG",label:"Uganda"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"US",label:"United States"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"VE",label:"Venezuela"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.s."},{value:"VN",label:"Viet Nam"},{value:"VU",label:"Vanuatu"},{value:"WF",label:"Wallis and Futuna"},{value:"WS",label:"Samoa"},{value:"YE",label:"Yemen"},{value:"YT",label:"Mayotte"},{value:"ZA",label:"South Africa"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}]},46415:function(e,t,n){"use strict";n.d(t,{Cs:function(){return s},DY:function(){return h},E$:function(){return x},Gc:function(){return i},K3:function(){return g},R8:function(){return m},TB:function(){return c},UH:function(){return d},Vg:function(){return _},Vy:function(){return v},Wz:function(){return o},XS:function(){return b},Xb:function(){return f},_h:function(){return l},j8:function(){return u},oi:function(){return p},qr:function(){return r},u7:function(){return w},uU:function(){return a},wm:function(){return y}});var r="algolia-search",i="contact-sales",s="credit-usage-details",a="is-platform-health-enabled",o="pricing",u="account-settings-page",c="itwin-developer-conference-banner",l="success-stories",h="trial-form",f="consumption-page",p="discover-our-sample-library-section",d="is-tests-running",_="blog-page",g="show-subscription-information-in-profile",v="submit-trial-recaptcha",m="itwin-university",y="learning-page",b="data-center-locations",w="app-details-v2",x="show-component-registry-link"},61686:function(e,t,n){"use strict";n.d(t,{$Z:function(){return p},$r:function(){return m},A:function(){return I},AP:function(){return q},E0:function(){return K},EN:function(){return f},FH:function(){return S},HP:function(){return j},Hi:function(){return D},Kh:function(){return T},LI:function(){return V},MG:function(){return _},Nd:function(){return H},Nz:function(){return b},Od:function(){return N},PY:function(){return O},QL:function(){return r},QR:function(){return x},RM:function(){return o},Sd:function(){return h},Ss:function(){return s},Vg:function(){return g},Wv:function(){return P},ZY:function(){return v},_m:function(){return B},au:function(){return w},eU:function(){return F},ei:function(){return a},fI:function(){return R},f_:function(){return L},fy:function(){return Z},ih:function(){return y},lP:function(){return i},q$:function(){return z},rh:function(){return A},sU:function(){return U},sz:function(){return C},tQ:function(){return c},up:function(){return M},v4:function(){return l},wL:function(){return k},xJ:function(){return u},xn:function(){return E},z$:function(){return d}});var r="/account-settings",i="/accreditation",s="/api-groups",a="/apps",o="/blog",u="/contact-sales",c="/apis",l="/get-started",h="/",f="/itwinplatform",p="/my-apps",d="/my-itwins",_="/learning",g="/platform-health",v="/powered-by-itwin",m="/pricing",y="/profile",b="/register",w="/esregister",x="/roles-and-permissions",S="/samples",E="/success-stories",k="/support",F="/tutorials",P="/learning/courses",O="/learning/hands-on-labs",R="/unreal",j="/unity",A="/consumption",T="/trial",C="/terms-of-service",I="/apis/overview",N="/start-subscription",D="/404",L="/itwin-university",U="/spatial",M="/data-centers",B="/register-v2",H="/apps-v2",V=[r,a,A,"/insights/api-keys/addapikey","/insights/api-keys/modifyapikey",p,d,y,b,N],Z=[x,C,D,"/redirect","/redirect-silent"],z="useAppDetailsV2",K=function(e){if(!1===e)return b;var t=localStorage.getItem(z);return t||(localStorage.setItem(z,"true"),t="true"),JSON.parse(t)?B:b},q=function(e){if(!1===e)return a;var t=localStorage.getItem(z);return t||(localStorage.setItem(z,"true"),t="true"),JSON.parse(t)?H:a}},20949:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(67294),i=n(28038),s=n(23315);function a(){var e=(0,s.a)();return(0,r.useMemo)((function(){return new i.Z(e.accessToken)}),[e])}},8302:function(e,t,n){"use strict";n.d(t,{k:function(){return r.kP}});var r=n(25781)},4465:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var r=n(67294),i=n(50029),s=n(92777),a=n(82262),o=n(87794),u=n.n(o),c=n(9669),l=n.n(c),h=n(42869),f=function(){function e(t){(0,s.Z)(this,e),this.accessToken=t}return(0,a.Z)(e,[{key:"getSession",value:function(){var e=(0,i.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().post("/session",{},{baseURL:h.Z.DEVELOPER_PORTAL_API_URL,headers:{Authorization:"Bearer ".concat(this.accessToken)}});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.warn("Error while trying to create a session",e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),p=n(23315);function d(){var e=(0,p.a)();return(0,r.useMemo)((function(){return new f(e.accessToken)}),[e])}},73351:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(41664),i=n.n(r),s=(n(67294),n(85893));function a(e){var t=e.children,n=e.href,r=e.as,a=e.target,o=e.className,u=e.style,c=void 0===u?{}:u,l=e.onClick;return(0,s.jsx)(i(),{href:n,as:r,passHref:!0,children:(0,s.jsx)("a",{style:c,target:a,className:o,onClick:l,children:t})})}},58679:function(e,t,n){"use strict";var r;n.d(t,{j:function(){return r}}),function(e){e.Active="active",e.Expired="expired",e.Canceled="canceled"}(r||(r={}))},54963:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(92777),i=n(82262),s=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"isPreloading",get:function(){return!1}},{key:"isRuntime",get:function(){return!this.isPreloading}}]),e}()},45829:function(e,t,n){"use strict";n.d(t,{H:function(){return g},m:function(){return v}});var r=n(50029),i=n(87794),s=n.n(i),a=n(64671),o=n(67294),u=n(42869),c=n(51477),l=n(51475),h=n(85893),f=function(){throw new Error("You forgot to wrap your component in <AuthProvider>.")},p={},d={isLoaded:!1,isLoggingIn:!1,user:p,isLoggedIn:!1,signin:f,signinInPopup:f,signout:f,completeSignIn:f,completeSignInPopup:f,silentSignin:f,completeSilentSignin:f},_=(0,o.createContext)(d),g=function(e){var t=(0,o.useState)(!1),n=t[0],i=t[1],f=(0,o.useState)(p),d=f[0],g=f[1],v=(0,o.useState)(!1),m=v[0],y=v[1],b=(0,o.useRef)(),w=(0,o.useState)(!1),x=w[0],S=w[1];(0,o.useEffect)((function(){var e=new a.UserManager({response_type:"code",query_status_response_type:"code",loadUserInfo:!0,filterProtocolClaims:!0,automaticSilentRenew:!0,userStore:new a.WebStorageStateStore({store:window.localStorage}),authority:u.Z.OIDC_AUTHORITY,client_id:u.Z.OIDC_CLIENT_ID,post_logout_redirect_uri:window.location.origin,redirect_uri:"".concat(window.location.origin,"/redirect"),scope:u.Z.OIDC_SCOPE,silent_redirect_uri:"".concat(window.location.origin,"/redirect-silent")});e.events.addUserLoaded((function(e){A(e)})),e.events.addAccessTokenExpired((function(){A(null)})),e.clearStaleState(),e.getUser().then((function(t){A(t),b.current=e,S(!0)}))}),[]);var E=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.prev=2,e.next=5,null===(t=b.current)||void 0===t?void 0:t.signinSilent();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])}))),[]),k=(0,o.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,T();case 3:return e.prev=3,e.next=6,null===(r=b.current)||void 0===r?void 0:r.signinRedirect({data:{return_url:t?c.c.getAllowedReturnUrl(t):window.location.href},login_hint:n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.warn("Error trying redirect signin",e.t0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]),F=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,T();case 3:return e.prev=3,e.next=6,null===(t=b.current)||void 0===t?void 0:t.signinPopup();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.warn("Error trying redirect signin popup",e.t0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])}))),[]),P=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=b.current)||void 0===t?void 0:t.signoutRedirect();case 2:return e.next=4,null===(n=b.current)||void 0===n?void 0:n.removeUser();case 4:return e.next=6,T();case 6:S(!1),A(null);case 8:case"end":return e.stop()}}),e)}))),[]),O=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=b.current)||void 0===t?void 0:t.signinRedirectCallback();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return","/");case 5:return e.abrupt("return",c.c.getAllowedReturnUrl(n.state.return_url));case 6:case"end":return e.stop()}}),e)}))),[]),R=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=b.current)||void 0===t?void 0:t.signinPopupCallback());case 1:case"end":return e.stop()}}),e)}))),[]),j=(0,o.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=b.current)||void 0===t?void 0:t.signinSilentCallback();case 2:case"end":return e.stop()}}),e)}))),[]);function A(e){if(null==e)return i(!1),void g(p);g({accessToken:e.access_token,firstName:e.profile.given_name,lastName:e.profile.family_name,email:e.profile.email,sub:e.profile.sub,ultimateSite:e.profile.ultimate_site}),i(!0)}function T(){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.c.removeAllFromLocalStorageByPatterns(["agreement:.*","getApisList:.*","getApiVersions:.*","getOperations:.*","getOperationsByTags:.*","getApi:.*","getApiReleases:.*","getApiTags:.*","taggedScopeMap:.*","ld:.*","oidc.user:.*","session-state:.*"]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=(0,o.useMemo)((function(){return{isLoaded:x,isLoggingIn:m,isLoggedIn:n,user:d,signin:k,signinInPopup:F,signout:P,completeSignIn:O,completeSignInPopup:R,silentSignin:E,completeSilentSignin:j}}),[x,m,n,d,k,F,P,O,R,E,j]);return(0,h.jsx)(_.Provider,{value:I,children:e.children})},v=function(){return(0,o.useContext)(_)}},25781:function(e,t,n){"use strict";n.d(t,{HX:function(){return v},ab:function(){return m},eA:function(){return g},kP:function(){return y}});var r=n(50029),i=n(87794),s=n.n(i),a=n(67294),o=n(71747),u=n(4465),c=n(58679),l=n(51477),h=n(45829),f=n(85893),p=function(){throw new Error("You forgot to wrap your component in <SessionProvider>.")},d={isInitializing:!1,session:void 0,fetchSession:p,showTrialBanner:!1,closeTrialBanner:p},_=(0,a.createContext)(d),g=function(e){var t=(0,a.useState)(),n=t[0],i=t[1],o=(0,u.v)(),p=(0,h.m)(),d=p.isLoggedIn,g=p.signout,m=p.user,y=(0,a.useState)(!1),b=y[0],w=y[1],x=(0,a.useState)(!1),S=x[0],E=x[1],k=(0,a.useState)(0),F=k[0],P=k[1],O="session-state:".concat(m.sub),R=(0,a.useCallback)((function(){localStorage.removeItem(O)}),[O]),j=(0,a.useCallback)((0,r.Z)(s().mark((function e(){var t,n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.next=5,o.getSession();case 5:(t=e.sent)&&(null!==t&&void 0!==t&&null!==(n=t.subscription)&&void 0!==n&&n.tier&&(t.subscription.tier=v(t.subscription.tier)),null!==t&&void 0!==t&&t.profile.tier&&(t.profile.tier=v(t.profile.tier)),null!==t&&void 0!==t&&null!==(r=t.account)&&void 0!==r&&null!==(a=r.subscription)&&void 0!==a&&a.tier&&(t.account.subscription.tier=v(t.account.subscription.tier)),localStorage.setItem(O,JSON.stringify(t)),i(t)),w(!1);case 8:case"end":return e.stop()}}),e)}))),[b,o,O]),A=function(){E(!1)};(0,a.useEffect)((function(){if(d){var e=localStorage.getItem(O);if(!e)return P(F+1),F<=5?void j():(g(),P(0),void l.c.unexpectedErrorToaster());P(0);var t=JSON.parse(e);return i(t),R}}),[R,j,d,O]),(0,a.useEffect)((function(){var e,t,r,i,s,a;if(n&&"Trial"===(null===(e=n.subscription)||void 0===e?void 0:e.tier)&&((null===(t=n.subscription)||void 0===t?void 0:t.state)===c.j.Active||(null===(r=n.subscription)||void 0===r?void 0:r.state)===c.j.Expired)&&null!==(i=n.subscription)&&void 0!==i&&i.startedDateTime&&null!==(s=n.subscription)&&void 0!==s&&s.expirationDateTime){var o=new Date,u=new Date(null===(a=n.subscription)||void 0===a?void 0:a.startedDateTime);o.setHours(0,0,0,0),u.setHours(0,0,0,0),E(u<o)}else E(!1)}),[n]),n&&new Date(n.managementTokenExpiry)<=new Date(Date.now())&&d&&j();var T=(0,a.useMemo)((function(){return{isInitializing:b,session:n,fetchSession:j,showTrialBanner:S,closeTrialBanner:A}}),[j,b,n,S]);return(0,f.jsx)(_.Provider,{value:T,children:e.children})};function v(e){switch(e){case"Developer":return o.K.Basic;case"Partner":return o.K.Premium;case"Integrator":return o.K.Enterprise;default:return e}}function m(e){switch(e){case"Basic":return"Developer";case"Premium":return"Partner";case"Enterprise":return"Integrator";default:return e}}var y=function(){return(0,a.useContext)(_)}},99301:function(e,t,n){"use strict";n.d(t,{m:function(){return r.m}});var r=n(45829)},4232:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(99301),i=n(70268),s=function(){var e=(0,r.m)().user;return(0,i.n)()||console.warn("useUser is called when user is not logged in"),e}},23315:function(e,t,n){"use strict";n.d(t,{a:function(){return r.a},n:function(){return i.n}});var r=n(4232),i=n(70268)},89026:function(e,t,n){"use strict";n.d(t,{j:function(){return ye},L:function(){return be}});var r=n(62991),i=n.n(r),s=n(67294);function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[$]}function u(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}(e)||Array.isArray(e)||!!e[G]||!!e.constructor[G]||_(e)||g(e))}function c(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:Y)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function l(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:_(e)?2:g(e)?3:0}function h(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){return 2===l(e)?e.get(t):e[t]}function p(e,t,n){var r=l(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function _(e){return K&&e instanceof Map}function g(e){return q&&e instanceof Set}function v(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[$];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y(e,t){return void 0===t&&(t=!1),w(e)||o(e)||!u(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=b),Object.freeze(e),t&&c(e,(function(e,t){return y(t,!0)}),!0)),e}function b(){a(2)}function w(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function x(e){var t=ee[e];return t||a(18,e),t}function S(e,t){ee[e]||(ee[e]=t)}function E(){return Z}function k(e,t){t&&(x("Patches"),e.u=[],e.s=[],e.v=t)}function F(e){P(e),e.p.forEach(R),e.p=null}function P(e){e===Z&&(Z=e.l)}function O(e){return Z={p:[],l:Z,h:e,m:!0,_:0}}function R(e){var t=e[$];0===t.i||1===t.i?t.j():t.O=!0}function j(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||x("ES5").S(t,e,r),r?(n[$].P&&(F(t),a(4)),u(e)&&(e=A(t,e),t.l||C(t,e)),t.u&&x("Patches").M(n[$],e,t.u,t.s)):e=A(t,n,[]),F(t),t.u&&t.v(t.u,t.s),e!==J?e:void 0}function A(e,t,n){if(w(t))return t;var r=t[$];if(!r)return c(t,(function(i,s){return T(e,r,t,i,s,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return C(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;c(3===r.i?new Set(i):i,(function(t,s){return T(e,r,i,t,s,n)})),C(e,i,!1),n&&e.u&&x("Patches").R(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,i,s){if(o(i)){var a=A(e,i,s&&t&&3!==t.i&&!h(t.D,r)?s.concat(r):void 0);if(p(n,r,a),!o(a))return;e.m=!1}if(u(i)&&!w(i)){if(!e.h.F&&e._<1)return;A(e,i),t&&t.A.l||C(e,i)}}function C(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&y(t,n)}function I(e,t){var n=e[$];return(n?v(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function L(e){e.o||(e.o=m(e.t))}function U(e,t,n){var r=_(t)?x("MapSet").N(t,n):g(t)?x("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:E(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,s=te;n&&(i=[r],s=ne);var a=Proxy.revocable(i,s),o=a.revoke,u=a.proxy;return r.k=u,r.j=o,u}(t,n):x("ES5").J(t,n);return(n?n.A:E()).p.push(r),r}function M(e){return o(e)||a(22,e),function e(t){if(!u(t))return t;var n,r=t[$],i=l(t);if(r){if(!r.P&&(r.i<4||!x("ES5").K(r)))return r.t;r.I=!0,n=B(t,i),r.I=!1}else n=B(t,i);return c(n,(function(t,i){r&&f(r.t,t)===i||p(n,t,e(i))})),3===i?new Set(n):n}(e)}function B(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function H(){function e(t){if(!u(t))return t;if(Array.isArray(t))return t.map(e);if(_(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(g(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return h(t,G)&&(n[G]=t[G]),n}function t(t){return o(t)?e(t):t}var n="add";S("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,s=r.op,o=t,u=0;u<i.length-1;u++){var c=l(o),h=""+i[u];0!==c&&1!==c||"__proto__"!==h&&"constructor"!==h||a(24),"function"==typeof o&&"prototype"===h&&a(24),"object"!=typeof(o=f(o,h))&&a(15,i.join("/"))}var p=l(o),d=e(r.value),_=i[i.length-1];switch(s){case"replace":switch(p){case 2:return o.set(_,d);case 3:a(16);default:return o[_]=d}case n:switch(p){case 1:return o.splice(_,0,d);case 2:return o.set(_,d);case 3:return o.add(d);default:return o[_]=d}case"remove":switch(p){case 1:return o.splice(_,1);case 2:return o.delete(_);case 3:return o.delete(r.value);default:return delete o[_]}default:a(17,s)}})),t},R:function(e,r,i,s){switch(e.i){case 0:case 4:case 2:return function(e,r,i,s){var a=e.t,o=e.o;c(e.D,(function(e,u){var c=f(a,e),l=f(o,e),p=u?h(a,e)?"replace":n:"remove";if(c!==l||"replace"!==p){var d=r.concat(e);i.push("remove"===p?{op:p,path:d}:{op:p,path:d,value:l}),s.push(p===n?{op:"remove",path:d}:"remove"===p?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,s);case 5:case 1:return function(e,r,i,s){var a=e.t,o=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[s,i];i=l[0],s=l[1]}for(var h=0;h<a.length;h++)if(o[h]&&u[h]!==a[h]){var f=r.concat([h]);i.push({op:"replace",path:f,value:t(u[h])}),s.push({op:"replace",path:f,value:t(a[h])})}for(var p=a.length;p<u.length;p++){var d=r.concat([p]);i.push({op:n,path:d,value:t(u[p])})}a.length<u.length&&s.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,s);case 3:return function(e,t,r,i){var s=e.t,a=e.o,o=0;s.forEach((function(e){if(!a.has(e)){var s=t.concat([o]);r.push({op:"remove",path:s,value:e}),i.unshift({op:n,path:s,value:e})}o++})),o=0,a.forEach((function(e){if(!s.has(e)){var a=t.concat([o]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}o++}))}(e,r,i,s)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===J?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}var V,Z,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),K="undefined"!=typeof Map,q="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,J=z?Symbol.for("immer-nothing"):((V={})["immer-nothing"]=!0,V),G=z?Symbol.for("immer-draftable"):"__$immer_draftable",$=z?Symbol.for("immer-state"):"__$immer_state",Q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ee={},te={get:function(e,t){if(t===$)return e;var n=v(e);if(!h(n,t))return function(e,t,n){var r,i=N(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!u(r)?r:r===I(e.t,t)?(L(e),e.o[t]=U(e.A.h,r,e)):r},has:function(e,t){return t in v(e)},ownKeys:function(e){return Reflect.ownKeys(v(e))},set:function(e,t,n){var r=N(v(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=I(v(e),t),s=null==i?void 0:i[$];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||h(e.t,t)))return!0;L(e),D(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,L(e),D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},ne={};c(te,(function(e,t){ne[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ne.deleteProperty=function(e,t){return te.deleteProperty.call(this,e[0],t)},ne.set=function(e,t,n){return te.set.call(this,e[0],t,n,e[0])};var re=function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var o;if("function"!=typeof n&&a(6),void 0!==r&&"function"!=typeof r&&a(7),u(e)){var c=O(t),l=U(t,e,void 0),h=!0;try{o=n(l),h=!1}finally{h?F(c):P(c)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return k(c,r),j(e,c)}),(function(e){throw F(c),e})):(k(c,r),j(o,c))}if(!e||"object"!=typeof e){if((o=n(e))===J)return;return void 0===o&&(o=e),t.F&&y(o,!0),o}a(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){u(e)||a(8),o(e)&&(e=M(e));var t=O(this),n=U(this,e,void 0);return n[$].C=!0,P(t),n},t.finishDraft=function(e,t){var n=(e&&e[$]).A;return k(n,t),j(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&a(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=x("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),ie=new re,se=ie.produce,ae=ie.produceWithPatches.bind(ie),oe=(ie.setAutoFreeze.bind(ie),ie.setUseProxies.bind(ie),ie.applyPatches.bind(ie));ie.createDraft.bind(ie),ie.finishDraft.bind(ie);function ue(e,t,n){const r=(0,s.useRef)({state:void 0,initialized:!1});r.current.initialized||(r.current.state=t?t(e.getRawState()):e.getRawState(),r.current.initialized=!0);const[,a]=(0,s.useState)(0);if((0,s.useEffect)((()=>{const n={shouldUpdate:!0};function s(){if(n.shouldUpdate){const s=t?t(e.getRawState()):e.getRawState();i()(r.current.state,s)||n.shouldUpdate&&(r.current.state=s,a((e=>e+1)))}}return e._addUpdateListener(s),s(),()=>{n.shouldUpdate=!1,e._removeUpdateListener(s)}}),null!==n&&void 0!==n?n:[]),void 0!==n){const a=(0,s.useRef)(n);i()(n,a)||(r.current.state=t(e.getRawState()))}return r.current.state}function ce(e,t){const n=(0,s.useRef)();if(null==n.current&&(n.current=new fe(e)),void 0!==t){const r=(0,s.useRef)(t);i()(t,r)||(n.current=new fe(e))}return n.current}const le={storeOrdinal:0,batching:!1,flushStores:{}};H();const he="~._.~";class fe{constructor(e){if(this.updateListeners=[],this.ssr=!1,this.reactions=[],this.clientSubscriptions=[],this.reactionCreators=[],this.optimizedUpdateListeners={},this.optimizedUpdateListenerPaths={},this.optimizedListenerPropertyMap={},this._optListenerCount=0,this._patchListeners=[],e instanceof Function){const t=e();this.currentState=t,this.initialState=t,this.createInitialState=e}else this.currentState=e,this.initialState=e,this.createInitialState=()=>e;this.internalOrdId=le.storeOrdinal++}_setInternalOptions({ssr:e,reactionCreators:t=[]}){this.ssr=e,this.reactionCreators=t,this.reactions=t.map((e=>e(this)))}_getReactionCreators(){return this.reactionCreators}_instantiateReactions(){this.reactions=this.reactionCreators.map((e=>e(this)))}_getInitialState(){return this.createInitialState()}_updateStateWithoutReaction(e){this.currentState=e}_updateState(e,t=[]){this.currentState=e,this.batchState=void 0;for(const n of this.reactions)t.push(...n());if(!this.ssr){for(const e of this.clientSubscriptions)e();if(t.length>0){const e=new Set;for(const n of t)if(this.optimizedListenerPropertyMap[n])for(const t of this.optimizedListenerPropertyMap[n])e.add(t);for(const t of e.values())this.optimizedUpdateListeners[t]&&this.optimizedUpdateListeners[t]()}this.updateListeners.forEach((e=>e()))}}_addUpdateListener(e){this.updateListeners.push(e)}_addUpdateListenerOpt(e,t,n){this.optimizedUpdateListeners[t]=e;const r=n.map((e=>e.join(he)));this.optimizedUpdateListenerPaths[t]=r;for(const i of r)null==this.optimizedListenerPropertyMap[i]?this.optimizedListenerPropertyMap[i]=[t]:this.optimizedListenerPropertyMap[i].push(t);this._optListenerCount++}_removeUpdateListener(e){this.updateListeners=this.updateListeners.filter((t=>t!==e))}_removeUpdateListenerOpt(e){const t=this.optimizedUpdateListenerPaths[e];for(const n of t)this.optimizedListenerPropertyMap[n]=this.optimizedListenerPropertyMap[n].filter((t=>t!==e));delete this.optimizedUpdateListenerPaths[e],delete this.optimizedUpdateListeners[e],this._optListenerCount--}listenToPatches(e){return this._patchListeners.push(e),()=>{this._patchListeners=this._patchListeners.filter((t=>t!==e))}}subscribe(e,t){if(!this.ssr){const n=function(e,t,n){let r=t(e.getRawState());return()=>{const s=e.getRawState(),a=t(s);i()(a,r)||(n(a,s,r),r=a)}}(this,e,t);return this.clientSubscriptions.push(n),()=>{this.clientSubscriptions=this.clientSubscriptions.filter((e=>e!==n))}}return()=>{console.warn("Pullstate: Subscriptions made on the server side are not registered - so therefor this call to unsubscribe does nothing.")}}createReaction(e,t,{runNow:n=!1,runNowWithSideEffects:r=!1}={}){const s=function(e,t){return n=>{let r=e(n.getRawState());return(s=!1)=>{const a=n.getRawState(),o=e(a);if(s||!i()(o,r))if(n._optListenerCount>0){const[e,i,s]=ae(a,(e=>t(o,e,a,r)));if(n._updateStateWithoutReaction(e),r=o,i.length>0)return n._patchListeners.forEach((e=>e(i,s))),Object.keys(pe(i))}else{if(n._patchListeners.length>0){const[e,i,s]=ae(a,(e=>t(o,e,a,r)));i.length>0&&n._patchListeners.forEach((e=>e(i,s))),n._updateStateWithoutReaction(e)}else n._updateStateWithoutReaction(se(a,(e=>t(o,e,a,r))));r=o}return[]}}}(e,t);this.reactionCreators.push(s);const a=s(this);return this.reactions.push(a),(n||r)&&(a(!0),r&&!this.ssr&&this._updateState(this.currentState)),()=>{this.reactions=this.reactions.filter((e=>e!==a))}}getRawState(){return void 0!==this.batchState?this.batchState:this.currentState}useState(e,t){return ue(this,e,t)}useLocalCopyInitial(e){return ce(this.createInitialState,e)}useLocalCopySnapshot(e){return ce(this.currentState,e)}flushBatch(e=!1){void 0!==this.batchState?this.batchState!==this.currentState&&this._updateState(this.batchState):e||console.error("Pullstate: Trying to flush batch state which was never created or updated on"),this.batchState=void 0}update(e,t){if(le.batching){void 0===this.batchState&&(this.batchState=this.currentState,le.flushStores[this.internalOrdId]=this);const n="function"===typeof e,[r,i,s]=de(this.batchState,e,n);i.length>0&&(this._patchListeners.length>0||t)&&(t&&t(i,s),this._patchListeners.forEach((e=>e(i,s)))),this.batchState=r}else this.batchState=void 0,function(e,t,n){const r=e.getRawState(),i="function"===typeof t;if(e._optListenerCount>0){const[s,a,o]=de(r,t,i);a.length>0&&(n&&n(a,o),e._patchListeners.forEach((e=>e(a,o))),e._updateState(s,Object.keys(pe(a))))}else{let s;if(e._patchListeners.length>0||n){const[a,o,u]=de(r,t,i);o.length>0&&(n&&n(o,u),e._patchListeners.forEach((e=>e(o,u)))),s=a}else s=se(r,(e=>i?t(e,r):t.reduce(((e,t)=>se(e,(n=>t(n,e)))),r)));s!==r&&e._updateState(s)}}(this,e,t)}replace(e){this._updateState(e)}applyPatches(e){!function(e,t){const n=e.getRawState(),r=oe(n,t);r!==n&&e._updateState(r,Object.keys(pe(t)))}(this,e)}}function pe(e,t={}){for(const n of e){let e;for(const r of n.path)e=e?`${e}~._.~${r}`:r,t[e]=1}return t}function de(e,t,n){return n?ae(e,(n=>t(n,e))):t.reduce((([e,t,n],r)=>{const i=ae(e,(t=>r(t,e)));return t.push(...i[1]),n.push(...i[2]),[i[0],t,n]}),[e,[],[]])}var _e,ge;!function(e){e.THREW_ERROR="THREW_ERROR",e.RETURNED_ERROR="RETURNED_ERROR",e.UNFINISHED="UNFINISHED",e.DORMANT="DORMANT"}(_e||(_e={})),function(e){e.WATCH_HIT_CACHE="WATCH_HIT_CACHE",e.BECKON_HIT_CACHE="BECKON_HIT_CACHE",e.RUN_HIT_CACHE="RUN_HIT_CACHE",e.READ_HIT_CACHE="READ_HIT_CACHE",e.READ_RUN="READ_RUN",e.SHORT_CIRCUIT="SHORT_CIRCUIT",e.DIRECT_RUN="DIRECT_RUN",e.BECKON_RUN="BECKON_RUN",e.CACHE_UPDATE="CACHE_UPDATE"}(ge||(ge={}));let ve;Error;try{ve=new Proxy({},{get:function(e,t){throw new Error(`Pullstate: Trying to access store (${String(t)}) inside async actions without the correct usage or setup.\nIf this error occurred on the server:\n* If using run(), make use of your created instance for this request: instance.runAsyncAction()\n* If using read(), useWatch(), useBeckon() etc. - make sure you have properly set up your <PullstateProvider/>\n\nIf this error occurred on the client:\n* Make sure you have created your "pullstateCore" object with all your stores, using createPullstateCore(), and are making use of instantiate() before rendering.`)}})}catch{ve={}}_e.UNFINISHED;s.createContext(null);var me;!function(e){e.WATCH="watch",e.BECKON="beckon"}(me||(me={}));var ye=new fe({}),be=function(){return ye.useState()}},70268:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(99301),i=function(){return(0,r.m)().isLoggedIn}},51477:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(16835),i=n(92777),s=n(82262),a=n(59499),o=n(57255),u=n(84204),c=n(85804),l=n(54963),h=function(){function e(){(0,i.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getResourceName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=new RegExp("/".concat(e,"/(.*)")),i=r.exec(t);if(!(i&&i.length>1))throw new Error("Could not parse ID.");switch(n){case"name":return i[1];case"shortId":return"/".concat(e,"/").concat(i[1]);default:throw new Error("Unknown resultType: ".concat(n))}}},{key:"ensureLeadingSlash",value:function(e){return e.startsWith("/")||(e="/"+e),e}},{key:"ensureTrailingSlash",value:function(e){return e.endsWith("/")||(e+="/"),e}},{key:"formatXml",value:function(e){var t=e;try{var n="";e=e.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3");var r=0;return e.split("\r\n").forEach((function(e){var t=0;e.match(/.+<\/\w[^>]*>$/)?t=0:e.match(/^<\/\w/)?0!==r&&(r-=1):t=e.match(/^<\w[^>]*[^/]>.*$/)?1:0;for(var i="",s=0;s<r;s++)i+="    ";n+=i+e+"\r\n",r+=t})),n}catch(i){return t}}},{key:"formatJson",value:function(e){var t=e;try{return(0,u.js)(e,{indent_size:4})}catch(n){return t}}},{key:"formatBytes",value:function(e){var t=" bytes",n=1;e>1024&&(t=" KB",n=1024),e>1048576&&(t=" MB",n=1048576),e>1073741824&&(t=" GB",n=1073741824);var r=Math.floor(e/n);return"".concat(r).concat(t)}},{key:"escapeValueForODataFilter",value:function(e){return e=e.replace(/%/g,"%25").replace(/"/g,'"').replace(/\+/g,"%2B").replace(/\//g,"%2F").replace(/\?/g,"%3F").replace(/#/g,"%23").replace(/&/g,"%26")}},{key:"getBsonObjectId",value:function(){return((new Date).getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)})).toLowerCase()}},{key:"armifyContract",value:function(t,n){(n=e.clone(n)).displayName=n.name;var r={id:n.id,name:this.getResourceName(t,n.id,"name"),properties:n};return delete n.id,delete n.name,r}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"downloadFile",value:function(e,t,n){var r=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{var i=document.createElement("a"),s=URL.createObjectURL(r);i.href=s,i.download=t,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)}),0)}}},{key:"copyToClipboard",value:function(e,t,n){navigator.clipboard&&navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!"),t&&t()}),(function(e){console.error("Async: Could not copy text: ",e),n&&n()}))}},{key:"convertStringToId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace(/\s+/g,"-")}},{key:"IsWellFormedUri",value:function(e){return/^([a-z][a-z0-9\+\-\.]*):(\/?\/?((((\%[0-9a-f][0-9a-f]|[a-z0-9\-\.\_\~]|[\!\$\&\'\(\)\*\+\,\;\=]|\:)*)\@)?(\[(((([0-9a-f]{1,4})\:){6,6}((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|\:\:(([0-9a-f]{1,4})\:){5,5}((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|([0-9a-f]{1,4})?\:\:(([0-9a-f]{1,4})\:){4,4}((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|((([0-9a-f]{1,4})\:)?([0-9a-f]{1,4}))?\:\:(([0-9a-f]{1,4})\:){3,3}((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|((([0-9a-f]{1,4})\:){0,2}([0-9a-f]{1,4}))?\:\:(([0-9a-f]{1,4})\:){2,2}((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|((([0-9a-f]{1,4})\:){0,3}([0-9a-f]{1,4}))?\:\:([0-9a-f]{1,4})\:((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|((([0-9a-f]{1,4})\:){0,4}([0-9a-f]{1,4}))?\:\:((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([0-9a-f]{1,4})\:([0-9a-f]{1,4}))|((([0-9a-f]{1,4})\:){0,5}([0-9a-f]{1,4}))?\:\:([0-9a-f]{1,4})|((([0-9a-f]{1,4})\:){0,6}([0-9a-f]{1,4}))?\:\:)|v[a-f0-9]+\.([a-z0-9\-\.\_\~]|[\!\$\&\'\(\)\*\+\,\;\=]|\:)+)\]|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3,3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|([a-z0-9\-\.\_\~]|\%[0-9a-f][0-9a-f]|[\!\$\&\'\(\)\*\+\,\;\=])*)(:([0-9]+))?)((\/([a-z0-9\-\.\_\~\!\$\&\'\(\)\*\+\,\;\=\:\@]|(%[a-f0-9]{2,2}))*)*))(\?([a-z0-9\-\.\_\~\!\$\&\'\(\)\*\+\,\;\=\:\@\/\?]|(%[a-f0-9]{2,2}))*)?(#([a-z0-9\-\.\_\~\!\$\&\'\(\)\*\+\,\;\=\:\@\/\?]|(%[a-f0-9]{2,2}))*)?$/gim.test(e)}},{key:"ParseUri",value:function(e){var t=e.match("^(?:(?<scheme>[^:\\/?#]+):)?(?:\\/\\/(?<authority>[^\\/?#]*))?(?<path>[^?#]*)(?:\\\\?(?<query>[^#]*))?(?:#(?<fragment>.*))?");return t&&t.groups?{scheme:t.groups.scheme,authority:t.groups.authority,path:t.groups.path}:void 0}},{key:"getAllowedReturnUrl",value:function(e){if(l.l.isPreloading)return"/";try{var t=new URL(e,window.location.origin),n=t.pathname+t.search+t.hash;return t.hostname===window.location.hostname&&RegExp(/^(\/[\w\-\/]+)(\?[\w\-\/=&]+)?(#[\w\-]+)?$/g).test(n)?n:"/"}catch(r){return"/"}}},{key:"roundNumberUp",value:function(e,t){var n=Number(e.toFixed(t));return n<e&&(n+=1/Math.pow(10,t),n=Number(n.toFixed(t))),n}},{key:"getIdFromTitle",value:function(e){return e.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase()}},{key:"findClosestNumberPosition",value:function(e,t){for(var n=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})),r=0;r<e.length;++r)if(e[r]===n)return r;return 0}},{key:"calculateDaysLeft",value:function(e){var t=(new Date).getTime(),n=e.getTime()-t;return Math.ceil(n/c.xR)}},{key:"unexpectedErrorToaster",value:function(){o.toaster.negative("An unexpected error occurred, try again in a few minutes")}},{key:"formatDateToString",value:function(e){return e.toLocaleDateString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}},{key:"isNotNullOrUndefined",value:function(e){return!!e}}]),e}();(0,a.Z)(h,"getUserFullName",(function(e,t){return e&&t?"".concat(e," ").concat(t):"Unknown"})),(0,a.Z)(h,"getAccountAbbreviation",(function(e){var t;return null===(t=e.match(/([A-Z]|\b[a-zA-Z])/g))||void 0===t?void 0:t.join("").toUpperCase()})),(0,a.Z)(h,"getUserAbbreviation",(function(e,t){return e&&t?(e[0]+t[0]).toUpperCase():""})),(0,a.Z)(h,"OmitProperty",(function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return(0,r.Z)(e,1)[0]!==t})))})),(0,a.Z)(h,"EscapeRegExp",(function(e){return e.replace(/[-[\](){}*+?|^$.\\\s]/g,"\\$&")}))},51475:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(50029),i=n(92777),s=n(82262),a=n(59499),o=n(87794),u=n.n(o),c=n(85804),l=n(54963);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"memoryCache",{})}return(0,s.Z)(e,[{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.JV,r={value:t,expire:Date.now()+n};if(l.l.isPreloading)this.memoryCache[e]=JSON.stringify(r);else try{window.localStorage.setItem(e,JSON.stringify(r))}catch(i){}}},{key:"get",value:function(e){var t=l.l.isPreloading?this.memoryCache[e]:window.localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return n.expire<Date.now()?null:n.value}},{key:"getAs",value:function(e){var t=this.get(e);return t?JSON.parse(t):null}},{key:"remove",value:function(e){l.l.isPreloading?delete this.memoryCache[e]:window.localStorage.removeItem(e)}},{key:"removeAllFromLocalStorageByPatterns",value:function(e){if(l.l.isRuntime){var t,n=new RegExp(e.join("|")),r=h(Object.keys(window.localStorage).filter((function(e){return n.test(e)})));try{for(r.s();!(t=r.n()).done;){var i=t.value;window.localStorage.removeItem(i)}}catch(s){r.e(s)}finally{r.f()}}}},{key:"getOrCreate",value:function(){var e=(0,r.Z)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.get(t)){e.next=9;break}return e.next=4,n();case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",i);case 7:r=JSON.stringify(i),this.put(t,r);case 9:return e.abrupt("return",JSON.parse(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),d=new p},5948:function(e,t,n){"use strict";n.d(t,{zWu:function(){return s},ceO:function(){return o},eCc:function(){return c},upq:function(){return h},CZ_:function(){return p},xF4:function(){return _},h$b:function(){return v},GG$:function(){return w},Mpc:function(){return y},PkY:function(){return S},vWV:function(){return k},Q6f:function(){return P},b4C:function(){return R},QlO:function(){return A},MCn:function(){return N},u$m:function(){return C},wM7:function(){return L},Bdq:function(){return M},Do_:function(){return H},dou:function(){return Z},zf_:function(){return K},uSB:function(){return W},yrh:function(){return G},a$F:function(){return Q},xWg:function(){return X},Bbz:function(){return te},huJ:function(){return re},AhN:function(){return se},JFW:function(){return oe},M5i:function(){return ce}});var r=n(67294);var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};var s=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"M7,1v6H1v2h6v6h2V9h6V7H9V1H7z"}))};var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};var o=function(e){return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"M13,13H9V10h4ZM16,3V15a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V3A1,1,0,0,1,1,2H3V0H4V2h8V0h1V2h2A1,1,0,0,1,16,3ZM15,6H1v9H15Z"}))};var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};var c=function(e){return r.createElement("svg",u({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m3.5 14.6v-13.3a.63355.63355 0 0 1 1-.5l7.8 6.6a.66806.66806 0 0 1 0 1l-7.8 6.6c-.3.4-1 .1-1-.4z"}))};var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};var h=function(e){return r.createElement("svg",l({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m16 4.7-1.4-1.4-6.6 6.6-6.6-6.6-1.4 1.4 8 8z"}))};var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)};var p=function(e){return r.createElement("svg",f({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m11.3 0 1.4 1.4-6.6 6.6 6.6 6.6-1.4 1.4-8-8z"}))};var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};var _=function(e){return r.createElement("svg",d({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m11.1 1.5v-.2c0-.1 0-.1-.1-.1h-1.6v-1.2h-3v1.2h-1.6c-.1 0-.1 0-.1.1v.2h-2.7v14.5h12v-14.5zm1.9 13.5h-10v-13h1.7v.6c0 .1 0 .1.1.1h6.2c.1 0 .1 0 .1-.1v-.6h1.9z"}))},g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)};var v=function(e){return r.createElement("svg",g({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8.6 9h-.2l-5-1.5a.48559.48559 0 0 1 -.3-.6.41926.41926 0 0 1 .6-.3l4.3 1.3v-2.4a.5.5 0 0 1 1 0v3a.75812.75812 0 0 1 -.2.4.34914.34914 0 0 1 -.2.1m-.6-7.5a6.5 6.5 0 1 1 -6.5 6.5 6.487 6.487 0 0 1 6.5-6.5m0-1.5a8 8 0 1 0 8 8 8.02352 8.02352 0 0 0 -8-8z"}))};var m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)};var y=function(e){return r.createElement("svg",m({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m12.5 2-4.5 4.5-4.5-4.5-1.5 1.5 4.5 4.5-4.5 4.5 1.5 1.5 4.5-4.5 4.5 4.5 1.5-1.5-4.5-4.5 4.5-4.5z"}))},b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},b.apply(this,arguments)};var w=function(e){return r.createElement("svg",b({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m14 0-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6 6-6"}))};var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)};var S=function(e){return r.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"m5 10h-2a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2h1v-2a2 2 0 0 0 -2-2h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h2zm8-4a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1-1v-7a1 1 0 0 1 1-1zm0-1h-5a2 2 0 0 0 -2 2v7a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-7a2 2 0 0 0 -2-2z"}))};var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)};var k=function(e){return r.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"M14,1V2H2V1H5L6,0h4l1,1ZM3,3H13V15a1,1,0,0,1-1,1H4a1,1,0,0,1-1-1ZM9,14h1V5H9ZM6,14H7V5H6Z"}))};var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)};var P=function(e){return r.createElement("svg",F({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m14 7h-4v-7h-4v7h-4l6 5zm0 4v3h-12v-3h-2v5h16v-5z"}))};var O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)};var R=function(e){return r.createElement("svg",O({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8.8 2.8 4.4 4.4-8.8 8.8h-4.4v-4.4zm-5 11.8 1-1-2.5-2.5-1 1v1.1h1.4v1.4zm5.6-9.8c0-.2-.1-.2-.2-.2s-.1 0-.2.1l-5.7 5.7s-.1.1-.1.2c0 .2.1.2.2.2s.1 0 .2-.1l5.7-5.7s.1-.1.1-.2m6.6-1c0 .4-.1.7-.4 1l-1.8 1.8-4.3-4.5 1.8-1.7c.3-.3.6-.4 1-.4s.7.1 1 .4l2.5 2.5c.1.2.2.6.2.9"}))};var j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)};var A=function(e){return r.createElement("svg",j({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m3.07 7h12.19a.7.7 0 0 1 .68 1l-1.66 5a1.53 1.53 0 0 1 -1.35 1h-12.19a.7.7 0 0 1 -.68-1l1.66-5a1.53 1.53 0 0 1 1.35-1z"}),r.createElement("path",{d:"m.77 7.68a2.54 2.54 0 0 1 2.3-1.68h10.93v-1a1 1 0 0 0 -1-1h-7v-1a1 1 0 0 0 -1-1h-4a1 1 0 0 0 -1 1v7z"}))};var T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T.apply(this,arguments)};var C=function(e){return r.createElement("svg",T({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8zm1.2 3.2a.92336.92336 0 0 1 .997.8433q.00235.02829.003.0567a1.30936 1.30936 0 0 1 -1.3 1.2.94477.94477 0 0 1 -1-1 1.22815 1.22815 0 0 1 1.3-1.1zm-2 9.6c-.5 0-.9-.3-.5-1.7l.6-2.4c.1-.4.1-.5 0-.5-.2-.1-.9.2-1.3.5l-.2-.5a6.49722 6.49722 0 0 1 3.3-1.6c.5 0 .6.6.3 1.6l-.7 2.6c-.1.5-.1.6.1.6a2.00287 2.00287 0 0 0 1.1-.6l.3.4a5.76881 5.76881 0 0 1 -3 1.6z"}))},I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)};var N=function(e){return r.createElement("svg",I({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m10 0a1.53894 1.53894 0 0 1 1.6617 1.40548q.00393.04717.005.09452a2.18227 2.18227 0 0 1 -2.1667 2 1.57463 1.57463 0 0 1 -1.66667-1.66667 2.04692 2.04692 0 0 1 2.16667-1.83333m-3.333 16c-.833 0-1.5-.5-.833-2.833l1-4c.166-.667.166-.834-.001-.834-.333-.167-1.5.333-2.167.833l-.333-.833c2-1.667 4.333-2.667 5.5-2.667.833 0 1 1 .5 2.667l-1.166 4.334c-.167.833-.167 1 .167 1a3.33817 3.33817 0 0 0 1.83334-1l.5.667a9.61465 9.61465 0 0 1 -5.00067 2.666"}))};var D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};var L=function(e){return r.createElement("svg",D({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m7.2 8.9c.8.8 2.2.8 3 0l3-3c.8-.8.8-2.2 0-3s-2.2-.8-3 0l-1 1c-.9-.3-1.8-.4-2.7-.3l2.3-2.3c1.7-1.7 4.3-1.7 6 0 1.6 1.7 1.6 4.4 0 6l-3 3c-3.6 3.6-6.5-.5-6.7-.8l1.4-1.4zm3.7-2.4c-.2-.3-.3-.4-.7-.8-1.6-1.7-4.2-1.7-5.9.1l-3 3c-1.7 1.7-1.7 4.3 0 6s4.3 1.7 6 0l2.3-2.3c-1 .2-1.9.1-2.8-.2l-1.1 1.1c-.8.8-2.2.8-3 0s-.8-2.2 0-3l3-3c1.7-1.7 3.5.5 3.6.8z"}))};var U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)};var M=function(e){return r.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M0,12h16v2H0V12z"}),r.createElement("path",{d:"M0,7h16v2H0V7z"}),r.createElement("path",{d:"M0,2h16v2H0V2z"})))};var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B.apply(this,arguments)};var H=function(e){return r.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("rect",{x:2,y:7,width:12,height:2}))};var V=function(){return V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},V.apply(this,arguments)};var Z=function(e){return r.createElement("svg",V({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m4 8a2 2 0 1 1 -2-2 2 2 0 0 1 2 2zm4-2a2 2 0 1 0 2 2 2 2 0 0 0 -2-2zm6 0a2 2 0 1 0 2 2 2 2 0 0 0 -2-2z"}))};var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)};var K=function(e){return r.createElement("svg",z({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m2.1 9h-2.1v5l1.5-1.4a7.74114 7.74114 0 0 0 6.5 3.4 7.99306 7.99306 0 0 0 7.9-7h-2a6.01624 6.01624 0 0 1 -5.9 5 5.93367 5.93367 0 0 1 -5-2.7l2.4-2.3zm5.9-9a7.99306 7.99306 0 0 0 -7.9 7h2a6.01624 6.01624 0 0 1 5.9-5 5.71978 5.71978 0 0 1 5.1 2.9l-2.1 2.1h5v-5l-1.4 1.4a8.3288 8.3288 0 0 0 -6.6-3.4z"}))},q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)};var W=function(e){return r.createElement("svg",q({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m14.7 2.7-1.4-1.4-5.3 5.3-5.3-5.3-1.4 1.4 5.3 5.3-5.3 5.3 1.4 1.4 5.3-5.3 5.3 5.3 1.4-1.4-5.3-5.3z"}))};var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J.apply(this,arguments)};var G=function(e){return r.createElement("svg",J({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m11 9.7c.7-1 1.1-2.2 1.1-3.5.1-3.5-2.7-6.2-6-6.2-3.4 0-6.1 2.7-6.1 6.1s2.7 6.1 6.1 6.1c1.3 0 2.5-.4 3.5-1.1l4.9 4.9 1.4-1.4zm-5 .5c-2.3 0-4.1-1.8-4.1-4.1s1.8-4.1 4.1-4.1 4.1 1.8 4.1 4.1-1.8 4.1-4.1 4.1"}))};var $=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$.apply(this,arguments)};var Q=function(e){return r.createElement("svg",$({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8zm1 12h-2v-2h2zm0-3h-2v-5h2z"}))};var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)};var X=function(e){return r.createElement("svg",Y({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8-.02022a8 8 0 1 0 8 8 8 8 0 0 0 -8-8zm5 9.5h-10v-3h10z"}))};var ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ee.apply(this,arguments)};var te=function(e){return r.createElement("svg",ee({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m8 0a8 8 0 1 0 8 8 8 8 0 0 0 -8-8zm-1.35 12-3.65-3.41 1.4-1.3 2.36 2.2 4.83-4.49 1.41 1.29z"}))};var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)};var re=function(e){return r.createElement("svg",ne({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m15.86807 13.26721-6.77-11.62a1.15 1.15 0 0 0 -1.1-.67 1.17 1.17 0 0 0 -1.1.69l-6.77 11.59a1.2 1.2 0 0 0 1.1 1.72h13.45a1.19 1.19 0 0 0 1.19-1.71zm-6.87-.29h-2v-2h2zm0-3h-2v-5h2z"}))};var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ie.apply(this,arguments)};var se=function(e){return r.createElement("svg",ie({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m9 0-9 9 7 7 9-9v-7zm3.5 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1 -1.5 1.5z"}))};var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ae.apply(this,arguments)};var oe=function(e){return r.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),r.createElement("path",{d:"M15.92145,14.83936,14.118,10.8457a.77208.77208,0,0,0-.40082-.38971L10.89,8.99487h-.20044A4.56014,4.56014,0,0,1,8,9.99628a4.651,4.651,0,0,1-2.72089-1.0014H5.07867L2.27319,10.456a.77208.77208,0,0,0-.40082.38971L.06891,14.83936a1.03948,1.03948,0,0,0,0,.77936.92011.92011,0,0,0,.80145.38959H15.11993a.92021.92021,0,0,0,.80151-.38959A1.03948,1.03948,0,0,0,15.92145,14.83936Z"}),r.createElement("path",{d:"M7.98429,8.511c2.004,0,3.6071-1.9251,3.6071-4.2555C11.59139,1.0132,9.98829,0,7.98429,0s-3.607,1.0132-3.607,4.2555C4.37729,6.5859,5.98039,8.511,7.98429,8.511Z"}))};var ue=function(){return ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ue.apply(this,arguments)};var ce=function(e){return r.createElement("svg",ue({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"m16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4-1.9-1.9m5.4 16v-9h-1v8h-14v-14h8v-1h-9v16z"}))}},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(97916)}])},13157:function(){},79096:function(){},73678:function(){},51252:function(){},43032:function(){},71434:function(){},11237:function(){},22940:function(){},8270:function(){},25073:function(){},97089:function(){},93935:function(){},4789:function(){},2749:function(){},50231:function(){},96905:function(){},86902:function(){},68485:function(){},98803:function(){},16110:function(){},23962:function(){},83399:function(){},18107:function(){},50908:function(){},80563:function(){},7362:function(){},34218:function(){},64055:function(){},572:function(){},2194:function(){},5152:function(e,t,n){e.exports=n(73579)},9008:function(e,t,n){e.exports=n(72717)},25675:function(e,t,n){e.exports=n(78566)},41664:function(e,t,n){e.exports=n(7942)},67651:function(e,t,n){"use strict";var r=n(67294);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return o((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},71849:function(e,t,n){"use strict";e.exports=n(67651)},11163:function(e,t,n){e.exports=n(69898)},4298:function(e,t,n){e.exports=n(72189)},64671:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,s=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.debug.apply(s,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.info.apply(s,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.warn.apply(s,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.error.apply(s,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return s},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");s=e}}]),e}()).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},s=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){s=!0},e.setXMLHttpRequest=function(e){a=e},r(e,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!s&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return i}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.JsonService;if(a(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var n=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},n,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(o)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=o))),this._metadataUrl}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var s=e.lastIndexOf(t);s>=0&&(e=e.substr(s+1)),"?"===t&&(s=e.indexOf("#"))>=0&&(e=e.substr(0,s));for(var a,o={},u=/([^&=]+)=([^&]*)/g,c=0;a=u.exec(e);)if(o[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in o)return o;return{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n(33));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),a=n(23),o=n(6),u=n(24),c=n(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=".well-known/openid-configuration",f="id_token",p="openid",d="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,s=t.metadata,h=t.signingKeys,_=t.metadataSeed,g=t.client_id,v=t.client_secret,m=t.response_type,y=void 0===m?f:m,b=t.scope,w=void 0===b?p:b,x=t.redirect_uri,S=t.post_logout_redirect_uri,E=t.client_authentication,k=void 0===E?d:E,F=t.prompt,P=t.display,O=t.max_age,R=t.ui_locales,j=t.acr_values,A=t.resource,T=t.response_mode,C=t.filterProtocolClaims,I=void 0===C||C,N=t.loadUserInfo,D=void 0===N||N,L=t.staleStateAge,U=void 0===L?900:L,M=t.clockSkew,B=void 0===M?300:M,H=t.clockService,V=void 0===H?new a.ClockService:H,Z=t.userInfoJwtIssuer,z=void 0===Z?"OP":Z,K=t.mergeClaims,q=void 0!==K&&K,W=t.stateStore,J=void 0===W?new o.WebStorageStateStore:W,G=t.ResponseValidatorCtor,$=void 0===G?u.ResponseValidator:G,Q=t.MetadataServiceCtor,Y=void 0===Q?c.MetadataService:Q,X=t.extraQueryParams,ee=void 0===X?{}:X,te=t.extraTokenParams,ne=void 0===te?{}:te;l(this,e),this._authority=n,this._metadataUrl=i,this._metadata=s,this._metadataSeed=_,this._signingKeys=h,this._client_id=g,this._client_secret=v,this._response_type=y,this._scope=w,this._redirect_uri=x,this._post_logout_redirect_uri=S,this._client_authentication=k,this._prompt=F,this._display=P,this._max_age=O,this._ui_locales=R,this._acr_values=j,this._resource=A,this._response_mode=T,this._filterProtocolClaims=!!I,this._loadUserInfo=!!D,this._staleStateAge=U,this._clockSkew=B,this._clockService=V,this._userInfoJwtIssuer=z,this._mergeClaims=!!q,this._stateStore=J,this._validator=new $(this),this._metadataService=new Y(this),this._extraQueryParams="object"===(void 0===ee?"undefined":r(ee))?ee:{},this._extraTokenParams="object"===(void 0===ne?"undefined":r(ne))?ne:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=h)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,a=t.store,o=void 0===a?i.Global.localStorage:a;s(this,e),this._store=o,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,s){var a=new n._XMLHttpRequest;a.open("GET",e);var o=n._contentTypes,u=n._jwtHandler;a.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var n=o.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==n)return void u(a).then(i,s);if(n)try{return void i(JSON.parse(a.responseText))}catch(i){return r.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void s(i)}}s(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else s(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){r.Log.error("JsonService.getJson: network error"),s(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,n){var i=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise((function(s,a){var o=new i._XMLHttpRequest;o.open("POST",e);var u=i._contentTypes;o.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",o.status),200!==o.status){if(400===o.status&&(n=o.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{var t=JSON.parse(o.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(s){return r.Log.error("JsonService.postForm: Error parsing JSON response",s.message),void a(s)}a(Error(o.statusText+" ("+o.status+")"))}else{var n;if((n=o.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{return void s(JSON.parse(o.responseText))}catch(s){return r.Log.error("JsonService.postForm: Error parsing JSON response",s.message),void a(s)}a(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},o.onerror=function(){r.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var l in t){var h=t[l];h&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(h))}o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&o.setRequestHeader("Authorization","Basic "+btoa(n)),o.send(c)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),s=n(13);t.SigninRequest=function(){function e(t){var n=t.url,a=t.client_id,o=t.redirect_uri,u=t.response_type,c=t.scope,l=t.authority,h=t.data,f=t.prompt,p=t.display,d=t.max_age,_=t.ui_locales,g=t.id_token_hint,v=t.login_hint,m=t.acr_values,y=t.resource,b=t.response_mode,w=t.request,x=t.request_uri,S=t.extraQueryParams,E=t.request_type,k=t.client_secret,F=t.extraTokenParams,P=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!o)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var O=e.isOidc(u),R=e.isCode(u);b||(b=e.isCode(u)?"query":null),this.state=new s.SigninState({nonce:O,data:h,client_id:a,authority:l,redirect_uri:o,code_verifier:R,request_type:E,response_mode:b,client_secret:k,scope:c,extraTokenParams:F,skipUserInfo:P}),n=i.UrlUtility.addQueryParam(n,"client_id",a),n=i.UrlUtility.addQueryParam(n,"redirect_uri",o),n=i.UrlUtility.addQueryParam(n,"response_type",u),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),O&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),R&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var j={prompt:f,display:p,max_age:d,ui_locales:_,id_token_hint:g,login_hint:v,acr_values:m,resource:y,request:w,request_uri:x,response_mode:b};for(var A in j)j[A]&&(n=i.UrlUtility.addQueryParam(n,A,j[A]));for(var T in S)n=i.UrlUtility.addQueryParam(n,T,S[T]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,o=t.request_type;a(this,e),this._id=n||(0,s.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=o}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then((function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var s=[],a=function(a){var o=n[a];u=t.get(o).then((function(n){var s=!1;if(n)try{var a=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",o,a.created),a.created<=r&&(s=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",o,e.message),s=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",o),s=!0;if(s)return i.Log.debug("State.clearStaleState: removed item for key: ",o),t.remove(o)})),s.push(u)},o=0;o<n.length;o++){var u;a(o)}return i.Log.debug("State.clearStaleState: waiting on promise count:",s.length),Promise.all(s)}))},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(5),a=n(12),o=n(8),u=n(34),c=n(35),l=n(36),h=n(13),f=n(9);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),t instanceof s.OidcClientSettings?this._settings=t:this._settings=new s.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,s=t.redirect_uri,a=t.data,u=t.state,c=t.prompt,l=t.display,h=t.max_age,f=t.ui_locales,p=t.id_token_hint,d=t.login_hint,_=t.acr_values,g=t.resource,v=t.request,m=t.request_uri,y=t.response_mode,b=t.extraQueryParams,w=t.extraTokenParams,x=t.request_type,S=t.skipUserInfo,E=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var k=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,s=s||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,h=h||this._settings.max_age,f=f||this._settings.ui_locales,_=_||this._settings.acr_values,g=g||this._settings.resource,y=y||this._settings.response_mode,b=b||this._settings.extraQueryParams,w=w||this._settings.extraTokenParams;var F=this._settings.authority;return o.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var P=new o.SigninRequest({url:t,client_id:k,redirect_uri:s,response_type:n,scope:r,data:a||u,authority:F,prompt:c,display:l,max_age:h,ui_locales:f,id_token_hint:p,login_hint:d,acr_values:_,resource:g,request:v,request_uri:m,extraQueryParams:b,extraTokenParams:w,request_type:x,response_mode:y,client_secret:e._settings.client_secret,skipUserInfo:S}),O=P.state;return(E=E||e._stateStore).set(O.id,O.toStorageString()).then((function(){return P}))}))},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&o.SigninRequest.isCode(this._settings.response_type),s=r?"?":"#",a=new u.SigninResponse(e,s);if(!a.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var c=n?t.remove.bind(t):t.get.bind(t);return c(a.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,s=t.state,a=t.post_logout_redirect_uri,o=t.extraQueryParams,u=t.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,o=o||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var h=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:r||s,extraQueryParams:o,request_type:u}),f=h.state;return f&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(f.id,f.toStorageString())),h}))},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new l.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new a.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var s=r.state;t=t||this._stateStore;var o=n?t.remove.bind(t):t.get.bind(t);return o(s).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.State.fromStorageString(e),response:r}}))},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,f.State.clearStaleState(e,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),s=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new o(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return s.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.error,o=n.error_description,u=n.error_uri,c=n.state,l=n.session_state;if(i(this,t),!a)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var h=s(this,e.call(this,o||a));return h.name="ErrorResponse",h.error=a,h.error_description=o,h.error_uri=u,h.state=c,h.session_state=l,h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(9),a=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,s=n.client_id,l=n.redirect_uri,h=n.code_verifier,f=n.response_mode,p=n.client_secret,d=n.scope,_=n.extraTokenParams,g=n.skipUserInfo;u(this,t);var v=c(this,e.call(this,arguments[0]));if(!0===r?v._nonce=(0,o.default)():r&&(v._nonce=r),!0===h?v._code_verifier=(0,o.default)()+(0,o.default)()+(0,o.default)():h&&(v._code_verifier=h),v.code_verifier){var m=a.JoseUtil.hashString(v.code_verifier,"SHA256");v._code_challenge=a.JoseUtil.hexToBase64Url(m)}return v._redirect_uri=l,v._authority=i,v._client_id=s,v._response_mode=f,v._client_secret=p,v._scope=d,v._extraTokenParams=_,v._skipUserInfo=g,v}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(s.State)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:s)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,s=t.refresh_token,a=t.token_type,o=t.scope,u=t.profile,c=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=s,this.token_type=a,this.scope=o,this.profile=u,this.expires_at=c,this.state=l}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(46);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?60:n,a=t.accessTokenExpiringTimer,o=void 0===a?new i.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;s(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=o,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(19),a=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(o(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,s=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,s,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(n)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,n,r,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=s||2e3,this._stopOnError=a;var o=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,o),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),s=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="access_token",u="refresh_token";t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Global.XMLHttpRequest,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new o(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==o&&i!=u)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(s){if(s){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=n._settings.client_id,o=n._settings.client_secret;return n._revoke(s,a,o,e,i)}if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,n,i,s){var a=this;return new Promise((function(o,u){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?o():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(t);n&&(l+="&client_secret="+encodeURIComponent(n)),l+="&token_type_hint="+encodeURIComponent(s),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),s=n(5),a=n(6),o=n(37),u=n(38),c=n(16),l=n(2),h=n(48),f=n(49),p=n(19),d=n(20),_=n(18),g=n(1),v=n(15),m=n(50);t.default={Version:m.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:o.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:d.TokenRevocationClient,SessionMonitor:_.SessionMonitor,Global:g.Global,User:v.User},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),s=n(2),a=n(25),o=n(11),u=n(12),c=n(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.TokenClient;if(l(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=u,this._tokenClient=new h(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var s=t[i];Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var o=s[a];n[i]?Array.isArray(n[i])?n[i].indexOf(o)<0&&n[i].push(o):n[i]!==o&&("object"===(void 0===o?"undefined":r(o))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],o):n[i]=[n[i],o]):n[i]=o}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(h.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,s={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(s,e.extraTokenParams),this._tokenClient.exchangeCode(s).then((function(r){for(var s in r)t[s]=r[s];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){var s=e.client_id,a=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),n._settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(t.id_token,r,s,a,o).then((function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then((function(e){return n._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(n){var r=e.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var s=void 0;if(r)s=n.filter((function(e){return e.kid===r}))[0];else{if((n=t._filterByAlg(n,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=n[0]}return Promise.resolve(s)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(n){return n?Promise.resolve(n):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);return r&&r.header&&r.payload?e.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(s){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var o=e.client_id,u=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(t.id_token,a,s,o,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var s="sha"+r,a=this._joseUtil.hashString(e.access_token,s);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",s),Promise.reject(new Error("Failed to validate at_hash"));var o=a.substr(0,a.length/2),u=this._joseUtil.hexToBase64Url(o);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),s=n(0),a=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(o(this,e),!t)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(n){return s.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then((function(e){return s.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(r.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then((function(a){if(!a)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var o=void 0;if(i)o=a.filter((function(e){return e.kid===i}))[0];else{if((a=n._filterByAlg(a,r.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=a[0]}if(!o)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=n._settings.client_id,c=n._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.responseText,o,e,u,c,void 0,!0).then((function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload}))}))}))}catch(e){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(27);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={userAgent:!1},i={};if(void 0===s)var s={};s.lang={extend:function(t,n,i){if(!n||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=n.prototype,t.prototype=new s,t.prototype.constructor=t,t.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i){var a;for(a in i)t.prototype[a]=i[a];var o=function(){},u=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(o=function(e,t){for(a=0;a<u.length;a+=1){var n=u[a],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}o(t.prototype,i)}}};var a,o,u,c,l,h,f,p,d,_,g,v=v||(a=Math,u=(o={}).lib={},c=u.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var a=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=a<<24-(r+s)%4*8}else for(s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*a.random()|0);return new l.init(t,e)}}),h=o.enc={},f=h.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},p=h.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},_=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,s=r/(4*i),o=(s=e?a.ceil(s):a.max((0|s)-this._minBufferSize,0))*i,u=a.min(4*o,r);if(o){for(var c=0;c<o;c+=i)this._doProcessBlock(n,c);var h=n.splice(0,o);t.sigBytes-=u}return new l.init(h,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u.Hasher=_.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),g=o.algo={},o);!function(e){var t,n=(t=v).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var s=e[r];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=v,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(s>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r.indexOf(e.charAt(a-1))<<a%4*2,u=r.indexOf(e.charAt(a))>>>6-a%4*2;i[s>>>2]|=(o|u)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=v,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,s=[],a=[],o=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var h=e.sqrt(l),f=2;f<=h;f++)if(!(l%f)){l=!1;break e}l=!0}l&&(8>c&&(s[c]=o(e.pow(u,.5))),a[c]=o(e.pow(u,1/3)),c++),u++}var p=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=0;64>f;f++){if(16>f)p[f]=0|e[t+f];else{var d=p[f-15],_=p[f-2];p[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[f-7]+((_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10)+p[f-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[f]+p[f],_=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),h=l,l=c,c=u,u=o+d|0,o=s,s=i,i=r,r=d+_|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=v,n=t.lib.Hasher,r=(s=t.x64).Word,i=s.WordArray,s=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],o=[],u=0;80>u;u++)o[u]=e();s=s.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],s=h[3],u=h[4],c=h[5],l=h[6],h=h[7],f=n.high,p=n.low,d=r.high,_=r.low,g=i.high,v=i.low,m=s.high,y=s.low,b=u.high,w=u.low,x=c.high,S=c.low,E=l.high,k=l.low,F=h.high,P=h.low,O=f,R=p,j=d,A=_,T=g,C=v,I=m,N=y,D=b,L=w,U=x,M=S,B=E,H=k,V=F,Z=P,z=0;80>z;z++){var K=o[z];if(16>z)var q=K.high=0|e[t+2*z],W=K.low=0|e[t+2*z+1];else{q=((W=(q=o[z-15]).high)>>>1|(J=q.low)<<31)^(W>>>8|J<<24)^W>>>7;var J=(J>>>1|W<<31)^(J>>>8|W<<24)^(J>>>7|W<<25),G=((W=(G=o[z-2]).high)>>>19|($=G.low)<<13)^(W<<3|$>>>29)^W>>>6,$=($>>>19|W<<13)^($<<3|W>>>29)^($>>>6|W<<26),Q=(W=o[z-7]).high,Y=(X=o[z-16]).high,X=X.low;q=(q=(q=q+Q+((W=J+W.low)>>>0<J>>>0?1:0))+G+((W+=$)>>>0<$>>>0?1:0))+Y+((W+=X)>>>0<X>>>0?1:0),K.high=q,K.low=W}Q=D&U^~D&B,X=L&M^~L&H,K=O&j^O&T^j&T;var ee=R&A^R&C^A&C,te=(J=(O>>>28|R<<4)^(O<<30|R>>>2)^(O<<25|R>>>7),G=(R>>>28|O<<4)^(R<<30|O>>>2)^(R<<25|O>>>7),($=a[z]).high),ne=$.low;Y=V+((D>>>14|L<<18)^(D>>>18|L<<14)^(D<<23|L>>>9))+(($=Z+((L>>>14|D<<18)^(L>>>18|D<<14)^(L<<23|D>>>9)))>>>0<Z>>>0?1:0),V=B,Z=H,B=U,H=M,U=D,M=L,D=I+(Y=(Y=(Y=Y+Q+(($+=X)>>>0<X>>>0?1:0))+te+(($+=ne)>>>0<ne>>>0?1:0))+q+(($+=W)>>>0<W>>>0?1:0))+((L=N+$|0)>>>0<N>>>0?1:0)|0,I=T,N=C,T=j,C=A,j=O,A=R,O=Y+(K=J+K+((W=G+ee)>>>0<G>>>0?1:0))+((R=$+W|0)>>>0<$>>>0?1:0)|0}p=n.low=p+R,n.high=f+O+(p>>>0<R>>>0?1:0),_=r.low=_+A,r.high=d+j+(_>>>0<A>>>0?1:0),v=i.low=v+C,i.high=g+T+(v>>>0<C>>>0?1:0),y=s.low=y+N,s.high=m+I+(y>>>0<N>>>0?1:0),w=u.low=w+L,u.high=b+D+(w>>>0<L>>>0?1:0),S=c.low=S+M,c.high=x+U+(S>>>0<M>>>0?1:0),k=l.low=k+H,l.high=E+B+(k>>>0<H>>>0?1:0),P=h.low=P+Z,h.high=F+V+(P>>>0<Z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(s),t.HmacSHA512=n._createHmacHelper(s)}(),function(){var e=v,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var m,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=y.charAt(n>>6)+y.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=y.charAt(n>>2)+y.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function w(e){var t,n,r,i="",s=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=y.indexOf(e.charAt(t)))<0||(0==s?(i+=O(r>>2),n=3&r,s=1):1==s?(i+=O(n<<2|r>>4),n=15&r,s=2):2==s?(i+=O(n),i+=O(r>>2),n=3&r,s=3):(i+=O(n<<2|r>>4),i+=O(15&r),s=0));return 1==s&&(i+=O(n<<2)),i}function x(e){var t,n=w(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function S(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function E(){return new S(null)}"Microsoft Internet Explorer"==r.appName?(S.prototype.am=function(e,t,n,r,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var u=32767&this[e],c=this[e++]>>15,l=o*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+o*c+(i>>>30),n[r++]=1073741823&u}return i},m=30):"Netscape"!=r.appName?(S.prototype.am=function(e,t,n,r,i,s){for(;--s>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},m=26):(S.prototype.am=function(e,t,n,r,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var u=16383&this[e],c=this[e++]>>14,l=o*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+o*c,n[r++]=268435455&u}return i},m=28),S.prototype.DB=m,S.prototype.DM=(1<<m)-1,S.prototype.DV=1<<m,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-m,S.prototype.F2=2*m-52;var k,F,P=new Array;for(k="0".charCodeAt(0),F=0;F<=9;++F)P[k++]=F;for(k="a".charCodeAt(0),F=10;F<36;++F)P[k++]=F;for(k="A".charCodeAt(0),F=10;F<36;++F)P[k++]=F;function O(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function R(e,t){var n=P[e.charCodeAt(t)];return null==n?-1:n}function j(e){var t=E();return t.fromInt(e),t}function A(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function T(e){this.m=e}function C(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function I(e,t){return e&t}function N(e,t){return e|t}function D(e,t){return e^t}function L(e,t){return e&~t}function U(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function M(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function B(){}function H(e){return e}function V(e){this.r2=E(),this.q3=E(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}T.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},C.prototype.convert=function(e){var t=E();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t},C.prototype.revert=function(e){var t=E();return e.copyTo(t),this.reduce(t),t},C.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},C.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},S.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},S.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},S.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,s=0;--r>=0;){var a=8==n?255&e[r]:R(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&S.ZERO.subTo(this,this)},S.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},S.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},S.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},S.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|o,o=(this[n]&s)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},S.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&s)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}},S.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},S.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)},S.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},S.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=E());var s=E(),a=this.s,o=e.s,u=this.DB-A(r[r.t-1]);u>0?(r.lShiftTo(u,s),i.lShiftTo(u,n)):(r.copyTo(s),i.copyTo(n));var c=s.t,l=s[c-1];if(0!=l){var h=l*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),f=this.FV/h,p=(1<<this.F1)/h,d=1<<this.F2,_=n.t,g=_-c,v=null==t?E():t;for(s.dlShiftTo(g,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),S.ONE.dlShiftTo(c,v),v.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--g>=0;){var m=n[--_]==l?this.DM:Math.floor(n[_]*f+(n[_-1]+d)*p);if((n[_]+=s.am(0,m,n,g,0,c))<m)for(s.dlShiftTo(g,v),n.subTo(v,n);n[_]<--m;)n.subTo(v,n)}null!=t&&(n.drShiftTo(c,t),a!=o&&S.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&S.ZERO.subTo(n,n)}}},S.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},S.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},S.prototype.exp=function(e,t){if(e>4294967295||e<1)return S.ONE;var n=E(),r=E(),i=t.convert(this),s=A(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,r),(e&1<<s)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},S.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(n=this[a]>>o)>0&&(i=!0,s=O(n));a>=0;)o<t?(n=(this[a]&(1<<o)-1)<<t-o,n|=this[--a]>>(o+=this.DB-t)):(n=this[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=O(n));return i?s:"0"},S.prototype.negate=function(){var e=E();return S.ZERO.subTo(this,e),e},S.prototype.abs=function(){return this.s<0?this.negate():this},S.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},S.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+A(this[this.t-1]^this.s&this.DM)},S.prototype.mod=function(e){var t=E();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t},S.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new T(t):new C(t),this.exp(e,n)},S.ZERO=j(0),S.ONE=j(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},B.prototype.sqrTo=function(e,t){e.squareTo(t)},V.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=E();return e.copyTo(t),this.reduce(t),t},V.prototype.revert=function(e){return e},V.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},V.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},V.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var Z,z,K,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/q[q.length-1];function J(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){z[K++]^=255&e,z[K++]^=e>>8&255,z[K++]^=e>>16&255,z[K++]^=e>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(S.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},S.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=j(n),i=E(),s=E(),a="";for(this.divRemTo(r,i,s);i.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,s);return s.intValue().toString(e)+a},S.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,a=0,o=0;o<e.length;++o){var u=R(e,o);u<0?"-"==e.charAt(o)&&0==this.signum()&&(i=!0):(a=t*a+u,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},S.prototype.bitwiseTo=function(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},S.prototype.changeBit=function(e,t){var n=S.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},S.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},S.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},S.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},S.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},S.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},S.prototype.millerRabin=function(e){var t=this.subtract(S.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>q.length&&(e=q.length);for(var i=E(),s=0;s<e;++s){i.fromInt(q[Math.floor(Math.random()*q.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(S.ONE)&&0!=a.compareTo(t)){for(var o=1;o++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},S.prototype.clone=function(){var e=E();return this.copyTo(e),e},S.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},S.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},S.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},S.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},S.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},S.prototype.equals=function(e){return 0==this.compareTo(e)},S.prototype.min=function(e){return this.compareTo(e)<0?this:e},S.prototype.max=function(e){return this.compareTo(e)>0?this:e},S.prototype.and=function(e){var t=E();return this.bitwiseTo(e,I,t),t},S.prototype.or=function(e){var t=E();return this.bitwiseTo(e,N,t),t},S.prototype.xor=function(e){var t=E();return this.bitwiseTo(e,D,t),t},S.prototype.andNot=function(e){var t=E();return this.bitwiseTo(e,L,t),t},S.prototype.not=function(){for(var e=E(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},S.prototype.shiftLeft=function(e){var t=E();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},S.prototype.shiftRight=function(e){var t=E();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},S.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+U(this[e]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=M(this[n]^t);return e},S.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},S.prototype.setBit=function(e){return this.changeBit(e,N)},S.prototype.clearBit=function(e){return this.changeBit(e,L)},S.prototype.flipBit=function(e){return this.changeBit(e,D)},S.prototype.add=function(e){var t=E();return this.addTo(e,t),t},S.prototype.subtract=function(e){var t=E();return this.subTo(e,t),t},S.prototype.multiply=function(e){var t=E();return this.multiplyTo(e,t),t},S.prototype.divide=function(e){var t=E();return this.divRemTo(e,t,null),t},S.prototype.remainder=function(e){var t=E();return this.divRemTo(e,null,t),t},S.prototype.divideAndRemainder=function(e){var t=E(),n=E();return this.divRemTo(e,t,n),new Array(t,n)},S.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),s=j(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new T(t):t.isEven()?new V(t):new C(t);var a=new Array,o=3,u=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var l=E();for(r.sqrTo(a[1],l);o<=c;)a[o]=E(),r.mulTo(l,a[o-2],a[o]),o+=2}var h,f,p=e.t-1,d=!0,_=E();for(i=A(e[p])-1;p>=0;){for(i>=u?h=e[p]>>i-u&c:(h=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(h|=e[p-1]>>this.DB+i-u)),o=n;0==(1&h);)h>>=1,--o;if((i-=o)<0&&(i+=this.DB,--p),d)a[h].copyTo(s),d=!1;else{for(;o>1;)r.sqrTo(s,_),r.sqrTo(_,s),o-=2;o>0?r.sqrTo(s,_):(f=s,s=_,_=f),r.mulTo(_,a[h],s)}for(;p>=0&&0==(e[p]&1<<i);)r.sqrTo(s,_),f=s,s=_,_=f,--i<0&&(i=this.DB-1,--p)}return r.revert(s)},S.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return S.ZERO;for(var n=e.clone(),r=this.clone(),i=j(1),s=j(0),a=j(0),o=j(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(e,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),s.subTo(o,s)):(r.subTo(n,r),t&&a.subTo(i,a),o.subTo(s,o))}return 0!=r.compareTo(S.ONE)?S.ZERO:o.compareTo(e)>=0?o.subtract(e):o.signum()<0?(o.addTo(e,o),o.signum()<0?o.add(e):o):o},S.prototype.pow=function(e){return this.exp(e,new B)},S.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},S.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(n[0]==q[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<q.length;){for(var r=q[t],i=t+1;i<q.length&&r<W;)r*=q[i++];for(r=n.modInt(r);t<i;)if(r%q[t++]==0)return!1}return n.millerRabin(e)},S.prototype.square=function(){var e=E();return this.squareTo(e),e},J.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},J.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==z){var $;if(z=new Array,K=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Q=i.crypto||i.msCrypto;if(Q.getRandomValues){var Y=new Uint8Array(32);for(Q.getRandomValues(Y),$=0;$<32;++$)z[K++]=Y[$]}else if("Netscape"==r.appName&&r.appVersion<"5"){var X=i.crypto.random(32);for($=0;$<X.length;++$)z[K++]=255&X.charCodeAt($)}}for(;K<256;)$=Math.floor(65536*Math.random()),z[K++]=$>>>8,z[K++]=255&$;K=0,G()}function ee(){if(null==Z){for(G(),(Z=new J).init(z),K=0;K<z.length;++K)z[K]=0;K=0}return Z.next()}function te(){}function ne(e,t){return new S(e,t)}function re(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t){this.x=t,this.q=e}function ae(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?S.ONE:r,this.zinv=null}function oe(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ae(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ne(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var s=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new S(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},ie.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return Se(s.hashHex(Ee(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var o,u="";for(o=0;o<t-e.length-2*r-2;o+=1)u+="\0";var c=n("")+u+"\x01"+e,l=new Array(r);(new te).nextBytes(l);var h=re(l,c.length,n),f=[];for(o=0;o<c.length;o+=1)f[o]=c.charCodeAt(o)^h.charCodeAt(o);var p=re(f,l.length,n),d=[0];for(o=0;o<l.length;o+=1)d[o+1]=l[o]^p.charCodeAt(o);return new S(d.concat(f))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},ie.prototype.type="RSA",se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},se.prototype.toBigInteger=function(){return this.x},se.prototype.negate=function(){return new se(this.q,this.x.negate().mod(this.q))},se.prototype.add=function(e){return new se(this.q,this.x.add(e.toBigInteger()).mod(this.q))},se.prototype.subtract=function(e){return new se(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},se.prototype.multiply=function(e){return new se(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},se.prototype.square=function(){return new se(this.q,this.x.square().mod(this.q))},se.prototype.divide=function(e){return new se(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(S.ZERO)&&!this.y.toBigInteger().equals(S.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(S.ZERO.equals(n))return S.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new S("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),o=a.multiply(n),u=i.multiply(a),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(o).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(t).subtract(s.multiply(o)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(o)).mod(this.curve.q),f=o.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),f)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new S("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);S.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s)));var o=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(u),c)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new S("3")),i=this.negate(),s=this,a=this.curve.q.subtract(e),o=a.multiply(new S("3")),u=new ae(this.curve,this.x,this.y),c=u.negate();for(t=r.bitLength()-2;t>0;--t){s=s.twice();var l=r.testBit(t);l!=n.testBit(t)&&(s=s.add(l?this:i))}for(t=o.bitLength()-2;t>0;--t){u=u.twice();var h=o.testBit(t);h!=a.testBit(t)&&(u=u.add(h?u:c))}return s},ae.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(s):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},oe.prototype.getQ=function(){return this.q},oe.prototype.getA=function(){return this.a},oe.prototype.getB=function(){return this.b},oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},oe.prototype.getInfinity=function(){return this.infinity},oe.prototype.fromBigInteger=function(e){return new se(this.q,e)},oe.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new S(n,16)),this.fromBigInteger(new S(r,16)))}},se.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},ae.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var s=new S(r),a=new S(i);return new ae(e,e.fromBigInteger(s),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),s=new S(r,16),a=new S(i,16);return new ae(e,e.fromBigInteger(s),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(S.valueOf(2)),t=this.curve.fromBigInteger(S.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new S("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add2D(a?this:i))}return s},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return s.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(S.ONE)<0||t.compareTo(e.subtract(S.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(S.ONE)<0||n.compareTo(e.subtract(S.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var s=new String(""),a=Object.hasOwnProperty;return function(r,o){var u,c,l=r.match(e),h=l[0],f=!1;"{"===h?u={}:"["===h?u=[]:(u=[],f=!0);for(var p=[u],d=1-f,_=l.length;d<_;++d){var g;switch((h=l[d]).charCodeAt(0)){default:(g=p[0])[c||g.length]=+h,c=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(t,i)),g=p[0],!c){if(!(g instanceof Array)){c=h||s;break}c=g.length}g[c]=h,c=void 0;break;case 91:g=p[0],p.unshift(g[c||g.length]=[]),c=void 0;break;case 93:case 125:p.shift();break;case 102:(g=p[0])[c||g.length]=!1,c=void 0;break;case 110:(g=p[0])[c||g.length]=null,c=void 0;break;case 116:(g=p[0])[c||g.length]=!0,c=void 0;break;case 123:g=p[0],p.unshift(g[c||g.length]={}),c=void 0}}if(f){if(1!==p.length)throw new Error;u=u[0]}else if(p.length)throw new Error;return o&&(u=function e(t,r){var i=t[r];if(i&&"object"===(void 0===i?"undefined":n(i))){var s=null;for(var u in i)if(a.call(i,u)&&i!==t){var c=e(i,u);void 0!==c?i[u]=c:(s||(s=[]),s.push(u))}if(s)for(var l=s.length;--l>=0;)delete i[s[l]]}return o.call(t,r,i)}({"":u},"")),u}}();void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new S(r,16).xor(e).add(S.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Oe(e,t)},this.newObject=function(e){var t=ce.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,s=t.DERBitString,a=t.DEROctetString,o=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,h=t.DERNumericString,f=t.DERPrintableString,p=t.DERTeletexString,d=t.DERIA5String,_=t.DERUTCTime,g=t.DERGeneralizedTime,v=t.DERVisibleString,m=t.DERBMPString,y=t.DERSequence,b=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var E=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new s(e[E]);if("octstr"==E)return new a(e[E]);if("null"==E)return new o(e[E]);if("oid"==E)return new u(e[E]);if("enum"==E)return new c(e[E]);if("utf8str"==E)return new l(e[E]);if("numstr"==E)return new h(e[E]);if("prnstr"==E)return new f(e[E]);if("telstr"==E)return new p(e[E]);if("ia5str"==E)return new d(e[E]);if("utctime"==E)return new _(e[E]);if("gentime"==E)return new g(e[E]);if("visstr"==E)return new v(e[E]);if("bmpstr"==E)return new m(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var k=e[E],F=[],P=0;P<k.length;P++){var O=x(k[P]);F.push(O)}return new y({array:F})}if("set"==E){for(k=e[E],F=[],P=0;P<k.length;P++)O=x(k[P]),F.push(O);return new b({array:F})}if("tag"==E){var R=e[E];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var j=x(R[2]);return new w({tag:R[0],explicit:R[1],obj:j})}return new w(R)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var s=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=s.substr(1,7),"0"==s.substr(0,1)&&(t=t+"."+new S(r,2).toString(10),r="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new S(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",a=0;a<i;a++)s+="0";for(r=s+r,a=0;a<r.length-1;a+=7){var o=r.substr(a,7);a!=r.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=we(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},s.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),s=String(i.getFullYear());"utc"==t&&(s=s.substr(2,2));var a=s+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var o=i.getMilliseconds();if(0!=o){var u=r(String(o),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ge(e)},this.setByDateValue=function(e,t,n,r,i,s){var a=new Date(Date.UTC(e,t-1,n,r,i,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},s.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},s.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},s.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},s.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},s.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},s.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",a=0;a<i;a++)s+="0";for(r=s+r,a=0;a<r.length-1;a+=7){var o=r.substr(a,7);a!=r.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),s=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},s.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},s.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},s.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},s.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},s.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},s.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},s.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},s.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},s.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},s.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},s.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==n(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},s.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,he,fe=new function(){};function pe(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function de(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function _e(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function ge(e){return _e(pe(e))}function ve(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function me(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ye(e){return e.length%2==1&&(e="0"+e),ve(b(e))}function be(e){return w(me(e))}function we(e){return Te(Le(e))}function xe(e){return decodeURIComponent(Ce(e))}function Se(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Ee(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function ke(e){return b(e)}function Fe(e){var t=ke(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Pe(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Oe(e,t){return"-----BEGIN "+t+"-----\r\n"+Fe(e)+"\r\n-----END "+t+"-----\r\n"}function Re(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Pe(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function je(e){var t,n,r,i,s,a,o,u,c,l,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=h[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),s=parseInt(h[5]),a=parseInt(h[6]),o=0,""!==(c=h[7])&&(l=(c.substr(1)+"00").substr(0,3),o=parseInt(l)),Date.UTC(t,n,r,i,s,a,o);throw"unsupported zulu format: "+e}function Ae(e){return~~(je(e)/1e3)}function Te(e){return e.replace(/%/g,"")}function Ce(e){return e.replace(/(..)/g,"%$1")}function Ie(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Ne(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function De(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ne(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Le(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+ge(t[r]);return n}function Ue(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}fe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},fe.getL=function(e,t){var n=fe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},fe.getVblen=function(e,t){var n;return""==(n=fe.getL(e,t))?-1:("8"===n.substr(0,1)?new S(n.substr(2),16):new S(n,16)).intValue()},fe.getVidx=function(e,t){var n=fe.getLblen(e,t);return n<0?n:t+2*(n+1)},fe.getV=function(e,t){var n=fe.getVidx(e,t),r=fe.getVblen(e,t);return e.substr(n,2*r)},fe.getTLV=function(e,t){return e.substr(t,2)+fe.getL(e,t)+fe.getV(e,t)},fe.getTLVblen=function(e,t){return 2+2*fe.getLblen(e,t)+2*fe.getVblen(e,t)},fe.getNextSiblingIdx=function(e,t){return fe.getVidx(e,t)+2*fe.getVblen(e,t)},fe.getChildIdx=function(e,t){var n,r,i,s=fe,a=[];n=s.getVidx(e,t),r=2*s.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var o=n;i<=r;){var u=s.getTLVblen(e,o);if((i+=u)<=r&&a.push(o),o+=u,i>=r)break}return a},fe.getNthChildIdx=function(e,t,n){return fe.getChildIdx(e,t)[n]},fe.getIdxbyList=function(e,t,n,r){var i,s,a=fe;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(s=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,s[i],n,r)},fe.getIdxbyListEx=function(e,t,n,r){var i,s,a=fe;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),s=a.getChildIdx(e,t);for(var o=0,u=0;u<s.length;u++){var c=e.substr(s[u],2);if("number"==typeof i&&!a.isContextTag(c)&&o==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,s[u],n,r);a.isContextTag(c)||o++}return-1},fe.getTLVbyList=function(e,t,n,r){var i=fe,s=i.getIdxbyList(e,t,n,r);return-1==s||s>=e.length?null:i.getTLV(e,s)},fe.getTLVbyListEx=function(e,t,n,r){var i=fe,s=i.getIdxbyListEx(e,t,n,r);return-1==s?null:i.getTLV(e,s)},fe.getVbyList=function(e,t,n,r,i){var s,a,o=fe;return-1==(s=o.getIdxbyList(e,t,n,r))||s>=e.length?null:(a=o.getV(e,s),!0===i&&(a=a.substr(2)),a)},fe.getVbyListEx=function(e,t,n,r,i){var s,a,o=fe;return-1==(s=o.getIdxbyListEx(e,t,n,r))?null:(a=o.getV(e,s),"03"==e.substr(s,2)&&!1!==i&&(a=a.substr(2)),a)},fe.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=fe.getV(e,t);return"02"==r?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16),r=e.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return n}},fe.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:function(e){if(!Ue(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),s=[],a=0;a<i.length/2;a++)s.push(parseInt(i.substr(2*a,2),16));var o=[],u="";for(a=0;a<s.length;a++)128&s[a]?u+=Be((127&s[a]).toString(2),7):(u+=Be((127&s[a]).toString(2),7),o.push(new String(parseInt(u,2))),u="");var c=t.join(".");return o.length>0&&(c=c+"."+o.join(".")),c}catch(e){return null}}(fe.getV(e,t))}catch(e){return n}},fe.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=fe.getOID(e,t,n);if(r==n)return n;var i=ce.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},fe.getString=function(e,t,n){null==n&&(n=null);try{return Se(fe.getV(e,t))}catch(e){return n}},fe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var s=e.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(2*o,2),16));var u=[],c="";for(o=0;o<a.length;o++)128&a[o]?c+=t((127&a[o]).toString(2),7):(c+=t((127&a[o]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},fe.dump=function(e,t,n,r){var i=fe,s=i.getV,a=i.dump,o=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,h=t.ommit_long_octet;if("01"==(l=u.substr(n,2)))return"00"==(f=s(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+c(f=s(u,n),h)+"\n";if("03"==l){var f=s(u,n);return i.isASN1HEX(f.substr(2))?(w=r+"BITSTRING, encapsulates\n")+a(f.substr(2),t,0,r+"  "):r+"BITSTRING "+c(f,h)+"\n"}if("04"==l)return f=s(u,n),i.isASN1HEX(f)?(w=r+"OCTETSTRING, encapsulates\n")+a(f,t,0,r+"  "):r+"OCTETSTRING "+c(f,h)+"\n";if("05"==l)return r+"NULL\n";if("06"==l){var p=s(u,n),d=ce.asn1.ASN1Util.oidHexToInt(p),_=ce.asn1.x509.OID.oid2name(d),g=d.replace(/\./g," ");return""!=_?r+"ObjectIdentifier "+_+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(s(u,n))+"\n";if("0c"==l)return r+"UTF8String '"+xe(s(u,n))+"'\n";if("13"==l)return r+"PrintableString '"+xe(s(u,n))+"'\n";if("14"==l)return r+"TeletexString '"+xe(s(u,n))+"'\n";if("16"==l)return r+"IA5String '"+xe(s(u,n))+"'\n";if("17"==l)return r+"UTCTime "+xe(s(u,n))+"\n";if("18"==l)return r+"GeneralizedTime "+xe(s(u,n))+"\n";if("1a"==l)return r+"VisualString '"+xe(s(u,n))+"'\n";if("1e"==l)return r+"BMPString '"+xe(s(u,n))+"'\n";if("30"==l){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";w=r+"SEQUENCE\n";var v=t;if((2==(b=o(u,n)).length||3==b.length)&&"06"==u.substr(b[0],2)&&"04"==u.substr(b[b.length-1],2)){_=i.oidname(s(u,b[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=_,v=m}for(var y=0;y<b.length;y++)w+=a(u,v,b[y],r+"  ");return w}if("31"==l){w=r+"SET\n";var b=o(u,n);for(y=0;y<b.length;y++)w+=a(u,t,b[y],r+"  ");return w}if(0!=(128&(l=parseInt(l,16)))){var w,x=31&l;if(0!=(32&l)){for(w=r+"["+x+"]\n",b=o(u,n),y=0;y<b.length;y++)w+=a(u,t,b[y],r+"  ");return w}return f=s(u,n),fe.isASN1HEX(f)?(w=r+"["+x+"]\n")+a(f,t,0,r+"  "):(("68747470"==f.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(f=xe(f)),r+"["+x+"] "+f+"\n")}return r+"UNKNOWN("+l+") "+s(u,n)+"\n"},fe.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},fe.isASN1HEX=function(e){var t=fe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},fe.checkStrictDER=function(e,t,n,r,i){var s=fe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(s.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=s.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var o=s.getTLV(e,t),u=o.length-2-s.getL(e,t).length;if(u!==2*a)throw new Error("V string length and L's value not the same:"+u+"/"+2*a);if(0===t&&e.length!=o.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+o.length);var c=e.substr(t,2);if("02"===c){var l=s.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=s.getVblen(e,t),f=0,p=s.getChildIdx(e,t),d=0;d<p.length;d++)f+=s.getTLV(e,p[d]).length,s.checkStrictDER(e,p[d],n,r,i);if(2*h!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+f)}},fe.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=le=function(t){return ve(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=he=function(t){return e.from(me(t),"base64").toString("utf8")}):(t.utf8tob64u=le=function(e){return ye(Te(Le(e)))},t.b64utoutf8=he=function(e){return decodeURIComponent(Ce(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return Ue(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=me(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var s="0001",a="00"+r,o="",u=i-s.length-a.length,c=0;c<u;c+=2)o+="ff";return s+o+a},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),_e(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new S(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],_e(n)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new S(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=v.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ee(e)),void(this.pass=v.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":n(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=we(e.utf8)),void 0!==e.rstr&&(t=Ee(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=v.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,r=S,i=ae,s=ce.crypto.ECDSA,a=ce.crypto.ECParameterDB,o=s.getName,u=fe,c=u.getVbyListEx,l=u.isASN1HEX,h=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new r(e.bitLength(),h).mod(e.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),s=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-s),o="04"+("0000000000"+r.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(a),this.setPublicKeyHex(o),{ecprvhex:a,ecpubhex:o}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new r(t,16),i=this.ecparams.n,a=new r(e.substring(0,this.ecparams.keylen/4),16);do{var o=this.getBigRandom(i),u=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(u.compareTo(r.ZERO)<=0);var c=o.modInverse(i).multiply(a.add(n.multiply(u))).mod(i);return s.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,i=this.ecparams.n,s=r.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),o=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(o.compareTo(S.ZERO)<=0);var u=a.modInverse(i).multiply(s.add(n.multiply(o))).mod(i);return this.serializeSig(o,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){try{var a,o,u=s.parseSigHex(t);a=u.r,o=u.s;var c=i.decodeFromHex(this.ecparams.curve,n),l=new r(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,o,c)}catch(e){return!1}},this.verify=function(e,t,s){var a,o,u;if(Bitcoin.Util.isArray(t)){var c=this.parseSig(t);a=c.r,o=c.s}else{if("object"!==(void 0===t?"undefined":n(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,o=t.s}if(s instanceof ae)u=s;else{if(!Bitcoin.Util.isArray(s))throw"Invalid format for pubkey value, must be byte array or ECPointFp";u=i.decodeFrom(this.ecparams.curve,s)}var l=r.fromByteArrayUnsigned(e);return this.verifyRaw(l,a,o,u)},this.verifyRaw=function(e,t,n,i){var s=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(r.ONE)<0||t.compareTo(s)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(s)>=0)return!1;var o=n.modInverse(s),u=e.multiply(o).mod(s),c=t.multiply(o).mod(s);return a.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(s).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=c(e,0,["[0]",0],"06"),n=c(e,0,[1],"04");try{r=c(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r,i;try{c(e,0,[1,0],"06"),n=c(e,0,[1,1],"06"),r=c(e,0,[2,0,1],"04");try{i=c(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r;try{c(e,0,[0,0],"06"),n=c(e,0,[0,1],"06"),r=c(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===l(e))throw new t("not ASN.1 hex string");var r,i;try{r=c(e,0,[0,5,0,1],"06"),i=c(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new S(t.r,16),s:new S(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=fe,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],a=i[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,s),s:r(e,a)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new S(e,16),r=new S(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ce.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new S(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,s,a,o,u,c,l,h,f,p,d){e[r]={};var _=n(s),g=n(a),v=n(o),m=n(u),y=n(c),b=new oe(_,g,v),w=b.decodePointHex("04"+l+h);e[r].name=r,e[r].keylen=i,e[r].curve=b,e[r].G=w,e[r].n=m,e[r].h=y,e[r].oid=p,e[r].info=d;for(var x=0;x<f.length;x++)t[f[x]]=r}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,n,r){return t(v.AES,e,n,r)},t=function(e,t,n,r){var i=v.enc.Hex.parse(t),s=v.enc.Hex.parse(n),a=v.enc.Hex.parse(r),o={};o.key=s,o.iv=a,o.ciphertext=i;var u=e.decrypt(o,s,{iv:a});return v.enc.Hex.stringify(u)},n=function(e,t,n){return r(v.AES,e,t,n)},r=function(e,t,n,r){var i=v.enc.Hex.parse(t),s=v.enc.Hex.parse(n),a=v.enc.Hex.parse(r),o=e.encrypt(i,s,{iv:a}),u=v.enc.Hex.parse(o.toString());return v.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(v.TripleDES,e,n,r)},eproc:function(e,t,n){return r(v.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(v.DES,e,n,r)},eproc:function(e,t,n){return r(v.DES,e,t,n)},keylen:8,ivlen:8}},s=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),s=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var o=e.substring(i+2*s,a-s);o=o.replace(/\s+/g,""),t.data=o}return t},a=function(e,t,n){for(var r=n.substring(0,16),s=v.enc.Hex.parse(r),a=v.enc.Utf8.parse(t),o=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=v.algo.MD5.create();if(null!=c&&l.update(c),l.update(a),l.update(s),c=l.finalize(),(u+=v.enc.Hex.stringify(c)).length>=2*o)break}var h={};return h.keyhex=u.substr(0,2*i[e].keylen),h.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),h},o=function(e,t,n,r){var s=v.enc.Base64.parse(e),a=v.enc.Hex.stringify(s);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return s(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return o(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=s(e),r=(n.type,n.cipher),i=n.ivsalt,u=n.data,c=a(r,t,i).keyhex;return o(u,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,s){var o="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;void 0!==s&&null!=s||(s=function(e){var t=v.lib.WordArray.random(e);return v.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,s).keyhex,s);return o="-----BEGIN "+e+" PRIVATE KEY-----\r\n",o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+r+","+s+"\r\n",o+="\r\n",(o+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var n=fe,r=n.getChildIdx,i=n.getV,s={},a=r(t,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;s.ciphertext=i(t,a[1]);var o=r(t,a[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=i(t,o[0]))throw"this only supports pkcs5PBES2";var u=r(t,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+u.length;var c=r(t,u[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=i(t,c[0]))throw"this only supports TripleDES";s.encryptionSchemeAlg="TripleDES",s.encryptionSchemeIV=i(t,c[1]);var l=r(t,u[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(t,l[0]))throw"this only supports pkcs5PBKDF2";var h=r(t,l[1]);if(h.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+h.length;s.pbkdf2Salt=i(t,h[0]);var f=i(t,h[1]);try{s.pbkdf2Iter=parseInt(f,16)}catch(e){throw"malformed format pbkdf2Iter: "+f}return s},getPBKDF2KeyHexFromParam:function(e,t){var n=v.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=v.PBKDF2(t,n,{keySize:6,iterations:r});return v.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Re(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=He.getPBKDF2KeyHexFromParam(r,t),s={};s.ciphertext=v.enc.Hex.parse(r.ciphertext);var a=v.enc.Hex.parse(i),o=v.enc.Hex.parse(r.encryptionSchemeIV),u=v.TripleDES.decrypt(s,a,{iv:o});return v.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=n(e,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var a=n(e,s[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Re(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=fe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=n(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,s[1]),i},parsePublicPKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null},s=n(e,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var a=s[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var o=n(e,a);if(2!=o.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)?i.algparam=r(e,o[1]):"30"==e.substr(o[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,o[1],[0],"02"),i.algparam.q=t.getVbyList(e,o[1],[1],"02"),i.algparam.g=t.getVbyList(e,o[1],[2],"02")),"03"!=e.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,s[1]).substr(2),i}}}();He.getKey=function(e,t,n){var r,i=(v=fe).getChildIdx,s=(v.getV,v.getVbyList),a=ce.crypto,o=a.ECDSA,u=a.DSA,c=ie,l=Re,h=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==o&&e instanceof o)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new o({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new o({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new c).setPublic(e.n,e.e),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(R=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(R=new c).setPrivate(e.n,e.e,e.d),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(R=new u).setPublic(e.p,e.q,e.g,e.y),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(R=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new c).setPublic(be(e.n),be(e.e)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(R=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(R=new c).setPrivate(be(e.n),be(e.e),be(e.d)),R;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=(O=new o({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-f)+("0000000000"+be(e.y)).slice(-f);return O.setPublicKeyHex(p),O}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){f=(O=new o({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-f)+("0000000000"+be(e.y)).slice(-f);var d=("0000000000"+be(e.d)).slice(-f);return O.setPublicKeyHex(p),O.setPrivateKeyHex(d),O}if("pkcs5prv"===n){var _,g=e,v=fe;if(9===(_=i(g,0)).length)(R=new c).readPKCS5PrvKeyHex(g);else if(6===_.length)(R=new u).readPKCS5PrvKeyHex(g);else{if(!(_.length>2&&"04"===g.substr(_[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(R=new o).readPKCS5PrvKeyHex(g)}return R}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Re(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var y=l(e,"RSA PRIVATE KEY");return h.getKey(y,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=s(r=l(e,"DSA PRIVATE KEY"),0,[1],"02"),w=s(r,0,[2],"02"),x=s(r,0,[3],"02"),E=s(r,0,[4],"02"),k=s(r,0,[5],"02");return(R=new u).setPrivate(new S(b,16),new S(w,16),new S(x,16),new S(E,16),new S(k,16)),R}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return y=l(e,"EC PRIVATE KEY"),h.getKey(y,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F=h.getDecryptedKeyHex(e,t),P=new ie;return P.readPKCS5PrvKeyHex(F),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var O,R=s(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),j=s(r,0,[2,0],"06"),A=s(r,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[j])throw"undefined OID(hex) in KJUR.crypto.OID: "+j;return(O=new o({curve:ce.crypto.OID.oidhex2name[j]})).setPublicKeyHex(A),O.setPrivateKeyHex(R),O.isPublic=!1,O}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return b=s(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),w=s(r,0,[2],"02"),x=s(r,0,[3],"02"),E=s(r,0,[4],"02"),k=s(r,0,[5],"02"),(R=new u).setPrivate(new S(b,16),new S(w,16),new S(x,16),new S(E,16),new S(k,16)),R;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new ie).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new ie,i=a.n.toString(16),s=a.e.toString(16);return r.setPublic(i,s),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o}if("EC"==e){var a,o,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o}throw"unknown algorithm: "+e},He.getPEM=function(e,t,n,r,i,s){var a=ce,o=a.asn1,u=o.DERObjectIdentifier,c=o.DERInteger,l=o.ASN1Util.newObject,h=o.x509.SubjectPublicKeyInfo,f=a.crypto,p=f.DSA,d=f.ECDSA,_=ie;function g(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function y(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==_&&e instanceof _||void 0!==p&&e instanceof p||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Oe(S=new h(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==_&&e instanceof _&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(S=g(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate){var b=new u({name:e.curveName}).getEncodedHex(),w=m(e).getEncodedHex(),x="";return(x+=Oe(b,"EC PARAMETERS"))+Oe(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(S=y(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==_&&e instanceof _&&void 0!==n&&null!=n&&1==e.isPrivate){var S=g(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,n,r,s)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return S=m(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,n,r,s);if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate)return S=y(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,n,r,s);var E=function(e,t){var n=k(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},k=function(e,t){var n=v.lib.WordArray.random(8),r=v.lib.WordArray.random(8),i=v.PBKDF2(t,n,{keySize:6,iterations:100}),s=v.enc.Hex.parse(e),a=v.TripleDES.encrypt(s,i,{iv:r})+"",o={};return o.ciphertext=a,o.pbkdf2Salt=v.enc.Hex.stringify(n),o.pbkdf2Iter=100,o.encryptionSchemeAlg="DES-EDE3-CBC",o.encryptionSchemeIV=v.enc.Hex.stringify(r),o};if("PKCS8PRV"==t&&null!=_&&e instanceof _&&1==e.isPrivate){var F=g(e).getEncodedHex();return S=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=E(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return F=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=E(S,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return F=new c({bigint:e.x}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=E(S,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Re(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=fe,n=t.getChildIdx,r=t.getTLV,i={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var a=n(s,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(a[0],2))throw"malformed CSR(code:003)";var o=n(s,a[0]);if(o.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(s,o[2]),i},He.getKeyID=function(e){var t=He,n=fe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Re(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),s=n.getV(r,i).substring(2);return ce.crypto.Util.hashHex(s,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t.d=ye(e.d.toString(16)),t.p=ye(e.p.toString(16)),t.q=ye(e.q.toString(16)),t.dp=ye(e.dmp1.toString(16)),t.dq=ye(e.dmq1.toString(16)),t.qi=ye(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=ye(n.x),t.y=ye(n.y),t.d=ye(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=ye(n.x),t.y=ye(n.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return fe.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=fe.getV,r=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),s=n(e,t[2]),a=n(e,t[3]),o=n(e,t[4]),u=n(e,t[5]),c=n(e,t[6]),l=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,s,a,o,u,c,l,h),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Re(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,s,a,o,u,c=fe,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),s=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),o=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,s,a,o,u)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=fe,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),s=n(e,r[1]);this.setPublic(i,s)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=fe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new qe).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var Ve=new RegExp("[^0-9a-f]","gi");function Ze(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function ze(e,t,n){for(var r="",i=0;r.length<t;)r+=Se(n(Ee(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ke(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var n=ce.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function qe(e){var t,n=fe,r=n.getChildIdx,i=n.getV,s=n.getTLV,a=n.getVbyList,o=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,l=n.getIdxbyList,h=n.getIdxbyListEx,f=n.getVidx,p=n.oidname,d=n.hextooidstr,_=qe,g=Re;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return o(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return p(o(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return _.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return _.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,s,o;if(void 0===e){if(o=this.hex,3!==this.version)return-1;t=l(o,0,[0,7,0],"30"),s=r(o,t)}else{o=Re(e);var u=l(o,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(o,u))return void(this.aExtInfo=new Array);t=l(o,0,[0,3,0,1,0],"30"),s=r(o,t),this.hex=o}this.aExtInfo=new Array;for(var c=0;c<s.length;c++){var h={critical:!1},p=0;3===r(o,s[c]).length&&(h.critical=!0,p=1),h.oid=n.hextooidstr(a(o,s[c],[0],"06"));var d=l(o,s[c],[1+p]);h.vidx=f(o,d),this.aExtInfo.push(h)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ce.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),o=parseInt(a,16);return r.cA=!0,r.pathLen=o,r}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("keyUsage");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=s(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(qe.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var o=r(e,0),u=0;u<o.length;u++){var c=e.substr(o[u],2);if("80"===c&&(a.kid={hex:i(e,o[u])}),"a1"===c){var l=s(e,o[u]),h=this.getGeneralNames(l);a.issuer=h[0].dn}"82"===c&&(a.sn={hex:i(e,o[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var o=r(e,0),u=0;u<o.length;u++)a.array.push(p(i(e,o[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=s(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),o=0;o<a.length;o++)t.push(p(i(n,a[o])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(s(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=Se(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:De(n)}:"a4"==t?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var o=new Array,u=s(this.hex,a.vidx),c=r(u,0),l=0;l<c.length;l++)n=u.substr(c[l],2),e=i(u,c[l]),"81"===n&&(t=xe(e),o.push(["MAIL",t])),"82"===n&&(t=xe(e),o.push(["DNS",t])),"84"===n&&(t=qe.hex2dn(e,0),o.push(["DN",t])),"86"===n&&(t=xe(e),o.push(["URI",t])),"87"===n&&(t=De(e),o.push(["IP",t]));return o},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),o=0;o<a.length;o++){var u=s(e,a[o]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),o=s(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(o))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),o=s(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(o))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=r(this.hex,e.vidx),i=0;i<n.length;i++)try{var s=xe(a(this.hex,n[i],[0,0,0],"86"));t.push(s)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var s=a(this.hex,n[i],[0],"06"),o=a(this.hex,n[i],[1],"86");"2b06010505073001"===s&&t.ocsp.push(xe(o)),"2b06010505073002"===s&&t.caissuer.push(xe(o))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=r(e,0),c=0;c<u.length;c++){var l=o(e,u[c],[0],"06"),h=xe(a(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:h});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),o=0;o<a.length;o++){var u=s(e,a[o]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=p(n);var i=h(e,0,[1],"30");if(-1!=i){t.array=[];for(var o=r(e,i),u=0;u<o.length;u++){var c=s(e,o[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=o(e,0,[1],"16");t.cps=Se(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=s(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Se(i(e,0)),t},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var o=s(e,a[1]),u=this.getGeneralName(o);null!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=s(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(i[s]);for(r=0;r<n.length;r++){var a=n[r],o=a.ds,u=a.value,c=a.type;if("prn"!=o&&"utf8"!=o&&"ia5"!=o)return"mixed";if("ia5"==o){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==o)continue;return"mixed"}if(null==t)t=o;else if(t!==o)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getRDN(s(e,n[i])));return t},this.getRDN=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getAttrTypeAndValue(s(e,n[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},n=r(e,0),i=a(e,n[0],[],"06"),s=a(e,n[1],[]),o=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(o),t.value=Se(s),t.ds=this.HEX2STAG[e.substr(n[1],2)],t},this.readCertPEM=function(e){this.readCertHex(g(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Oe(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=h(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=s(e,n[i]),o=this.getExtParam(a);null!=o&&t.push(o)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=d(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var s=u(e,0,[t-1,0]),o=void 0;if("2.5.29.14"==n?o=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==n?o=this.getExtKeyUsage(s,i):"2.5.29.17"==n?o=this.getExtSubjectAltName(s,i):"2.5.29.18"==n?o=this.getExtIssuerAltName(s,i):"2.5.29.19"==n?o=this.getExtBasicConstraints(s,i):"2.5.29.31"==n?o=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==n?o=this.getExtCertificatePolicies(s,i):"2.5.29.35"==n?o=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.37"==n?o=this.getExtExtKeyUsage(s,i):"1.3.6.1.5.5.7.1.1"==n?o=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==n?o=this.getExtCRLNumber(s,i):"2.5.29.21"==n?o=this.getExtCRLReason(s,i):"1.3.6.1.5.5.7.48.1.2"==n?o=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==n?o=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==n&&(o=this.getExtAdobeTimeStamp(s,i)),null!=o)return o;var c={extname:n,extn:s};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var s=r[i].dpname.full,a=0;a<s.length;a++){var o=s[i];null!=o.uri&&(o.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,n,r=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var s=0;s<i.array.length;s++){var a=i.array[s];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},s=function(t){for(var n="",r=t.array,i=0;i<r.length;i++){var s=r[i];try{void 0!==s.dpname.full[0].uri&&(n+="    "+s.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==s.dname.full[0].dn.hex&&(n+="    "+qe.hex2dn(s.dpname.full[0].dn.hex)+"\n")}catch(e){}}return n},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var o=0;o<n.length;o++){var u=n[o],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(e+="    kid="+f.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=s(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ie.prototype.sign=function(e,t){var n=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=ne(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ze(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var r=function(e){return ce.crypto.Util.hashHex(e,t)}(Ee(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=Se(e),s=i.length,a=this.n.bitLength()-1,o=Math.ceil(a/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=s;else if(-2===n)n=o-s-2;else if(n<-2)throw new Error("invalid salt length");if(o<s+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new te).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=Se(u(Ee("\0\0\0\0\0\0\0\0"+i+c))),h=[];for(r=0;r<o-n-s-2;r+=1)h[r]=0;var f=String.fromCharCode.apply(String,h)+"\x01"+c,p=ze(l,f.length,u),d=[];for(r=0;r<f.length;r+=1)d[r]=f.charCodeAt(r)^p.charCodeAt(r);var _=65280>>8*o-a&255;for(d[0]&=~_,r=0;r<s;r++)d.push(l.charCodeAt(r));return d.push(188),Ze(this.doPrivate(new S(d)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var n=ne(t=(t=t.replace(Ve,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ke(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var i=r[0];return r[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ne(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ke(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},ie.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return ce.crypto.Util.hashHex(e,n)}(Ee(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,s=new S(t,16),a=function(e){return ce.crypto.Util.hashHex(e,n)},o=Se(e),u=o.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=l-u-2;else if(r<-2)throw new Error("invalid salt length");if(l<u+r+2)throw new Error("data too long");var h=this.doPublic(s).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw new Error("encoded message does not end in 0xbc");var f=(h=String.fromCharCode.apply(String,h)).substr(0,l-u-1),p=h.substr(f.length,u),d=65280>>8*l-c&255;if(0!=(f.charCodeAt(0)&d))throw new Error("bits beyond keysize not zero");var _=ze(p,f.length,a),g=[];for(i=0;i<f.length;i+=1)g[i]=f.charCodeAt(i)^_.charCodeAt(i);g[0]&=~d;var v=l-u-r-2;for(i=0;i<v;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[v])throw new Error("0x01 marker not found");return p===Se(a(Ee("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,g.slice(-r)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var n=new Array,r=fe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(qe.hex2rdn(e,r[i]));return"/"+(n=n.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=fe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(qe.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var n=fe,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var s=r(e,i[0]),a=ce.asn1.ASN1Util.oidHexToInt(s);return ce.asn1.x509.OID.oid2atype(a)+"="+Se(r(e,i[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=fe.getVbyList,i={algparam:null};return(t=new qe).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],s=r[2],a=r[3],o=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=o,!n){var u=be(a),c=ne(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=he(i),h=he(s);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,r,i,s){var a,o,u,c=ce,l=c.jws.JWS,h=l.readSafeJSONString,f=l.isSafeJSONString,p=c.crypto,d=(p.ECDSA,p.Mac),_=p.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":n(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":n(t))&&(o=t,a=g.stringify(o)),"string"==typeof t){if(!f(a=t))throw"JWS Head is not safe JSON string: "+a;o=h(a)}if(u=r,"object"==(void 0===r?"undefined":n(r))&&(u=g.stringify(r)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,a=g.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var v=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=l.jwsalg2sigalg[e];var m=le(a)+"."+le(u),y="";if("Hmac"==v.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new d({alg:v,prov:"cryptojs",pass:i});b.updateString(m),y=b.doFinal()}else if(-1!=v.indexOf("withECDSA")){(x=new _({alg:v})).init(i,s),x.updateString(m);var w=x.sign();y=ce.crypto.ECDSA.asn1SigToConcatSig(w)}else{var x;"none"!=v&&((x=new _({alg:v})).init(i,s),x.updateString(m),y=x.sign())}return m+"."+ye(y)},ce.jws.JWS.verify=function(e,t,r){var i,s=ce,a=s.jws.JWS,o=a.readSafeJSONString,u=s.crypto,c=u.ECDSA,l=u.Mac,h=u.Signature;void 0!==n(ie)&&(i=ie);var f=e.split(".");if(3!==f.length)return!1;var p,d=f[0]+"."+f[1],_=be(f[2]),g=o(he(f[0])),v=null;if(void 0===g.alg)throw"algorithm not specified in header";if(p=(v=g.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===a.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+v;if("none"==(m=a.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new l({alg:m,pass:t});return y.updateString(d),_==y.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,w=null;try{w=c.concatSigToASN1Sig(_)}catch(e){return!1}return(b=new h({alg:m})).init(t),b.updateString(d),b.verify(w)}return(b=new h({alg:m})).init(t),b.updateString(d),b.verify(_)},ce.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(he(t)),s.payloadObj=ce.jws.JWS.readSafeJSONString(he(n)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=he(n):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==r&&(s.sigHex=be(r)),s},ce.jws.JWS.verifyJWT=function(e,t,r){var i=ce.jws,s=i.JWS,a=s.readSafeJSONString,o=s.inArray,u=s.includedArray,c=e.split("."),l=c[0],h=c[1],f=(be(c[2]),a(he(l))),p=a(he(h));if(void 0===f.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!o(f.alg,r.alg))return!1;if(void 0!==p.iss&&"object"===n(r.iss)&&!o(p.iss,r.iss))return!1;if(void 0!==p.sub&&"object"===n(r.sub)&&!o(p.sub,r.sub))return!1;if(void 0!==p.aud&&"object"===n(r.aud))if("string"==typeof p.aud){if(!o(p.aud,r.aud))return!1}else if("object"==n(p.aud)&&!u(p.aud,r.aud))return!1;var d=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(d=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+r.gracePeriod<d)&&!(void 0!==p.nbf&&"number"==typeof p.nbf&&d<p.nbf-r.gracePeriod)&&!(void 0!==p.iat&&"number"==typeof p.iat&&d<p.iat-r.gracePeriod)&&(void 0===p.jti||void 0===r.jti||p.jti===r.jti)&&!!s.verify(e,t,r.alg)},ce.jws.JWS.includedArray=function(e,t){var r=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,r){var i=null;try{return"object"!=(void 0===(i=ue(e))?"undefined":n(i))||i.constructor===Array?0:(t&&(t[r]=i),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=ue(e))?"undefined":n(t))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Ee(t);return ye(ce.crypto.Util.hashHex(n,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ae(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=te,t.rng_seed_time=G,t.BigInteger=S,t.RSAKey=ie;var We=ce.crypto.EDSA;t.EDSA=We;var Je=ce.crypto.DSA;t.DSA=Je;var Ge=ce.crypto.Signature;t.Signature=Ge;var $e=ce.crypto.MessageDigest;t.MessageDigest=$e;var Qe=ce.crypto.Mac;t.Mac=Qe;var Ye=ce.crypto.Cipher;t.Cipher=Ye,t.KEYUTIL=He,t.ASN1HEX=fe,t.X509=qe,t.CryptoJS=v,t.b64tohex=w,t.b64toBA=x,t.stoBA=pe,t.BAtos=de,t.BAtohex=_e,t.stohex=ge,t.stob64=function(e){return b(ge(e))},t.stob64u=function(e){return ve(b(ge(e)))},t.b64utos=function(e){return de(x(me(e)))},t.b64tob64u=ve,t.b64utob64=me,t.hex2b64=b,t.hextob64u=ye,t.b64utohex=be,t.utf8tob64u=le,t.b64utoutf8=he,t.utf8tob64=function(e){return b(Te(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Ce(w(e)))},t.utf8tohex=we,t.hextoutf8=xe,t.hextorstr=Se,t.rstrtohex=Ee,t.hextob64=ke,t.hextob64nl=Fe,t.b64nltohex=Pe,t.hextopem=Oe,t.pemtohex=Re,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=je,t.zulutosec=Ae,t.zulutodate=function(e){return new Date(je(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var s=e.getUTCMilliseconds();0!==s&&(r+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Te,t.hextouricmp=Ce,t.ipv6tohex=Ie,t.hextoipv6=Ne,t.hextoip=De,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ie(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=ce;var Xe=ce.crypto;t.crypto=Xe;var et=ce.asn1;t.asn1=et;var tt=ce.jws;t.jws=tt;var nt=ce.lang;t.lang=nt}).call(this,n(28).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(30),i=n(31),s=n(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=o(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&s(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=o(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return F(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var s,a=1,o=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(n+u>o&&(n=o-u),s=n;s>=0;s--){for(var h=!0,f=0;f<u;f++)if(c(e,s+f)!==c(t,f)){h=!1;break}if(h)return s}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function b(e,t,n,r){return Z(H(t,e.length-n),e,n,r)}function w(e,t,n,r){return Z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return Z(V(t),e,n,r)}function E(e,t,n,r){return Z(function(e,t){for(var n,r,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function F(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,a,o,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(s=e[i+1]))&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=e[i+1],a=e[i+2],128==(192&s)&&128==(192&a)&&(u=(15&c)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(u=(15&c)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?F(this,0,e):_.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),o=Math.min(s,a),c=this.slice(r,i),l=e.slice(t,n),h=0;h<o;++h)if(c[h]!==l[h]){s=c[h],a=l[h];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=B(e[s]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return s||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,s){return s||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=u.isBuffer(e)?e:H(new u(e,r).toString()),o=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%o]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],o=r[1],u=new s(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),l=0,h=o>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===o&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===o&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=16383,o=0,u=n-i;o<u;o+=a)s.push(l(e,o,o+a>u?u:o+a));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)r[o]=a[o],i[a.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,s,a=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,u=(1<<o)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=e[t+h];for(h+=f,s=p&(1<<-l)-1,p>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===s)s=1-c;else{if(s===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),s-=c}return(p?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*u-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&o,p+=d,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+p]=255&a,p+=d,a/=256,c-=8);e[n+p-d]|=128*_}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,s=e.crypto,a=e.hextob64u,o=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,s,a,u,c,l,h){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===s.kty)if(s.e&&s.n)s=n.getKey(s);else{if(!s.x5c||!s.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",s),Promise.reject(new Error("RSA key missing key material"));var f=o(s.x5c[0]);s=i.getPublicKeyFromCertHex(f)}else{if("EC"!==s.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",s&&s.kty),Promise.reject(new Error(s.kty));if(!(s.crv&&s.x&&s.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",s),Promise.reject(new Error("EC key missing key material"));s=n.getKey(s)}return e._validateJwt(t,s,a,u,c,l,h)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,s,a,o){s||(s=0),a||(a=parseInt(Date.now()/1e3));var u=e.parseJwt(t).payload;if(!u.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!o){var c=a+s,l=a-s;if(!u.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return r.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},e._validateJwt=function(n,i,s,a,o,c,l){return e.validateJwtAttributes(n,s,a,o,c,l).then((function(e){try{return t.JWS.verify(n,i,u)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,n){try{return s.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";s(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),s=n(9);t.SignoutRequest=function e(t){var n=t.url,a=t.id_token_hint,o=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var h in a&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",a)),o&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",o),u&&(this.state=new s.State({data:u,request_type:l}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,h,c[h]);this.url=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(10),a=n(39),o=n(15),u=n(45),c=n(47),l=n(18),h=n(8),f=n(20),p=n(11),d=n(4);function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.TokenRevocationClient,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.TokenClient,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.JoseUtil;_(this,t),n instanceof a.UserManagerSettings||(n=new a.UserManagerSettings(n));var m=g(this,e.call(this,n));return m._events=new u.UserManagerEvents(n),m._silentRenewService=new r(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new s(m)),m._tokenRevocationClient=new o(m._settings),m._tokenClient=new h(m._settings),m._joseUtil=v,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token||n.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then((function(){return e._events.load(n),n}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){return n.settings.getEpochTime().then((function(s){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew,s).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(n){var r=n.state;return n.response,"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then((function(r){var i=r.state,s=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):s}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then((function(t){return n._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new o.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,n)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then((function(e){return n._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then((function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(s){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(s):Promise.resolve()).then((function(){var a=e.id_token_hint||s&&s.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)}))}))}))})).catch((function(e){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,s=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then((function(e){return n._revokeRefreshTokenInternal(s,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),o.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(s.OidcClient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),s=n(40),a=n(41),o=n(43),u=n(6),c=n(1),l=n(8);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,p=n.popupWindowFeatures,d=n.popupWindowTarget,_=n.silent_redirect_uri,g=n.silentRequestTimeout,v=n.automaticSilentRenew,m=void 0!==v&&v,y=n.validateSubOnSilentRenew,b=void 0!==y&&y,w=n.includeIdTokenInSilentRenew,x=void 0===w||w,S=n.monitorSession,E=void 0===S||S,k=n.monitorAnonymousSession,F=void 0!==k&&k,P=n.checkSessionInterval,O=void 0===P?2e3:P,R=n.stopCheckSessionOnError,j=void 0===R||R,A=n.query_status_response_type,T=n.revokeAccessTokenOnSignout,C=void 0!==T&&T,I=n.accessTokenExpiringNotificationTime,N=void 0===I?60:I,D=n.redirectNavigator,L=void 0===D?new s.RedirectNavigator:D,U=n.popupNavigator,M=void 0===U?new a.PopupNavigator:U,B=n.iframeNavigator,H=void 0===B?new o.IFrameNavigator:B,V=n.userStore,Z=void 0===V?new u.WebStorageStateStore({store:c.Global.sessionStorage}):V;h(this,t);var z=f(this,e.call(this,arguments[0]));return z._popup_redirect_uri=r,z._popup_post_logout_redirect_uri=i,z._popupWindowFeatures=p,z._popupWindowTarget=d,z._silent_redirect_uri=_,z._silentRequestTimeout=g,z._automaticSilentRenew=m,z._validateSubOnSilentRenew=b,z._includeIdTokenInSilentRenew=x,z._accessTokenExpiringNotificationTime=N,z._monitorSession=E,z._monitorAnonymousSession=F,z._checkSessionInterval=O,z._stopCheckSessionOnError=j,A?z._query_status_response_type=A:arguments[0]&&arguments[0].response_type?z._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":z._query_status_response_type="id_token",z._revokeAccessTokenOnSignout=C,z._redirectNavigator=L,z._popupNavigator=M,z._iframeNavigator=H,z._userStore=Z,z}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,s){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,s),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(3);t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t}));var r=t.popupWindowTarget||"_blank",s=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,s),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=s.UrlUtility.parseUrlFragment(e,n);if(r.state){var a="popupCallback_"+r.state,o=window.opener[a];o?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),o(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),s=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new s.Event("User loaded"),r._userUnloaded=new s.Event("User unloaded"),r._silentRenewError=new s.Event("Silent renew error"),r._userSignedIn=new s.Event("User signed in"),r._userSignedOut=new s.Event("User signed out"),r._userSessionChanged=new s.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),a=n(17);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;o(this,t);var a=u(this,e.call(this,n));return a._timer=r,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.5"}])},e.exports=t()},34155:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var o,u=[],c=!1,l=-1;function h(){c&&o&&(c=!1,o.length?u=o.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(o=u,u=[];++l<t;)o&&o[l].run();l=-1,t=u.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function d(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},92703:function(e,t,n){"use strict";var r=n(50414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69590:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,u,c,l;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(u=o;0!==u--;)if(!s(e[u],a[u]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!s(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(u=o;0!==u--;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(u=o;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=o;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!s(e[c[u]],a[c[u]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},84207:function(e,t,n){var r=n(34155);!function(){"use strict";var t={583:function(e){e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},590:function(e,t,n){t.__esModule=!0,t.computeId=function(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;s[r]||(s[r]="jsx-"+(0,i.default)(e+"-"+n));return s[r]},t.computeSelector=function(e,t){"undefined"===typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;s[n]||(s[n]=t.replace(/__jsx-style-dynamic-selector/g,e));return s[n]};var r,i=(r=n(583))&&r.__esModule?r:{default:r};var s={}},503:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=void 0;var i="undefined"!==typeof r&&r.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,a=t.optimizeForSpeed,u=void 0===a?i:a,c=t.isBrowser,l=void 0===c?"undefined"!==typeof window:c;o(s(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",o("boolean"===typeof u,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=u,this._isBrowser=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var h=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=h?h.getAttribute("content"):null}var t,r,a,u=e.prototype;return u.setOptimizeForSpeed=function(e){o("boolean"===typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},u.isOptimizeForSpeed=function(){return this._optimizeForSpeed},u.inject=function(){var e=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"===typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},u.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},u.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},u.insertRule=function(e,t){if(o(s(e),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!==typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(a){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},u.replaceRule=function(e,t){if(this._optimizeForSpeed||!this._isBrowser){var n=this._isBrowser?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];o(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},u.deleteRule=function(e){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];o(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}else this._serverSheet.deleteRule(e)},u.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach((function(e){return e&&e.parentNode.removeChild(e)})),this._tags=[]):this._serverSheet.cssRules=[]},u.cssRules=function(){var e=this;return this._isBrowser?this._tags.reduce((function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,(function(t){return t.cssText===e._deletedRulePlaceholder?null:t}))):t.push(null),t}),[]):this._serverSheet.cssRules},u.makeStyleTag=function(e,t,n){t&&o(s(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},t=e,(r=[{key:"length",get:function(){return this._rulesCount}}])&&n(t.prototype,r),a&&n(t,a),e}();function o(e,t){if(!e)throw new Error("StyleSheet: "+t+".")}t.default=a},449:function(e,t,n){t.__esModule=!0,t.default=c;var r,i=(r=n(522))&&r.__esModule?r:{default:r},s=n(147),a=n(590);var o=i.default.useInsertionEffect||i.default.useLayoutEffect,u="undefined"!==typeof window?(0,s.createStyleRegistry)():void 0;function c(e){var t=u||(0,s.useStyleRegistry)();return t?"undefined"===typeof window?(t.add(e),null):(o((function(){return t.add(e),function(){t.remove(e)}}),[e.id,String(e.dynamic)]),null):null}c.dynamic=function(e){return e.map((function(e){var t=e[0],n=e[1];return(0,a.computeId)(t,n)})).join(" ")}},147:function(e,t,n){t.__esModule=!0,t.createStyleRegistry=l,t.StyleRegistry=function(e){var t=e.registry,n=e.children,r=(0,i.useContext)(c),s=(0,i.useState)((function(){return r||t||l()}))[0];return i.default.createElement(c.Provider,{value:s},n)},t.useStyleRegistry=function(){return(0,i.useContext)(c)},t.StyleSheetContext=t.StyleSheetRegistry=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(522)),s=(r=n(503))&&r.__esModule?r:{default:r},a=n(590);function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var u=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,a=void 0!==i&&i,o=t.isBrowser,u=void 0===o?"undefined"!==typeof window:o;this._sheet=r||new s.default({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"===typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=u,this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(e,t){return e[t]=0,e}),{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var s=i.map((function(e){return t._sheet.insertRule(e)})).filter((function(e){return-1!==e}));this._indices[r]=s,this._instancesCounts[r]=1}},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach((function(e){return t._sheet.deleteRule(e)})),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map((function(t){return[t,e._fromServer[t]]})):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map((function(t){return[t,e._indices[t].map((function(e){return n[e].cssText})).join(e._optimizeForSpeed?"":"\n")]})).filter((function(e){return Boolean(e[1])})))},t.styles=function(e){return function(e,t){return void 0===t&&(t={}),e.map((function(e){var n=e[0],r=e[1];return i.default.createElement("style",{id:"__"+n,key:"__"+n,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})}))}(this.cssRules(),e)},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=(0,a.computeId)(r,n);return{styleId:i,rules:Array.isArray(t)?t.map((function(e){return(0,a.computeSelector)(i,e)})):[(0,a.computeSelector)(i,t)]}}return{styleId:(0,a.computeId)(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(e,t){return e[t.id.slice(2)]=t,e}),{})},e}();t.StyleSheetRegistry=u;var c=(0,i.createContext)(null);function l(){return new u}t.StyleSheetContext=c},522:function(e){e.exports=n(67294)}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={exports:{}},a=!0;try{t[e](r,r.exports,s),a=!1}finally{a&&delete i[e]}return r.exports}s.ab="//";var a={};!function(){var e=a;e.__esModule=!0,e.style=e.useStyleRegistry=e.createStyleRegistry=e.StyleRegistry=void 0;var t=s(147);e.StyleRegistry=t.StyleRegistry,e.createStyleRegistry=t.createStyleRegistry,e.useStyleRegistry=t.useStyleRegistry;var n,r=(n=s(449))&&n.__esModule?n:{default:n};e.style=r.default}(),e.exports=a}()},19320:function(e,t,n){e.exports=n(84207)},65988:function(e,t,n){e.exports=n(84207).style},14473:function(e,t,n){"use strict";n(67294),n(73935),n(41664),n(11163),n(9008),n(4298),n(5152),n(19320),n(65988),e.exports={}},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63366);function i(e,t){if(null==e)return{};var n,i,s=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}},19799:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return i}})},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],(function(){return t(6840),t(69898)}));var n=e.O();_N_E=n}]);