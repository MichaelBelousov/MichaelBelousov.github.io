(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{73039:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return x},default:function(){return N}});var n=r(80989),c=r(50029),i=r(87794),o=r.n(i),u=r(57255),a=r(11163),s=r(67294),f=r(61686),l=r(69338),p=r(51477),v=r(59499),d=r(4730),m=r(94184),h=r.n(m),y=(r(97369),r(85893)),b=["title","className"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.title,r=e.className,n=(0,d.Z)(e,b),c=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=c.current;if(e){var t=e.contentWindow;if(t){var r=new ResizeObserver((function(t){var r,n=w(t);try{for(n.s();!(r=n.n()).done;){var c=r.value.contentRect.height;e.style.height="".concat(c,"px")}}catch(i){n.e(i)}finally{n.f()}}));return r.observe(t.document.body),function(){r.unobserve(t.document.body),r.disconnect()}}}}),[]),(0,y.jsx)("iframe",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:t,ref:c,className:h()(["content-height-frame",r])},n))};r(94514);function S(e){var t=e.agreement,r=(0,l.N)(),n=r.isTermsOfServiceAccepted,i=r.acceptTermsOfService,v=(0,a.useRouter)(),d=(0,s.useState)(!1),m=d[0],h=d[1],b=(0,s.useState)(!1),g=b[0],w=b[1];function O(){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=decodeURIComponent(v.query.redirect),e.prev=1,w(!0),e.next=5,i();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.prev=9,w(!1),r=p.c.getAllowedReturnUrl(t),f.LI.some((function(e){return r.startsWith(e)}))?v.push(t):v.push("/"),e.finish(9);case 14:case"end":return e.stop()}}),e,null,[[1,7,9,14]])})))).apply(this,arguments)}return(0,y.jsx)("div",{id:"page",className:"terms-of-service page-content-container",children:(0,y.jsxs)("div",{className:"agreement-container",children:[(0,y.jsx)(j,{title:"Developer Terms of Service",srcDoc:t}),!n&&(0,y.jsxs)("div",{className:"agreement-actions",children:[(0,y.jsx)(u.Checkbox,{checked:m,label:"I agree to the Terms of Service.",onChange:function(){return h(!m)}}),(0,y.jsx)(u.Button,{className:"accept-button",disabled:!m||g,onClick:(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)}))),styleType:"high-visibility",children:"Accept"})]})]})})}r(14473);var x=!0;function N(e){var t=e.agreement;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.d,{title:"Terms of Service | iTwin Platform"}),(0,y.jsx)(S,{agreement:t})]})}},80989:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(9008),c=r.n(n),i=r(85893);function o(e){var t=e.title;return(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:t})})}},69338:function(e,t,r){"use strict";r.d(t,{N:function(){return s}});var n=r(50029),c=r(87794),i=r.n(c),o=r(67294),u=r(28038),a=r(45829);function s(){var e=(0,a.m)(),t=e.user,r=e.isLoggedIn,c=(0,o.useMemo)((function(){return new u.Z(t.accessToken)}),[t]),s=(0,o.useState)(!0),f=s[0],l=s[1],p=(0,o.useState)(!1),v=p[0],d=p[1],m=(0,o.useCallback)((0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.acceptTermsOfService();case 2:case"end":return e.stop()}}),e)}))),[c]);return(0,o.useEffect)((function(){r?c.getTermsOfServiceState().then((function(e){return l(e)})).catch((function(){return l(!0)})).finally((function(){return d(!0)})):(l(!0),d(!1))}),[c,r]),(0,o.useMemo)((function(){return{isTermsOfServiceAccepted:f,receivedState:v,acceptTermsOfService:m}}),[m,f,v])}},62629:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/terms-of-service",function(){return r(73039)}])},97369:function(){},94514:function(){}},function(e){e.O(0,[9774,2888,179],(function(){return t=62629,e(e.s=t);var t}));var t=e.O();_N_E=t}]);