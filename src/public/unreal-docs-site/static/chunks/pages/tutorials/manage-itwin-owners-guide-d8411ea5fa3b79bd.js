(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3996],{16795:function(e,t,n){"use strict";n.d(t,{Jt:function(){return C},Pu:function(){return s},ZP:function(){return b}});var i=n(36864),o=n(4730),a=n(67294),r=n(3905),l=["components"],s=(a.createElement,{title:"Manage iTwin Owners",tile:{name:"Manage iTwin Owners",description:"This tutorial will guide you through the process of adding and removing owners on an iTwin",href:"/tutorials/manage-itwin-owners-guide",durationInMinutes:10,relatedApiIds:["accesscontrol"],showInFirstSteps:!1}}),d=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},p=d("Introduction"),u=d("Alert"),c=d("TutorialSection"),m=d("LinkButton"),h=d("GoogleChromeIcon"),k=d("VSCodeIcon"),T=d("PostmanIcon"),w=d("CreateSampleAppButton"),g=d("Title"),y=d("CodeBlock"),f=d("ContinueLearningSection"),N=d("TileList"),v=d("ResourceTile"),x={metadata:s};function b(e){var t=e.components,n=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(p,{skillLevel:"Basic",durationInMinutes:"10",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)(u,{mdxType:"Alert"},"This tutorial is for the"," ",(0,r.kt)("a",{href:"/apis/access-control-v2/overview/"},"Access Control API V2"),". To control the API version,"," ",(0,r.kt)("a",{href:"/apis/overview/lifecycle/#api-versions"},"see the API versions documentation")),(0,r.kt)("p",null,"This tutorial will take you through the process of adding and removing owners for a given iTwin. iTwin owners are the individuals with upmost level of authority on an iTwin; They are implicitly granted all Access Control permissions for the iTwin they own. For more information, see ",(0,r.kt)("a",{parentName:"p",href:"/apis/access-control/#itwinowner"},"iTwin owner overview documentation"),"."),(0,r.kt)("p",null,"By the end of this walk-through, you will be able to utilize the API endpoints in order to add and remove iTwin owners.")),(0,r.kt)(c,{actions:[(0,r.kt)(m,{href:"https://www.google.com/chrome/",target:"_blank",title:"Google Chrome",icon:(0,r.kt)(h,{mdxType:"GoogleChromeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(m,{href:"https://code.visualstudio.com/",target:"_blank",title:"Visual Studio Code",icon:(0,r.kt)(k,{mdxType:"VSCodeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(m,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(T,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A tool, such as ",(0,r.kt)("inlineCode",{parentName:"li"},"Postman")," that can be used to execute HTTP calls. These calls can also be made using the ",(0,r.kt)("strong",{parentName:"li"},"Try it out")," button in the API documentation."),(0,r.kt)("li",{parentName:"ul"},"Already created an iTwin. If you have not, follow the ",(0,r.kt)("a",{parentName:"li",href:"/tutorials/create-and-query-itwins-guide/"},"Create and Query iTwins Guide"),"."))),(0,r.kt)(c,{actions:[(0,r.kt)(w,{tooltip:"Register a basic SPA App for this tutorial",clientName:"Manage iTwin Owners tutorial",scopes:["iTwins:modify","iTwins:read"],mdxType:"CreateSampleAppButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-register-an-application"},"1. Register an Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs. You can use the ",(0,r.kt)("strong",{parentName:"p"},"Register")," button to automatically create your first single page application (SPA). This will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorizesinglepageapplicationsspaanddesktopmobileapplicationsnative"},"Authorization Code Flow for your SPA application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_CLIENT_ID")," - this is the unique identifier for your application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_REDIRECT_URI")," - specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_LOGOUT_URI")," - specifies where users can be returned to after logging out. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Post logout redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_SCOPES")," - list of accesses granted to the application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Or optionally:")," Register and configure your application manually following instructions in ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial.\nMake sure that your application is associated with ",(0,r.kt)("strong",{parentName:"p"},"iTwins API")," and has ",(0,r.kt)("inlineCode",{parentName:"p"},"itwins:modify")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"itwins:read")," scopes enabled."))),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-a-token"},"2. Get a token"),(0,r.kt)("p",null,"Before you can make a request to the APIs, a user token is needed. There are several ways to get it."),(0,r.kt)("h3",{id:"implement-authorization-code-flow-in-the-application"},"Implement Authorization Code Flow in the application"),(0,r.kt)("p",null,"Follow this ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/"},"article")," to implement Authorization code workflow in your application."),(0,r.kt)(u,{type:"informational",mdxType:"Alert"},"Here you can use Client ID generated from previous registration step."),(0,r.kt)("h3",{id:"grab-a-user-token-from-the-itwins-documentation-page"},"Grab a user token from the iTwins documentation page"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go ",(0,r.kt)("a",{parentName:"li",href:"/apis/access-control/operations/get-iTwin-roles/"},"here")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Try it out")," button."),(0,r.kt)("li",{parentName:"ol"},"Under the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," section, select ",(0,r.kt)("inlineCode",{parentName:"li"},"authorizationCode")," from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"After the sign in popup closes, the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," header with token value should be visible beneath the ",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP request")," dropdown."),(0,r.kt)("li",{parentName:"ol"},"Copy & paste the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," value for this tutorial.")),(0,r.kt)(u,{type:"informational",mdxType:"Alert"},"Use user token to replace JWT_TOKEN dynamic parameter in the next steps.")),(0,r.kt)(c,{actions:[(0,r.kt)(a.Fragment,null,(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),",",(0,r.kt)(y,{language:"http",code:"POST https://api.bentley.com/accesscontrol/itwins/{id}/members/owners HTTP/1.1",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),",",(0,r.kt)(y,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v2+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Request Body"),",",(0,r.kt)(y,{language:"json",code:'{\n  "email": "FirstName.LastName@organization.com"\n}',mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),",",(0,r.kt)(y,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 203\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 17:26:10 GMT\nrequest-context: appId=cid-v2:7a353d36-9a8b-423e-965e-9d7f51324584\nx-correlation-id: 74e263d7-ded7-45a5-8347-ca1f98ffab86\nx-itwinplatform-media-type: bentley.itwin-platform.v2\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Response Body"),",",(0,r.kt)(y,{language:"json",code:'{\n  "member": {\n    "id": "d0ec803b-de9a-41cd-9d97-c8edddd4cb0d",\n    "email": "FirstName.LastName@organization.com",\n    "givenName": "FirstName",\n    "surName": "LastName",\n    "organization": "Organization LLC"\n  }\n}',mdxType:"CodeBlock"}))],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-add-a-user-as-an-owner"},"3. Add a user as an owner"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/apis/access-control/operations/add-itwin-owner-member/"},"Add iTwin Owner")," endpoint is used to add iTwin owners. The user making this request must be an Owner themself. "),(0,r.kt)("p",null,"The iTwin ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," from an existing iTwin (see ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/create-and-query-itwins-guide/"},"create and query iTwins guide"),") is required to manage ownership and the ",(0,r.kt)("inlineCode",{parentName:"p"},"email")," of who is being added as the owner, is also required. "),(0,r.kt)("p",null,"The POST call will return the member object. The returned member ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," will be used in subsequent steps to remove the owner. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," The Account Administrator can also perform this request, and is not required to be an Owner, but that is the only exception to this rule.")),(0,r.kt)(c,{actions:[(0,r.kt)(a.Fragment,null,(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),",",(0,r.kt)(y,{language:"http",code:"GET https://api.bentley.com/accesscontrol/itwins/{id}/members/owners HTTP/1.1",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),",",(0,r.kt)(y,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v2+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),",",(0,r.kt)(y,{language:"http",code:"HTTP/1.1 200 OK\ncontent-type: application/json\ndate: Mon, 29 Aug 2022 19:24:14 GMT\nrequest-context: appId=cid-v2:7a353d36-9a8b-423e-965e-9d7f51324584\nvary: Accept-Encoding\nx-correlation-id: 260678e5-0244-413d-bc60-f6dac19fd450\nx-itwinplatform-media-type: bentley.itwin-platform.v2\nx-itwinplatform-region: East US\nx-rate-limit-limit: 1s\nx-rate-limit-remaining: 49\nx-rate-limit-reset: 2022-08-29T19:24:15.3864257Z",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Response Body"),",",(0,r.kt)(y,{language:"json",code:'{\n  "members": [\n    {\n      "id": "d0ec803b-de9a-41cd-9d97-c8edddd4cb0d",\n      "email": "FirstName.LastName@organization.com",\n      "givenName": "FirstName",\n      "surName": "LastName",\n      "organization": "Organization LLC"\n    },\n    {\n      "id": "5665087f-3f44-446d-9ce5-84c5d41af3c5",\n      "email": "Another.Owner@organization.com",\n      "givenName": "Another",\n      "surName": "Owner",\n      "organization": "Organization LLC"\n    }\n  ]\n}',mdxType:"CodeBlock"}))],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-query-for-an-itwins-owners"},"4. Query for an iTwin\u2019s owners"),(0,r.kt)("p",null,"The iTwin ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," can be used to ",(0,r.kt)("a",{parentName:"p",href:"/apis/access-control/operations/get-itwin-owner-members/"},"retrieve a list of iTwin owners"),"."),(0,r.kt)("p",null,"The API will return a list of owners for a given iTwin.")),(0,r.kt)(c,{actions:[(0,r.kt)(a.Fragment,null,(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),",",(0,r.kt)(y,{language:"http",code:"DELETE https://api.bentley.com/accesscontrol/itwins/{id}/members/owners/{memberId} HTTP/1.1",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),",",(0,r.kt)(y,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v2+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),",",(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),",",(0,r.kt)(y,{language:"http",code:"HTTP/1.1 204 No Content\ncontent-length: 0\ndate: Tue, 27 Jun 2023 17:13:28 GMT\nrequest-context: appId=cid-v1:eed7f349-e7be-4e9c-a631-b40237883d60\nx-correlation-id: 5e8e9dc2-8fb3-4d39-92c8-e807eabe2e13\nx-itwinplatform-media-type: bentley.itwin-platform.v2\nx-itwinplatform-region: West Central US",mdxType:"CodeBlock"}))],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"5-remove-an-owner"},"5. Remove an owner"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/apis/access-control/operations/remove-itwin-owner-member/"},"Remove iTwin Owner")," endpoint is used to remove iTwin owners. The user making this request must be an Owner themself."),(0,r.kt)("p",null,"The iTwin ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," from an existing iTwin (see ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/create-and-query-itwins-guide/"},"create and query iTwins guide"),") is required to manage ownership and the member ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," of the owner being removed, is also required. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," The Account Administrator can also perform this request, and is not required to be an Owner, but that is the only exception to this rule.")),(0,r.kt)(f,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(N,{mdxType:"TileList"},(0,r.kt)(v,{title:"Create and Query iTwins Guide",href:"/tutorials/create-and-query-itwins-guide/",description:"Tutorial for creating and querying iTwins.",isExternal:!1,mdxType:"ResourceTile"}))))}b.isMDXComponent=!0;var C=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-register-an-application",level:2,title:"1. Register an Application",children:[]},{id:"2-get-a-token",level:2,title:"2. Get a token",children:[{id:"implement-authorization-code-flow-in-the-application",level:3,title:"Implement Authorization Code Flow in the application",children:[]},{id:"grab-a-user-token-from-the-itwins-documentation-page",level:3,title:"Grab a user token from the iTwins documentation page",children:[]}]},{id:"3-add-a-user-as-an-owner",level:2,title:"3. Add a user as an owner",children:[]},{id:"4-query-for-an-itwins-owners",level:2,title:"4. Query for an iTwin\u2019s owners",children:[]},{id:"5-remove-an-owner",level:2,title:"5. Remove an owner",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},45981:function(e,t,n){"use strict";n.r(t);var i=n(16795),o=(n(67294),n(3905)),a=n(1176),r=n(80989),l=n(58822),s=n(85893);n(14473),t.default=function(){var e={headline:i.Pu.title,navigationItems:(0,i.Jt)(),tutorialSteps:(0,s.jsx)(o.Zo,{components:l.d,children:(0,s.jsx)(i.ZP,{})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.d,{title:"".concat(i.Pu.title," - Tutorials | iTwin Platform")}),(0,s.jsx)(a.Z,{tutorial:e})]})}},39996:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/manage-itwin-owners-guide",function(){return n(45981)}])}},function(e){e.O(0,[3714,8670,9734,9102,8764,1706,4009,1610,6638,9774,2888,179],(function(){return t=39996,e(e.s=t);var t}));var t=e.O();_N_E=t}]);