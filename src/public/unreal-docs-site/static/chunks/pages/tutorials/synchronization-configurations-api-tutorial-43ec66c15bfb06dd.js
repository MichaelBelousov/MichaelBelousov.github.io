(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3964],{70483:function(e,n,t){"use strict";t.d(n,{Jt:function(){return m},Pu:function(){return l},ZP:function(){return k}});var i=t(36864),o=t(4730),a=t(67294),r=t(3905),s=["components"],l=(a.createElement,{title:"Get started with Synchronization Configurations API",tile:{name:"Get started with Synchronization Configurations API",description:"An introduction to Synchronization Configurations API explaining main workflows and operations.",thumbnail:"/images/synchronizationConfiguration.png",href:"/tutorials/synchronization-configurations-api-tutorial/",durationInMinutes:50,relatedApiIds:["synchronization"]}}),c=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",n)}},d=c("Introduction"),u=c("TutorialSection"),h=c("Title"),p=c("CodeBlock"),f=c("ContinueLearningSection"),g=c("TileList"),y=c("ResourceTile"),w={metadata:l};function k(e){var n=e.components,t=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,i.Z)({},w,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)(d,{skillLevel:"Intermediate",durationInMinutes:"50",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This tutorial guides you through synchronizing a file using different configurations with the Synchronization API. Many configurations could be set on three scopes: iTwin, iModel, or Connection. In this example, you will learn how to enable sheets and drawings processing that are not synchronized by default."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Perform all the actions defined in the ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/synchronization-blob-tutorial/"},"Synchronize a file from Azure Blob Storage")," tutorial, which covers all the fundamental steps to a typical synchronization workflow with various data types. As a result, you will have an iTwin, an iModel, and a Connection created with a successful connection run that did not process 2D data."),(0,r.kt)("p",null,"In this tutorial, we will only cover the workflow for creating and running a connection with a specific ",(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings")," configuration set. A .dgn or .revit file with sheets or drawings is required to follow the steps."),(0,r.kt)("h2",{id:"1-guide-to-synchronization-configuration-api"},"1. Guide to Synchronization Configuration API"),(0,r.kt)("p",null,"Before diving into the code to apply configurations to your synchronizations, let\u2019s take some time to understand the workflow and the involved API calls."),(0,r.kt)("p",null,"Synchronization Configuration API provides multiple flags which apply to different scopes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"iTwin")," - all supported iTwin scope flags can be found at ",(0,r.kt)("a",{parentName:"li",href:"/apis/synchronization/operations/create-itwin-configuration/"},"Create iTwin configuration")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"iModel")," - all supported iModel scope flags can be found at ",(0,r.kt)("a",{parentName:"li",href:"/apis/synchronization/operations/create-imodel-configuration/"},"Create iModel configuration")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Connection")," - all supported Connection scope flags can be found at ",(0,r.kt)("a",{parentName:"li",href:"/apis/synchronization/operations/create-connection-configuration/"},"Create Connection configuration"))),(0,r.kt)("h2",{id:"workflow-for-setting-configurations"},"Workflow for setting configurations"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Identify configurations that require the default value changed per your synchronization workflow."),(0,r.kt)("li",{parentName:"ol"},"Create a Connection that establishes links from design files to iModel."),(0,r.kt)("li",{parentName:"ol"},"Depending on the supported scope, use Create Connection Configuration, Create iModel Configurations or Create iTwin Configurations, where you specify how data should be processed."),(0,r.kt)("li",{parentName:"ol"},"Proceed with synchronization by Running a Connection"),(0,r.kt)("li",{parentName:"ol"},"Modify configurations for the next synchronization runs if required.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"In this tutorial, enableSheetsAndDrawings will be used as an example, but the workflow patterns are the same for any configuration.")),(0,r.kt)("h2",{id:"enablesheetsanddrawings"},"enableSheetsAndDrawings"),(0,r.kt)("p",null,"Controls sheets and drawings synchronization. If enabled, all sheet models and\nrelayed drawings will be synchronized to an iModel. The default value is\n",(0,r.kt)("strong",{parentName:"p"},"false"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Typical use case:")," As you are synchronizing Revit files, there could be sheets with multiple drawings on them. You can choose to synchronize those or not. If a file contains drawings not used in any of the sheets, those will not be processed."))),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-create-a-configuration-with-the-enablesheetsanddrawings-flag"},"2. Create a configuration with the \u201cenableSheetsAndDrawings\u201d flag"),(0,r.kt)("p",null,"To enable 2D data processing, we need to create a configuration for connection with the ",(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings")," flag.")),(0,r.kt)(u,{hasTitle:!1,subSection:!0,actions:[(0,r.kt)(h,{mdxType:"Title"},"HTTP request"),(0,r.kt)(p,{language:"http",code:"POST https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID HTTP/1.1\nContentType: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(h,{mdxType:"Title"},"Request Body"),(0,r.kt)(p,{language:"json",code:'{\n"enableSheetsAndDrawings": "true"\n}',mdxType:"CodeBlock"}),(0,r.kt)(h,{mdxType:"Title"},"Response Body"),(0,r.kt)(p,{language:"json",code:'{\n  "configuration": {\n    "scopeId": CONNECTION_ID,\n    "settings": { "enableSheetsAndDrawings": "true" },\n    "resolvedSettings": {\n      "uploadDgnRealityData": "true",\n      "convertDgnTerrainModels": "false",\n      "createRvtDrawings": "false",\n      "squashIntermediateRevisions": "false",\n      "skipRvtReprojection": "false",\n      "convertDgnHyperModelingSections": "true",\n      "clampZExtent": "false",\n      "overrideRvtReprojectionDistance": "0",\n      "reclassifyDgnElements": "false",\n      "ignoreDgnAttachments": "true"\n    }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"request"},"Request"),(0,r.kt)("p",null,"A Synchronization connection configuration is created by sending an HTTP POST request to ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID"},"https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID")," endpoint. Where CONNECTION_ID is a connection id retrieved from prerequisites connection."),(0,r.kt)("h3",{id:"request-body"},"Request Body"),(0,r.kt)("p",null,"There is one required property for the create configuration payload."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings: true")),(0,r.kt)("h3",{id:"response"},"Response"),(0,r.kt)("p",null,"All the applicable flags are set and the ",(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings")," configuration is set to true.")),(0,r.kt)(u,{hasTitle:!1,mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-run-a-configured-connection-with-the-enablesheetsanddrawings-flag-set-to-true"},"3. Run a configured connection with the \u201cenableSheetsAndDrawings\u201d flag set to true"),(0,r.kt)("p",null,"Perform connection run steps defined in the ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/synchronization-blob-tutorial/"},"Synchronize a file from Azure Blob Storage"),"\nfor the configured connection. The result will be a connection run with 2D data synchronized.")),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-update-of-configuration-with-enablesheetsanddrawings-flag-to-false-optional"},"4. Update of configuration with \u201cenableSheetsAndDrawings\u201d flag to false (Optional)"),(0,r.kt)("p",null,"If you no longer want to synchronize 2D data, update the configured connection configuration setting enableSheetsAndDrawings flag to false. Next time this connection will run 2D data will not be updated, but existing sheets and drawings processed before will remain in an iModel.")),(0,r.kt)(u,{hasTitle:!1,actions:[(0,r.kt)(h,{mdxType:"Title"},"HTTP request"),(0,r.kt)(p,{language:"http",code:"PATCH https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID HTTP/1.1\nContentType: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(h,{mdxType:"Title"},"Request Body"),(0,r.kt)(p,{language:"json",code:'{\n"enableSheetsAndDrawings": "false"\n}',mdxType:"CodeBlock"}),(0,r.kt)(h,{mdxType:"Title"},"Response Body"),(0,r.kt)(p,{language:"json",code:'{\n  "configuration": {\n    "scopeId": CONNECTION_ID,\n    "settings": { "enableSheetsAndDrawings": "false" },\n    "resolvedSettings": {\n      "uploadDgnRealityData": "true",\n      "convertDgnTerrainModels": "false",\n      "createRvtDrawings": "false",\n      "squashIntermediateRevisions": "false",\n      "skipRvtReprojection": "false",\n      "convertDgnHyperModelingSections": "true",\n      "clampZExtent": "false",\n      "overrideRvtReprojectionDistance": "0",\n      "reclassifyDgnElements": "false",\n      "ignoreDgnAttachments": "true"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"request-1"},"Request"),(0,r.kt)("p",null,"Synchronization Connection configuration settings are updated by sending an HTTP PATCH request to ",(0,r.kt)("a",{parentName:"p",href:"https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID"},"https://api.bentley.com/synchronization/configurations/connections/CONNECTION_ID")," endpoint. Where CONNECTION_ID is a connection id retrieved from prerequisites connection."),(0,r.kt)("h3",{id:"request-body-1"},"Request Body"),(0,r.kt)("p",null,"There is one required property for the create configuration payload."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings: false")),(0,r.kt)("h3",{id:"response-1"},"Response"),(0,r.kt)("p",null,"All the applicable flags are set and the ",(0,r.kt)("strong",{parentName:"p"},"enableSheetsAndDrawings")," configuration is set to false.")),(0,r.kt)(f,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"5-run-a-configured-connection-with-the-enablesheetsanddrawings-flag-set-to-false-optional"},"5. Run a configured connection with the \u201cenableSheetsAndDrawings\u201d flag set to false (Optional)"),(0,r.kt)("p",null,"Perform connection run steps defined in the ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/synchronization-blob-tutorial/"},"Synchronize a file from Azure Blob Storage")," for the configured connection. The result will be a connection run without 2D data changes synchronized. Sheets and drawings synchronized previously will remain in an iModel."),(0,r.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,r.kt)("p",null,"Congratulation on completing the Synchronization Configuration API tutorial! Find more about each ",(0,r.kt)("a",{parentName:"p",href:"/apis/synchronization/operations/create-itwin-configuration/"},"iTwin"),", ",(0,r.kt)("a",{parentName:"p",href:"/apis/synchronization/operations/create-imodel-configuration/"},"iModel"),", and ",(0,r.kt)("a",{parentName:"p",href:"/apis/synchronization/operations/create-connection-configuration/"},"connection")," configuration."),(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(g,{mdxType:"TileList"},(0,r.kt)(y,{title:"iTwins API",href:"/apis/itwins/",description:"The iTwins API provides a full encompassing suite of functionality to manage your digital twins.",mdxType:"ResourceTile"}),(0,r.kt)(y,{title:"Synchronization API",href:"/api-groups/synchronization/",description:"Files can be synchronized to iModel via Synchronization API.",mdxType:"ResourceTile"}),(0,r.kt)(y,{title:"Changed Elements API",href:"/tutorials/changed-elements-api/",description:"The Changed Elements API is a REST API that allows the consumer to inspect what elements have changed in an iModel between two versions of the iModel.",mdxType:"ResourceTile"}),(0,r.kt)(y,{title:"Property Validation Basics",href:"/tutorials/property-validation-basics/",description:"Use Property Validation to check whether property values in an iModel conform to certain rules.",mdxType:"ResourceTile"}),(0,r.kt)(y,{title:"Create iModel Named Version",href:"/tutorials/create-named-version/",description:"This quick start is intended to guide you through the steps to create a new iModel Named Version.",mdxType:"ResourceTile"}))))}k.isMDXComponent=!0;var m=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-guide-to-synchronization-configuration-api",level:2,title:"1. Guide to Synchronization Configuration API",children:[]},{id:"workflow-for-setting-configurations",level:2,title:"Workflow for setting configurations",children:[]},{id:"enablesheetsanddrawings",level:2,title:"enableSheetsAndDrawings",children:[]},{id:"2-create-a-configuration-with-the-enablesheetsanddrawings-flag",level:2,title:"2. Create a configuration with the \u201cenableSheetsAndDrawings\u201d flag",children:[{id:"request",level:3,title:"Request",children:[]},{id:"request-body",level:3,title:"Request Body",children:[]},{id:"response",level:3,title:"Response",children:[]}]},{id:"3-run-a-configured-connection-with-the-enablesheetsanddrawings-flag-set-to-true",level:2,title:"3. Run a configured connection with the \u201cenableSheetsAndDrawings\u201d flag set to true",children:[]},{id:"4-update-of-configuration-with-enablesheetsanddrawings-flag-to-false-optional",level:2,title:"4. Update of configuration with \u201cenableSheetsAndDrawings\u201d flag to false (Optional)",children:[{id:"request-1",level:3,title:"Request",children:[]},{id:"request-body-1",level:3,title:"Request Body",children:[]},{id:"response-1",level:3,title:"Response",children:[]}]},{id:"5-run-a-configured-connection-with-the-enablesheetsanddrawings-flag-set-to-false-optional",level:2,title:"5. Run a configured connection with the \u201cenableSheetsAndDrawings\u201d flag set to false (Optional)",children:[]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},63083:function(e,n,t){"use strict";t.r(n);var i=t(70483),o=(t(67294),t(3905)),a=t(1176),r=t(80989),s=t(58822),l=t(85893);t(14473),n.default=function(){var e={headline:i.Pu.title,navigationItems:(0,i.Jt)(),tutorialSteps:(0,l.jsx)(o.Zo,{components:s.d,children:(0,l.jsx)(i.ZP,{})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.d,{title:"".concat(i.Pu.title," - Tutorials | iTwin Platform")}),(0,l.jsx)(a.Z,{tutorial:e})]})}},16819:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/synchronization-configurations-api-tutorial",function(){return t(63083)}])}},function(e){e.O(0,[3714,8670,9734,9102,8764,1706,4009,1610,6638,9774,2888,179],(function(){return n=16819,e(e.s=n);var n}));var n=e.O();_N_E=n}]);