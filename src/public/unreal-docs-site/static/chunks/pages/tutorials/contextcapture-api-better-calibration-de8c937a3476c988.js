(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{41905:function(e,t,i){"use strict";i.d(t,{Jt:function(){return C},Pu:function(){return s},ZP:function(){return b}});var n=i(36864),o=i(4730),a=i(67294),l=i(3905),r=["components"],s=(a.createElement,{title:"Better calibration in Reality Modeling",tile:{name:"Better calibration in Reality Modeling",description:"Learn how to specify calibration settings in Reality Modeling, and download the result of a calibration",thumbnail:"/unreal-docs-site/static/images/cccs-calibration-thumb.jpg",href:"/tutorials/contextcapture-api-better-calibration/",durationInMinutes:10,relatedApiIds:["contextcapture"]}}),c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",t)}},u=c("Introduction"),p=c("TutorialSection"),d=c("Title"),m=c("CodeBlock"),h=c("ContinueLearningSection"),y=c("TileList"),g=c("Tile"),k=c("ResourceTile"),f={metadata:s};function b(e){var t=e.components,i=(0,o.Z)(e,r);return(0,l.kt)("wrapper",(0,n.Z)({},f,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(u,{skillLevel:"Expert",durationInMinutes:"10",summaryImageSrc:"/unreal-docs-site/static/images/cccs-calibration-header.jpg",mdxType:"Introduction"},(0,l.kt)("h2",{id:"introduction"},"Introduction"),(0,l.kt)("p",null,"The goal of this tutorial is to specify calibration settings to ",(0,l.kt)("em",{parentName:"p"},"Reality Modeling"),", so that you can obtain a better model."),(0,l.kt)("p",null,"In this tutorial, we will cover how to send calibration settings to ",(0,l.kt)("em",{parentName:"p"},"Reality Modeling"),", and how to retrieve calibration reports from the service.")),(0,l.kt)(p,{mdxType:"TutorialSection"},(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("p",null,"This tutorial assumes that you already have:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Completed the ",(0,l.kt)("a",{parentName:"li",href:"/tutorials/contextcapture-api-quick-start"},"Reality Modeling Quick Start tutorial"),"."),(0,l.kt)("li",{parentName:"ul"},"A basic understanding of the calibration/aerotriangulation concept in Reality Modeling. See ",(0,l.kt)("a",{parentName:"li",href:"https://docs.bentley.com/LiveContent/web/ContextCapture%20Help-v10/en/GUID-95336991-F284-4AD8-A33B-9AE341507D5C.html"},"Reality Modeling Master Help")," for a description of the calibration settings"))),(0,l.kt)(p,{actions:[(0,l.kt)(d,{mdxType:"Title"},"AT Settings exchange structure"),(0,l.kt)(m,{language:"json",code:'{\n  "ATSettingsExchange":{\n    "PhotogroupEstimationMode": "OnePass"-"MultiPass",\n    "ColorEqualizationMode": "EqualizeBlockwise"-"EqualizeNone",\n    "SplatsMode": "SplatsAtlas"-"SplatsNone",\n    "AdjustmentConstraints": "None"|"UserConstraints"|"ControlPoints"|"PositionMetadata"|"PointClouds"|"Automatic",\n    "RigidRegistration": "None"|"UserConstraints"|"ControlPoints"|"PositionMetadata"|"PointClouds"|"Automatic",\n    "EstimationGroups": "PerPhotogroup"-"PerPhoto",\n    "RotationPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "CenterPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "FocalPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "PrincipalPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "RadialPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "TangentialPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "TiePointsPolicy": "Compute"-"Keep",\n    "FisheyeFocalPolicy": "Compute"-"Keep"-"AdjustFisheyeFocalSymmetric"-"AdjustFisheyeFocalAsymmetric",\n    "FisheyeDistortionPolicy": "Compute"-"Keep"-"AdjustFisheyeDistortion_01xx0"-"AdjustFisheyeDistortion_x1xx0"-"AdjustFisheyeDistortion_x1xxx"-"AdjustWithinTolerance %.%",\n    "AspectRatioPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "SkewPolicy": "Compute"-"Keep"-"Adjust"-"AdjustWithinTolerance %.%",\n    "PairSelectionMode": "Default"-"Sequence"-"Loop"-"Exhaustive"-"Similar images only",\n    "PairSelectionMaxDistance": int,\n    "KeyPointsDensity": "Normal"-"High",\n    "ExtractQR": "QR Codes"|"April Tags"|"Chili Tags"|"Disabled",\n    "ComponentConstructionMode": "OnePass"-"MultiPass"\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,l.kt)("h2",{id:"1-specifying-calibration-settings"},"1. Specifying calibration settings"),(0,l.kt)("p",null,"If you want to apply specific settings for the calibration, you can add a file in the workspace reality data: the file ",(0,l.kt)("inlineCode",{parentName:"p"},"at_settings.json")," has to be uploaded to ",(0,l.kt)("inlineCode",{parentName:"p"},"/{jobId}/data/"),".\nNote that no check on the uploaded file is performed until the job is actually submitted, and if the parameters are not fitted to the inputs, the job will failed."),(0,l.kt)("p",null,"Note that every properties in the following structure are optional.\nStrings separated by ",(0,l.kt)("inlineCode",{parentName:"p"},"-")," mean only one option can be specified. Strings separated by ",(0,l.kt)("inlineCode",{parentName:"p"},"|")," can be combined using ",(0,l.kt)("inlineCode",{parentName:"p"},"|"),", eg: ",(0,l.kt)("inlineCode",{parentName:"p"},'"QR Codes|Chili Tags"'),". For parameter ",(0,l.kt)("inlineCode",{parentName:"p"},'"AdjustWithinTolerance %.%"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},"%.%")," has to be replace by a double."),(0,l.kt)("p",null,"If you have a preset and you want to apply it, upload it as ",(0,l.kt)("inlineCode",{parentName:"p"},"at_preset.cfg")," in ",(0,l.kt)("inlineCode",{parentName:"p"},"/{jobId}/data/"),". No need to specify the name in the the ATSettings file.")),(0,l.kt)(p,{mdxType:"TutorialSection"},(0,l.kt)("h2",{id:"2-accessing-calibration-results"},"2. Accessing calibration results"),(0,l.kt)("p",null,"Once the step ",(0,l.kt)("em",{parentName:"p"},"AT_CloudExport")," is executed, you can access calibration results (including reports) through the workspace reality data."),(0,l.kt)("p",null,"In ",(0,l.kt)("inlineCode",{parentName:"p"},"/{jobId}/outputs/calibration/")," you will find:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"acquisition_report"),", a folder containing an HTML page with CSS regarding the acquisition of your images"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"quality_report"),", a folder containing HTML pages regarding with quality of your calibration"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"block.xmlz")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"block - TiePoints.xmlz"),", the corresponding ",(0,l.kt)("em",{parentName:"li"},"CCOrientations")," of this calibration"))),(0,l.kt)(h,{mdxType:"ContinueLearningSection"},(0,l.kt)("h2",{id:"continue-learning"},"Continue learning"),(0,l.kt)("p",null,"Congratulations for completing the ",(0,l.kt)("em",{parentName:"p"},"Reality Modeling")," calibration tutorial!\nYou should now be able to specify calibration settings and retrieve reports once a calibration is completed."),(0,l.kt)("p",null,"To go further and use ",(0,l.kt)("em",{parentName:"p"},"Reality Modeling")," to its maximum potential, you can check the following tutorials."),(0,l.kt)(y,{mdxType:"TileList"},(0,l.kt)(g,{name:"Using cache in Reality Modeling",description:"This tutorial focuses on using cache for faster processing in Reality Modeling",thumbnail:"/unreal-docs-site/static/images/cccs-cache-thumb.png",href:"/tutorials/contextcapture-api-how-to-use-cache",mdxType:"Tile"}),(0,l.kt)(g,{name:"Better production in Reality Modeling",description:"Learn how to specify production settings in Reality Modeling",thumbnail:"/unreal-docs-site/static/images/cccs-production-thumb.jpg",href:"/tutorials/contextcapture-api-better-production",mdxType:"Tile"})),(0,l.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,l.kt)(y,{mdxType:"TileList"},(0,l.kt)(k,{title:"Projects API",href:"/apis/projects/",description:"Project is necessary for using Reality Modeling API. You can check its possibilities.",mdxType:"ResourceTile"}),(0,l.kt)(k,{title:"Reality Data API",href:"/apis/realitydata/",description:"Reality Data API is necessary for uploading inputs for Reality Modeling, and downloading outputs.",mdxType:"ResourceTile"}),(0,l.kt)(k,{title:"Reality Management API",href:"/apis/reality-management/",description:"Reality Management API is necessary for uploading inputs for Reality Modeling, and downloading outputs.",mdxType:"ResourceTile"}))))}b.isMDXComponent=!0;var C=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-specifying-calibration-settings",level:2,title:"1. Specifying calibration settings",children:[]},{id:"2-accessing-calibration-results",level:2,title:"2. Accessing calibration results",children:[]},{id:"continue-learning",level:2,title:"Continue learning",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},56883:function(e,t,i){"use strict";i.r(t);var n=i(3905),o=i(1176),a=i(58822),l=i(41905),r=(i(67294),i(80989)),s=i(85893);i(14473),t.default=function(){var e={headline:l.Pu.title,navigationItems:(0,l.Jt)(),tutorialSteps:(0,s.jsx)(n.Zo,{components:a.d,children:(0,s.jsx)(l.ZP,{})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.d,{title:"".concat(l.Pu.title," - Tutorials | iTwin Platform")}),(0,s.jsx)(o.Z,{tutorial:e})]})}},64275:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/contextcapture-api-better-calibration",function(){return i(56883)}])}},function(e){e.O(0,[3714,8670,9734,9102,8764,1706,4009,1610,6638,9774,2888,179],(function(){return t=64275,e(e.s=t);var t}));var t=e.O();_N_E=t}]);