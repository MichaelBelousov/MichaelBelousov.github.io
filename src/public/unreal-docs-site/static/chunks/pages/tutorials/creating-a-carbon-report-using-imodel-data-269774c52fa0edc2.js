(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5685],{11678:function(e,t,o){"use strict";o.d(t,{Jt:function(){return j},Pu:function(){return l},ZP:function(){return I}});var n=o(36864),a=o(4730),i=o(67294),r=o(3905),s=["components"],l=(i.createElement,{title:"Creating a Carbon Report using iModel Data",tile:{name:"Creating a Carbon Report using iModel Data",description:"This tutorial will teach you how to create a carbon report using iModel data with One Click LCA service.",thumbnail:"",href:"/tutorials/creating-a-carbon-report-using-imodel-data",durationInMinutes:30,relatedApiIds:["insights","insights/carbon-calculation"]}}),c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},p=c("Introduction"),u=c("TutorialSection"),d=c("LinkButton"),h=c("NodeJsIcon"),m=c("GitIcon"),k=c("GoogleChromeIcon"),g=c("VSCodeIcon"),b=c("PostmanIcon"),y=c("Title"),T=c("CodeBlock"),w=c("ContinueLearningSection"),C=c("TileList"),f=c("ResourceTile"),v={metadata:l};function I(e){var t=e.components,o=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},v,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(p,{skillLevel:"Basic",durationInMinutes:"30",summaryImageSrc:"",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.oneclicklca.com"},"One Click LCA")," is a third-party construction Life Cycle Assessment (LCA)\nand Environmental Product Declaration (EPD) software company. Bentley\u2019s iTwin platform integration with\nOne Click LCA allows you to export Quantity Takeoff Reports created using the iTwin Reporting platform\nto One Click LCA for convenient Life Cycle Analysis for both infrastructure projects\nand buildings. The iTwin Platform enables the incorporation of engineering data created\nby various design tools. A summary of the design data is exported through this integration,\nallowing you to gain insights into the environmental impacts of your infrastructure project.\nThis integration also allows you to work with the ",(0,r.kt)("a",{parentName:"p",href:"https://www.oneclicklca.com/support/faq-and-guidance/documentation/compliancy-and-certifications/"},"third-party certifications and standards"),"."),(0,r.kt)("p",null,"This tutorial will cover all the fundamental steps to create a carbon calculation summary\nbased on an insights report.")),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-set-up-your-permissions"},"1. Set up your permissions"),(0,r.kt)("p",null,"Use of the Carbon Calculation APIs requires some iModel/Project level permissions.\nFor these permissions, you must be an Organization Administrator for the organization\nthat owns a given project or have ",(0,r.kt)("inlineCode",{parentName:"p"},"administration_manage_roles")," permission assigned at\nthe Project level. If you do not have admin access to the Project or iModel you would\nlike to use, contact a Project Administrator. As a Project Administrator,\nyou can use APIs described in the ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/manage-project-team-members-guide/"},"Manage Project Team Members"),"\ntutorial to create a role and update it with ",(0,r.kt)("inlineCode",{parentName:"p"},'"permissions": ["REPORTINGVIEW", "REPORTINGEDIT", "CARBONCALCULATE", "imodels_read", "imodels_write"]'),".\nOnce this is done and the role is assigned to you, use any iModel inside your\nproject to finish this tutorial.")),(0,r.kt)(u,{subSection:!0,actions:[(0,r.kt)(d,{href:"https://nodejs.org",target:"_blank",title:"Node.js",icon:(0,r.kt)(h,{mdxType:"NodeJsIcon"}),mdxType:"LinkButton"}),(0,r.kt)(d,{href:"https://git-scm.com/downloads",target:"_blank",title:"Git",icon:(0,r.kt)(m,{mdxType:"GitIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"11-required-materials"},"1.1 Required materials"),(0,r.kt)("h5",{id:"a-hrefhttpsnodejsorg-target_blanknodejs-v12-must-be-greater-than-1210xa"},(0,r.kt)("a",{href:"https://nodejs.org",target:"_blank"},"Node.js v12 (must be greater than 12.10.x)")),(0,r.kt)("p",null,"This tool provides the backend JavaScript runtime necessary for your computer to read and\nrender code appropriately. It also allows you to run NPM command line (required for every\niTwin project)."),(0,r.kt)("h5",{id:"a-hrefhttpsgit-scmcomdownloads-target_blankgita"},(0,r.kt)("a",{href:"https://git-scm.com/downloads",target:"_blank"},"Git")),(0,r.kt)("p",null,"This is the source code control system for the iTwin repositories.")),(0,r.kt)(u,{subSection:!0,actions:[(0,r.kt)(d,{href:"https://www.google.com/chrome/",target:"_blank",title:"Google Chrome",icon:(0,r.kt)(k,{mdxType:"GoogleChromeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(d,{href:"https://code.visualstudio.com/",target:"_blank",title:"Visual Studio Code",icon:(0,r.kt)(g,{mdxType:"VSCodeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(d,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(b,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"12-suggested-materials"},"1.2 Suggested materials"),(0,r.kt)("h5",{id:"a-hrefhttpswwwgooglecomchrome-target_blankgoogle-chromea"},(0,r.kt)("a",{href:"https://www.google.com/chrome/",target:"_blank"},"Google Chrome")),(0,r.kt)("p",null,"This software helps you to develop and debug front-end JavaScript problems."),(0,r.kt)("h5",{id:"a-hrefhttpscodevisualstudiocom-target_blankvisual-studio-codea"},(0,r.kt)("a",{href:"https://code.visualstudio.com/",target:"_blank"},"Visual Studio Code")),(0,r.kt)("p",null,"This is our recommended editor and debugger tool for developing iTwin.js applications.\nIt is free, open source and includes a GUI for working with GIT."),(0,r.kt)("h5",{id:"a-hrefhttpswwwpostmancomdownloads-target_blankpostmana"},(0,r.kt)("a",{href:"https://www.postman.com/downloads/",target:"_blank"},"Postman")),(0,r.kt)("p",null,"If you want to test the REST API calls directly, you can use\n",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/downloads/"},"Postman")," or any other application capable of sending\nHTTP requests. If you do it this way, you will require an authorization token for the HTTP\nrequests to work."),(0,r.kt)("p",null,"To learn more about how authentication and authorization works in an iTwin powered\napplication, check out the full\n",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/"},"documentation")," on how to obtain\na valid token.")),(0,r.kt)(u,{subSection:!0,mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"13-step-by-step-guide-to-create-a-report-through-the-reporting-apis"},"1.3. Step-by-Step Guide to Create a Report through the Reporting APIs"),(0,r.kt)("p",null,"First you will need a report. For guidance on creating a report, see\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.bentley.com/tutorials/creating-an-insights-report-using-imodel-data/"},"Creating an Insights Report using iModel Data"),".\nThe report and associated mapping should contain all the elements and required properties of One Click LCA\u2019s Life Cycle Analysis."),(0,r.kt)("p",null,"Take note of the ",(0,r.kt)("inlineCode",{parentName:"p"},"reportId"),". This will be used later as ",(0,r.kt)("inlineCode",{parentName:"p"},"reportId"),".")),(0,r.kt)(u,{subSection:!0,mdxType:"TutorialSection"},(0,r.kt)("h3",{id:"14-create-one-click-lca-user-account"},"1.4 Create One Click LCA user account"),(0,r.kt)("p",null,"An account with One Click LCA is required to use this integration.\nUser accounts are created at ",(0,r.kt)("a",{parentName:"p",href:"https://oneclicklcaapp.com/app/register"},"One Click LCA"),".\nFor guidance on One Click LCA, please contact One Click LCA support: ",(0,r.kt)("a",{parentName:"p",href:"mailto:support@oneclicklca.com"},"support@oneclicklca.com"),".")),(0,r.kt)(u,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Example HTTP Request to request one click LCA token"),(0,r.kt)(T,{language:"http",code:'POST /app/api/login HTTP/1.1\nContent-Type: application/json\n{\n"username": "username",\n"password": "password"\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-one-click-lca-access-token"},"2. Get One Click LCA access token"),(0,r.kt)("p",null,"In order to use One Click LCA APIs for carbon calculation, you need an access token.\nA user token is acquired by sending a POST request to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://oneclicklcaapp.com/app/api/login")," with request body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json","data-language":"json","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token punctuation">{</span>\n  <span class="token property">"username"</span><span class="token operator">:</span> <span class="token string">"username"</span><span class="token punctuation">,</span>\n  <span class="token property">"password"</span><span class="token operator">:</span> <span class="token string">"password"</span>\n<span class="token punctuation">}</span>\n'}})),(0,r.kt)("p",null,"Take note of the ",(0,r.kt)("inlineCode",{parentName:"p"},"access_token")," in the response which will be used as ",(0,r.kt)("inlineCode",{parentName:"p"},"token")," later."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Creating a bearer token requires having a valid user account and a license for One Click LCA."))),(0,r.kt)(u,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Example HTTP Request to create a carbon calculation job"),(0,r.kt)(T,{language:"http",code:'POST https://api.bentley.com/insights/carbon-calculation/oneclicklca/jobs HTTP/1.1\nAuthorization: Bearer JWT_TOKEN\nAccept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\n{\n    "reportId": "reportId",\n    "token": "token"\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-create-a-carbon-calculation-job"},"3. Create a carbon calculation job"),(0,r.kt)("p",null,"Next, trigger a carbon calculation job to export your report to One Click LCA with the ",(0,r.kt)("inlineCode",{parentName:"p"},"token")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"reportId")," we have created."),(0,r.kt)("p",null,"Alternatively, use the ",(0,r.kt)("strong",{parentName:"p"},"Try It")," button on the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.bentley.com/apis/carbon-calculation/operations/create-oneclicklca-job/"},"Create One Click LCA Job")," page to execute the request directly."),(0,r.kt)("p",null,"Save ",(0,r.kt)("inlineCode",{parentName:"p"},"jobId")," in the response for progress monitoring.")),(0,r.kt)(u,{actions:[(0,r.kt)(y,{mdxType:"Title"},"Example HTTP Request to create a carbon calculation job"),(0,r.kt)(T,{language:"http",code:"GET https://api.bentley.com/insights/carbon-calculation/oneclicklca/jobs/{jobId} HTTP/1.1\nAuthorization: Bearer JWT_TOKEN\nAccept: application/vnd.bentley.itwin-platform.v1+json",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-monitor-carbon-calculation-job-progress"},"4. Monitor carbon calculation job progress"),(0,r.kt)("p",null,"The job might take some time. We provide an endpoint to track the progress of carbon calculation process linked with ",(0,r.kt)("inlineCode",{parentName:"p"},"jobId"),". The response status might be one of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Queued"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Running"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Succeeded")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Failed"),"."),(0,r.kt)("p",null,"Alternatively, use the ",(0,r.kt)("strong",{parentName:"p"},"Try It")," button on the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.bentley.com/apis/carbon-calculation/operations/get-oneclicklca-job-status/"},"Get One Click LCA Job Status")," page to execute the request directly."),(0,r.kt)("p",null,"Once the export is complete, save the ",(0,r.kt)("inlineCode",{parentName:"p"},"job -> _links -> oneclicklca -> href")," link to view the result.")),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"5-use-our-ui-interface"},"5. Use our UI interface"),(0,r.kt)("p",null,"We have a public NPM package ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@itwin/one-click-lca-react"},"One Click LCA React"),". Follow the steps in the README file, you will get the same result.")),(0,r.kt)(u,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"Congratulations on completing this tutorial and running your first carbon calculation report using the APIs.\nNow you can create your own customized groups, group properties and map them to your own customized report and calculate carbon emission based on it.")),(0,r.kt)(w,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(C,{mdxType:"TileList"},(0,r.kt)(f,{title:"Carbon Calculation API Documentation",href:"/apis/carbon-calculation/",description:"This is the official documentation of Carbon Calculation API.",mdxType:"ResourceTile"}))))}I.isMDXComponent=!0;var j=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"1-set-up-your-permissions",level:2,title:"1. Set up your permissions",children:[{id:"11-required-materials",level:3,title:"1.1 Required materials",children:[]},{id:"12-suggested-materials",level:3,title:"1.2 Suggested materials",children:[]},{id:"13-step-by-step-guide-to-create-a-report-through-the-reporting-apis",level:3,title:"1.3. Step-by-Step Guide to Create a Report through the Reporting APIs",children:[]},{id:"14-create-one-click-lca-user-account",level:3,title:"1.4 Create One Click LCA user account",children:[]}]},{id:"2-get-one-click-lca-access-token",level:2,title:"2. Get One Click LCA access token",children:[]},{id:"3-create-a-carbon-calculation-job",level:2,title:"3. Create a carbon calculation job",children:[]},{id:"4-monitor-carbon-calculation-job-progress",level:2,title:"4. Monitor carbon calculation job progress",children:[]},{id:"5-use-our-ui-interface",level:2,title:"5. Use our UI interface",children:[]},{id:"conclusion",level:2,title:"Conclusion",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},73390:function(e,t,o){"use strict";o.r(t);var n=o(3905),a=o(1176),i=o(58822),r=o(11678),s=(o(67294),o(80989)),l=o(85893);o(14473),t.default=function(){var e={headline:r.Pu.title,navigationItems:(0,r.Jt)(),tutorialSteps:(0,l.jsx)(n.Zo,{components:i.d,children:(0,l.jsx)(r.ZP,{})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.d,{title:"".concat(r.Pu.title," - Tutorials | iTwin Platform")}),(0,l.jsx)(a.Z,{tutorial:e})]})}},50713:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/creating-a-carbon-report-using-imodel-data",function(){return o(73390)}])}},function(e){e.O(0,[3714,8670,9734,9102,8764,1706,4009,1610,6638,9774,2888,179],(function(){return t=50713,e(e.s=t);var t}));var t=e.O();_N_E=t}]);