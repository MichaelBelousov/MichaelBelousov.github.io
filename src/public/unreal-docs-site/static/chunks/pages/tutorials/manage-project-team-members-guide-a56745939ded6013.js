(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1444],{94530:function(e,t,n){"use strict";n.d(t,{Jt:function(){return v},Pu:function(){return s},ZP:function(){return N}});var o=n(36864),i=n(4730),a=n(67294),r=n(3905),l=["components"],s=(a.createElement,{title:"Manage Project Team Members",tile:{name:"Manage Project Team Members",description:"This tutorial will guide you through the process of managing project team members",href:"/tutorials/manage-project-team-members-guide",durationInMinutes:15,relatedApiIds:["projects"],showInFirstSteps:!1,firstStepsSequenceNumber:3}}),p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},d=p("Introduction"),c=p("TutorialSection"),m=p("LinkButton"),u=p("GoogleChromeIcon"),k=p("VSCodeIcon"),h=p("PostmanIcon"),T=p("CreateSampleAppButton"),y=p("Alert"),g=p("Title"),f=p("CodeBlock"),b=p("ContinueLearningSection"),j=p("TileList"),x=p("ResourceTile"),C={metadata:s};function N(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,o.Z)({},C,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(d,{skillLevel:"Basic",durationInMinutes:"15",mdxType:"Introduction"},(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This tutorial will take you through the process of creating roles, adding team members, and retrieving team members for a given iTwin Project."),(0,r.kt)("p",null,"By the end of this walk-through, you will be able to utilize the API endpoints in order to create roles, add & assign permissions to the role, invite users to a project, and retrieve the list of project members.")),(0,r.kt)(c,{subSection:!0,actions:[(0,r.kt)(m,{href:"https://www.google.com/chrome/",target:"_blank",title:"Google Chrome",icon:(0,r.kt)(u,{mdxType:"GoogleChromeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(m,{href:"https://code.visualstudio.com/",target:"_blank",title:"Visual Studio Code",icon:(0,r.kt)(k,{mdxType:"VSCodeIcon"}),mdxType:"LinkButton"}),(0,r.kt)(m,{href:"https://www.postman.com/downloads/",target:"_blank",title:"Postman",icon:(0,r.kt)(h,{mdxType:"PostmanIcon"}),mdxType:"LinkButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This tutorial assumes that you already have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("a",{parentName:"li",href:"/tutorials/create-and-query-projects-guide/"},"Project")),(0,r.kt)("li",{parentName:"ul"},"A tool such as ",(0,r.kt)("inlineCode",{parentName:"li"},"Postman")," that can be used to execute http calls. These calls can also be made using the ",(0,r.kt)("inlineCode",{parentName:"li"},"TryIt")," button in the API documentation."),(0,r.kt)("li",{parentName:"ul"},"If a user is affiliated with an Organization, then the user must be an Organization Administrator in order to manage team members for a project. An Organization Administrator\nmust have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities ",(0,r.kt)("a",{parentName:"li",href:"https://communities.bentley.com/communities/other_communities/licensing_cloud_and_web_services/w/wiki/50711/user-management-2-0"},"Licensing, Cloud, and Web Services")," wiki page."))),(0,r.kt)(c,{actions:[(0,r.kt)(T,{tooltip:"Register a basic SPA App for this tutorial",clientName:"Manage Project Team Members tutorial",scopes:["projects:modify","projects:read"],mdxType:"CreateSampleAppButton"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"1-register-an-application"},"1. Register an Application"),(0,r.kt)("p",null,"You will need to register an application to use the iTwin Platform APIs. You can use the ",(0,r.kt)("strong",{parentName:"p"},"Register")," button to automatically create your first single page application (SPA). This will allow you to configure ",(0,r.kt)("a",{parentName:"p",href:"/apis/overview/authorization/#authorize-single-page-applications-spa-and-desktopmobile-applications-native"},"Authorization Code Flow for your SPA application")," and get the correct access token."),(0,r.kt)("p",null,"Once generated, you will be shown a few lines of code under the button."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_CLIENT_ID")," - this is the unique identifier for your application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Client ID"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_REDIRECT_URI")," - specifies where users are redirected after they have chosen whether or not to authenticate your app. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_LOGOUT_URI")," - specifies where users can be returned to after logging out. Displayed on application details page as one of ",(0,r.kt)("strong",{parentName:"li"},"Post logout redirect URIs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IMJS_AUTH_CLIENT_SCOPES")," - list of accesses granted to the application. Displayed on application details page as ",(0,r.kt)("strong",{parentName:"li"},"Scopes"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Or optionally:")," Register and configure your application manually following instructions in ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/register-and-modify-application/"},"Register and modify an Application")," tutorial.\nMake sure that your application is associated with ",(0,r.kt)("strong",{parentName:"p"},"Projects API")," and has ",(0,r.kt)("inlineCode",{parentName:"p"},"projects:modify projects:read")," scopes enabled."))),(0,r.kt)(c,{mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"2-get-a-token"},"2. Get a token"),(0,r.kt)("p",null,"Before you can make a request to the APIs, a user token is needed. There are several ways to get it."),(0,r.kt)("h3",{id:"implement-authorization-code-flow-in-the-application"},"Implement Authorization Code Flow in the application"),(0,r.kt)(y,{type:"informational",mdxType:"Alert"},"Here you can use Client ID generated from previous registration step."),(0,r.kt)("h3",{id:"grab-a-user-token-from-api-reference-try-it-section"},"Grab a user token from Api reference \u201cTry it\u201d Section"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go ",(0,r.kt)("a",{parentName:"li",href:"/apis/projects/operations/get-project-team-members/"},"here")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Try it")," button."),(0,r.kt)("li",{parentName:"ol"},"Under the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," section, select ",(0,r.kt)("inlineCode",{parentName:"li"},"authorizationCode")," from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"After the sign in popup closes, the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," header with token value should be visible beneath the ",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP request")," dropdown."),(0,r.kt)("li",{parentName:"ol"},"Copy & paste the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," value for this tutorial.")),(0,r.kt)(y,{type:"informational",mdxType:"Alert"},"Use user token to replace JWT_TOKEN dynamic parameter in the next steps.")),(0,r.kt)(c,{actions:[(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(f,{language:"http",code:"POST https://api.bentley.com/projects/{id}/roles/ HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),(0,r.kt)(f,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Body"),(0,r.kt)(f,{language:"json",code:'{\n  "displayName":"Project Administrator",\n  "description":"Project Administrator"\n}',mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),(0,r.kt)(f,{language:"http",code:"HTTP/1.1 201 Created\ncontent-length: 203\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 17:26:10 GMT\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nx-correlation-id: 74e263d7-ded7-45a5-8347-ca1f98ffab86\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Body"),(0,r.kt)(f,{language:"json",code:'{\n  "role":{\n    "id":"14b391cf-ce9e-43d3-8fee-c49e57c2680d",\n    "displayName":"Project Administrator",\n    "description":"A description of Project Administrator",\n    "permissions":[\n      \n    ]\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"3-create-project-role"},"3. Create Project Role"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/create-project-role/"},"Create project role")," endpoint is used to create project roles. After role is created permissions can be assigned."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"project id")," is required to create a role. A ",(0,r.kt)("inlineCode",{parentName:"p"},"display name")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," are required in the POST body."),(0,r.kt)("p",null,"The POST call will return a new role instance. The returned ",(0,r.kt)("inlineCode",{parentName:"p"},"role id")," along with the ",(0,r.kt)("inlineCode",{parentName:"p"},"project id")," will be used to add permissions in the next step.")),(0,r.kt)(c,{actions:[(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(f,{language:"http",code:"PATCH https://api.bentley.com/projects/{id}/roles/{roleId} HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),(0,r.kt)(f,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Body"),(0,r.kt)(f,{language:"json",code:'{\n  "permissions":[\n    "administration_invite_member",\n    "administration_manage_roles",\n    "administration_remove_member"\n  ]\n}',mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),(0,r.kt)(f,{language:"http",code:"HTTP/1.1 200 OK\ncontent-length: 324\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 18:17:39 GMT\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nx-correlation-id: f16d2765-4a9c-40a4-995e-bd7c6b8b8d4a\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Body"),(0,r.kt)(f,{language:"json",code:'{\n  "role":{\n    "id":"10a2d277-ea41-4e81-b309-f7a9aea09d51",\n    "displayName":"Project Administrator",\n    "description":"A description of Project Administrator",\n    "permissions":[\n      "administration_invite_member",\n      "administration_manage_roles",\n      "administration_remove_member"\n    ]\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"4-update-project-role-using-the-project-id-and-role-id"},"4. Update Project Role Using the Project Id and Role Id"),(0,r.kt)("p",null,"To assign ",(0,r.kt)("inlineCode",{parentName:"p"},"permissions")," Role needs to be ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/update-project-role/"},"updated"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"project id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"role id")," are required. The POST body should contain ",(0,r.kt)("inlineCode",{parentName:"p"},"list of permissions"),"."),(0,r.kt)("p",null,"The response will contain the role details along with the list of permissions assigned.")),(0,r.kt)(c,{actions:[(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(f,{language:"http",code:"GET https://api.bentley.com/projects/d9102abc-abfc-4617-b19d-804896064cea/roles HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),(0,r.kt)(f,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),(0,r.kt)(f,{language:"http",code:'HTTP/1.1 200 OK \ncache-control: must-revalidate, no-cache, private\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 18:26:19 GMT\netag: "QosNxHidwaC0+OqsAO9D5HQ9s0g="\nmas-request-id: 280616fa-b078-4276-8cb6-b93b8e38433f\nmas-server: Bentley-WSG/4.0.12,Bentley-WebAPI/2.9\npragma: no-cache\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nvary: Accept-Encoding\nx-correlation-id: 06f3046a-5973-4571-b09b-747cbdddf2c1\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US',mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Body"),(0,r.kt)(f,{language:"json",code:'{\n  "roles":[\n    {\n      "id":"10a2d277-ea41-4e81-b309-f7a9aea09d51",\n      "displayName":"Project Administrator",\n      "description":"A description of Project Administrator",\n      "permissions":[\n        "administration_invite_member",\n        "administration_manage_roles",\n        "administration_remove_member"\n      ]\n    }\n  ],\n  "_links":{\n    "self":{\n      "href":"https://api.bentley.com/projects/d9102abc-abfc-4617-b19d-804896064cea/roles?$skip=0&$top=100"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"5-query-for-roles-using-the-project-id"},"5. Query for Roles using the Project Id"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Project Id")," can be used to ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/get-project-roles/"},"retrieve a list of project roles"),"."),(0,r.kt)("p",null,"The api will return a list of roles for a given project.")),(0,r.kt)(c,{actions:[(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(f,{language:"http",code:"POST https://api.bentley.com/projects/2ff085cf-c255-46a9-9c6f-7d88f59bcbf9/members HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),(0,r.kt)(f,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nContent-Type: application/json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Body"),(0,r.kt)(f,{language:"json",code:'{\n  "email":"John.Doe@bentley.com",\n  "roleNames":[\n    "Project Administrator"\n  ]\n}',mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),(0,r.kt)(f,{language:"http",code:"HTTP/1.1 201 Created\ncache-control: must-revalidate, no-cache, private\ncontent-encoding: gzip\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 19:30:40 GMT\nlocation: https://api.bentley.com/projects/2ff085cf-c255-46a9-9c6f-7d88f59bcbf9/members/56c58c0c-28a9-4cd2-b50b-102e33b657f2\nmas-request-id: 744155a0-f492-44a9-b78d-3a8c516f53ee\nmas-server: Bentley-WSG/4.0.12,Bentley-WebAPI/2.9\npragma: no-cache\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nvary: Accept-Encoding\nx-correlation-id: d1999ea1-62bd-4e84-8e5d-1a8aac040de4\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Body"),(0,r.kt)(f,{language:"json",code:"NO CONTENT",mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"6-add-project-team-member"},"6. Add Project Team Member"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/add-project-team-member/"},"Add project team member")," endpoint is used to add team members to a given project."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"project id")," is a required parameter. User ",(0,r.kt)("inlineCode",{parentName:"p"},"email")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"list of role names")," are required in the POST body."),(0,r.kt)("p",null,"The POST call will only return the headers.")),(0,r.kt)(c,{actions:[(0,r.kt)(g,{mdxType:"Title"},"Request Syntax"),(0,r.kt)(f,{language:"http",code:"GET https://api.bentley.com/projects/{id}/members HTTP/1.1",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Request Headers"),(0,r.kt)(f,{language:"http",code:"Accept: application/vnd.bentley.itwin-platform.v1+json\nAuthorization: Bearer JWT_TOKEN",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Headers"),(0,r.kt)(f,{language:"http",code:"HTTP/1.1 200 OK \ncontent-length: 480\ncontent-type: application/json\ndate: Wed, 30 Jun 2021 19:46:24 GMT\nrequest-context: appId=cid-v1:7a353d36-9a8b-423e-965e-9d7f51324584\nx-correlation-id: 7a199ff9-317f-4d4f-ba82-70ba25f31d32\nx-itwinplatform-media-type: bentley.itwin-platform.v1\nx-itwinplatform-region: East US",mdxType:"CodeBlock"}),(0,r.kt)(g,{mdxType:"Title"},"Response Body"),(0,r.kt)(f,{language:"json",code:'{\n  "members":[\n    {\n      "userId":"7caa33e9-9d4d-4446-be0e-4c012071e636",\n      "email":"John.Doe@bentley.com",\n      "givenName":"John",\n      "surname":"Doe",\n      "organization":"Bentley Systems Inc",\n      "roles":[\n        "Team Member",\n        "Project Administrator"\n      ]\n    }\n  ],\n  "_links":{\n    "self":{\n      "href":"https://api.bentley.com/projects/d9102abc-abfc-4617-b19d-804896064cea/roles?$skip=0&$top=100"\n    }\n  }\n}',mdxType:"CodeBlock"})],mdxType:"TutorialSection"},(0,r.kt)("h2",{id:"7-query-for-team-members-using-the-project-id"},"7. Query for Team Members using the Project Id"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Id")," query parameter can be used to ",(0,r.kt)("a",{parentName:"p",href:"/apis/projects/operations/get-project-team-members/"},"retrieve a list of team members")," using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Project Id"),"."),(0,r.kt)("p",null,"The api will return a list of team members for the given project.")),(0,r.kt)(b,{mdxType:"ContinueLearningSection"},(0,r.kt)("h2",{id:"more-resources-that-you-may-like"},"More resources that you may like"),(0,r.kt)(j,{mdxType:"TileList"},(0,r.kt)(x,{title:"iTwin Project Sample App",href:"https://github.com/iTwin/iTwin-project-sample-app",description:"Sample application that uses the Projects API to create roles and add users to projects.",isExternal:!0,mdxType:"ResourceTile"}))))}N.isMDXComponent=!0;var v=function(){return[{id:"introduction",level:2,title:"Introduction",children:[]},{id:"prerequisites",level:2,title:"Prerequisites",children:[]},{id:"1-register-an-application",level:2,title:"1. Register an Application",children:[]},{id:"2-get-a-token",level:2,title:"2. Get a token",children:[{id:"implement-authorization-code-flow-in-the-application",level:3,title:"Implement Authorization Code Flow in the application",children:[]},{id:"grab-a-user-token-from-api-reference-try-it-section",level:3,title:"Grab a user token from Api reference \u201cTry it\u201d Section",children:[]}]},{id:"3-create-project-role",level:2,title:"3. Create Project Role",children:[]},{id:"4-update-project-role-using-the-project-id-and-role-id",level:2,title:"4. Update Project Role Using the Project Id and Role Id",children:[]},{id:"5-query-for-roles-using-the-project-id",level:2,title:"5. Query for Roles using the Project Id",children:[]},{id:"6-add-project-team-member",level:2,title:"6. Add Project Team Member",children:[]},{id:"7-query-for-team-members-using-the-project-id",level:2,title:"7. Query for Team Members using the Project Id",children:[]},{id:"more-resources-that-you-may-like",level:2,title:"More resources that you may like",children:[]}]}},22932:function(e,t,n){"use strict";n.r(t);var o=n(3905),i=n(1176),a=n(58822),r=n(94530),l=(n(67294),n(80989)),s=n(85893);n(14473),t.default=function(){var e={headline:r.Pu.title,navigationItems:(0,r.Jt)(),tutorialSteps:(0,s.jsx)(o.Zo,{components:a.d,children:(0,s.jsx)(r.ZP,{})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.d,{title:"".concat(r.Pu.title," - Tutorials | iTwin Platform")}),(0,s.jsx)(i.Z,{tutorial:e})]})}},85056:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorials/manage-project-team-members-guide",function(){return n(22932)}])}},function(e){e.O(0,[3714,8670,9734,9102,8764,1706,4009,1610,6638,9774,2888,179],(function(){return t=85056,e(e.s=t);var t}));var t=e.O();_N_E=t}]);