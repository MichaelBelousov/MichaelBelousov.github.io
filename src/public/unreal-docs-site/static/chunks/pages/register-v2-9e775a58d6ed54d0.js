(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3146],{68031:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a=n(50029),r=n(27812),i=n(16835),s=n(87794),c=n.n(s),u=n(6227),o=n(67294),l=n(61686),p=n(73351),d=n(73727),v=n(31727),f=n(51974),h=n(12865),x=n(39334),j=(n(51918),n(97348)),m=n(85893);var g=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{pathForV1:l.Nz,pathForV2:l._m}),(0,m.jsx)("div",{id:"app-details-header",children:(0,m.jsx)(u.Text,{id:"title",variant:"title",children:"Register your application"})})]})},b=n(70068),S=n(23315),Z=n(59148),w=n(87774),N=n(11357),y=n(11163),A=n(1355),_=n(71883),k=n(16203),C=n(36952),I=n(79036),R=(n(36649),n(85804)),F=[(0,m.jsx)(p.Z,{href:l.$Z,children:"My Apps"},"my-apps"),(0,m.jsx)(u.Text,{variant:"body",children:"Register your application"},"register")];var V=function(){var e=(0,w.v)(),t=(0,y.useRouter)().push,n=(0,S.a)(),s=(0,I.ZP)(),p=(0,i.Z)(s,2),j=p[0],V=p[1],E=(0,o.useState)(""),P=E[0],D=E[1],T=(0,o.useState)(void 0),z=T[0],B=T[1],L=(0,o.useState)([]),O=L[0],W=L[1],Y=(0,o.useState)(""),q=Y[0],H=Y[1],M=(0,o.useState)(""),U=M[0],X=M[1],$=(0,o.useState)(!1),G=$[0],J=$[1],K=(0,o.useState)([(0,N.iZ)(n)]),Q=K[0],ee=K[1],te=(0,o.useState)(["https://"]),ne=te[0],ae=te[1],re=(0,o.useState)([]),ie=re[0],se=re[1],ce=(0,o.useState)(!1),ue=ce[0],oe=ce[1];function le(){return(le=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!1),n=(0,m.jsx)(A.Z,{error:t.response}),u.toaster.negative(n,{hasCloseButton:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=(0,a.Z)(c().mark((function t(){var n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z){t.next=2;break}return t.abrupt("return");case 2:J(!0),u.toaster.closeAll(),n=Q.map((function(e){return e.email})),a=(0,N.rM)(O,z,P,n,ne,ie),t.t0=z,t.next=t.t0===b.p.Desktop?9:t.t0===b.p.Service?12:t.t0===b.p.SPA?15:t.t0===b.p.WebApp?18:21;break;case 9:return t.next=11,e.createNativeApplication(a);case 11:case 14:case 17:case 20:return t.abrupt("return",t.sent);case 12:return t.next=14,e.createServiceApplication(a);case 15:return t.next=17,e.createSpaApplication(a);case 18:return t.next=20,e.createWebApplication(a);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(){return(de=(0,a.Z)(c().mark((function e(n){var a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(!1),z===b.p.Service||z===b.p.WebApp){e.next=4;break}return t("".concat(l.Nd,"/").concat(z,"/").concat(n.data.clientId)),e.abrupt("return");case 4:r=n.data,H(r.clientId),X(null!==(a=r.secret)&&void 0!==a?a:""),oe(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return j.purgeFields(),(0,m.jsxs)(f.Z,{id:"app-page-wrapper",children:[(0,m.jsx)("div",{id:R.N7}),(0,m.jsxs)(v.Z,{breadcrumbs:F,headerContent:(0,m.jsx)(g,{}),id:"app-page",children:[(0,m.jsxs)(d.Z,{id:"register-app-form-v2",onFail:function(e){return le.apply(this,arguments)},onSubmit:function(){return pe.apply(this,arguments)},onSuccess:function(e){return de.apply(this,arguments)},onValidationFail:function(){V(!0)},validateFormData:function(){return j.allValid()},children:[(0,m.jsx)("div",{id:"content",children:(0,m.jsxs)("div",{id:"inputs",children:[(0,m.jsx)(u.LabeledInput,{className:"input",label:"Application name",id:"applicationName",message:(0,N.zI)(j,P,z),onChange:function(e){D(e.target.value)},placeholder:"Enter your application name",required:!0,status:(0,N.zI)(j,P,z)?"negative":void 0,value:P}),(0,m.jsx)(x.Y,{className:"input",setValue:B,validator:(0,N.bY)(j,z),value:z}),(0,m.jsx)(_.Z,{allowedScopes:O,setAllowedScopes:W,preselectedScopes:[],validator:(0,N.Vu)(j,O)}),(0,m.jsx)(Z.P,{className:"input",onAdd:function(e){ee([].concat((0,r.Z)(Q),[e]))},owners:Q,onRemove:function(e){ee(Q.filter((function(t){return t.email!==e.email})))}}),z!==b.p.Service?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.Z,{className:"input",isRequired:!0,setValues:ae,validator:(0,N.dz)(j,ne),values:ne}),(0,m.jsx)(C.Z,{addButtonLabel:"Add new post logout redirect URI",className:"input",label:"Post logout redirect URIs",id:"post-logout-redirect-uris",setValues:se,validator:(0,N.Hg)(j,ie),values:ie})]}):null]})}),(0,m.jsx)(h.Z,{isCancelDisabled:G,isSaveDisabled:G,onCancel:function(){return t(l.$Z)},saveButtonLabel:G?"Creating...":"Register"})]}),(0,m.jsx)(k.Z,{modalRootId:R.N7,clientId:q,closeHandle:function(){return t("".concat(l.Nd,"/").concat(z,"/").concat(q))},isOpen:ue,message:(0,m.jsxs)(u.Text,{variant:"body",children:["You have successfully registered an application. Copy the"," ",(0,m.jsx)("strong",{children:"Client ID"})," and ",(0,m.jsx)("strong",{children:"Client Secret"})," for your application now!"]}),secret:U})]})]})},E=n(58475);n(14473);var P=(0,E.h)((function(){return(0,m.jsx)(V,{})}))},70125:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register-v2",function(){return n(68031)}])}},function(e){e.O(0,[8670,9734,286,4009,1610,1890,6171,3972,9774,2888,179],(function(){return t=70125,e(e.s=t);var t}));var t=e.O();_N_E=t}]);