(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1610],{25692:function(e,t,n){"use strict";n.d(t,{o:function(){return v}});var r=n(59499),i=n(27812),a=n(50029),s=n(92777),o=n(82262),c=n(87794),u=n.n(c),p=n(9669),d=n.n(p),h=n(42869);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){function e(t){(0,s.Z)(this,e),this.token=t}return(0,o.Z)(e,[{key:"baseUrl",get:function(){return h.Z.REPORTING_API_KEYS_URL}},{key:"getAllApiKeys",value:function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAll("/keys");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r="",a=new URLSearchParams({$continuationToken:"",revoked:"false"});case 3:return e.next=5,d().get(t,{params:a,headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 5:s=e.sent,r=s.data.continuationToken,a.set("$continuationToken",r||""),n.push.apply(n,(0,i.Z)(s.data.apiKeys));case 9:if(r){e.next=3;break}case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createApiKey",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post("/keys",t,{baseURL:this.baseUrl,headers:f(f({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateApiKey",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/keys/".concat(t),n,{baseURL:this.baseUrl,headers:f(f({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getApiKey",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("/keys/".concat(t),{baseURL:this.baseUrl,headers:f({},this.getAuthorizationHeaders())});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"revokeApiKey",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().delete("keys/".concat(t),{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAuthorizationHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token)}}}]),e}()},61610:function(e,t,n){"use strict";n.d(t,{Ie:function(){return z},Db:function(){return Z},yF:function(){return v},u:function(){return D},DU:function(){return E}});var r,i=n(27812),a=n(50029),s=n(92777),o=n(82262),c=n(87794),u=n.n(c),p=n(9669),d=n.n(p),h=n(42869),l=n(28947),f=n(54009),v=function(){function e(t){(0,s.Z)(this,e),this.sasToken=t}return(0,o.Z)(e,[{key:"authHeader",get:function(){return this.sasToken?{Authorization:"SharedAccessSignature ".concat(this.sasToken)}:{}}},{key:"baseUrl",get:function(){return h.Z.APIM_MANAGEMENT_URL}},{key:"getProductApis",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({"api-version":"2021-08-01",$skip:"".concat((null===n||void 0===n?void 0:n.skip)||0),$top:"".concat((null===n||void 0===n?void 0:n.top)||100)}),e.next=3,this.getAll("/products/".concat(t,"/apis"),r);case 3:return i=e.sent,e.abrupt("return",i.map((function(e){return new l.Api(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUniqueProductApis",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(a.length>2&&void 0!==a[2])||a[2],e.next=3,this.getProductApis(t,n);case 3:return i=e.sent,e.abrupt("return",(0,f.lc)(i,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,a,s,o,c,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=new URLSearchParams(n),s=void 0,o=0,a.get("$skip")||a.set("$skip","".concat(o));case 5:return e.next=7,d().get(t,{params:a,headers:this.authHeader,baseURL:this.baseUrl});case 7:c=e.sent,s=c.data.nextLink,p=a.get("$skip"),o=p?+p:-1,h=c.data.value.length,r.push.apply(r,(0,i.Z)(c.data.value)),a.set("$skip","".concat(o+h));case 14:if(s&&o>=0){e.next=5;break}case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),m=n(59499),y=n(57255);!function(e){e.Default="default",e.iTwinJs="itwinjs"}(r||(r={}));r.Default,r.iTwinJs;var g=n(51475),b=n(25781);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){function e(t){(0,s.Z)(this,e),this.token=t}return(0,o.Z)(e,[{key:"baseUrl",get:function(){return h.Z.APPLICATIONS_API_URL}},{key:"getAllOrganizationApplications",value:function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/organization",{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return t=e.sent,e.abrupt("return",this.ConvertApplicationTierNames(t.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllUserApplications",value:function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/apps",{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return t=e.sent,e.abrupt("return",this.ConvertApplicationTierNames(t.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTaggedScopes",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="taggedScopeMap:".concat(this.token),e.abrupt("return",g.c.getOrCreate(t,(0,a.Z)(u().mark((function e(){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/scopes/tags",{headers:n.getAuthorizationHeaders(),baseURL:n.baseUrl}).catch((function(e){y.toaster.negative("Failed to retrieve scopes with response code: ".concat(e.response.status,"."))}));case 3:if(null===(r=e.sent)||void 0===r||!r.data){e.next=10;break}return i=r.data.result,g.c.put(t,JSON.stringify(i)),e.abrupt("return",i);case 10:return e.abrupt("return",[]);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createSpaApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post("/spa",t,{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNativeApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post("/native",t,{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createServiceApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post("/service",t,{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createWebApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post("/webapp",t,{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSpaApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/spa/".concat(t),{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return n=e.sent,e.abrupt("return",w(w({},n.data),{},{tier:(0,b.HX)(n.data.tier)}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNativeApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/native/".concat(t),{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return n=e.sent,e.abrupt("return",w(w({},n.data),{},{tier:(0,b.HX)(n.data.tier)}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getServiceApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/service/".concat(t),{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return n=e.sent,e.abrupt("return",w(w({},n.data),{},{tier:(0,b.HX)(n.data.tier)}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWebApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("/webapp/".concat(t),{headers:this.getAuthorizationHeaders(),baseURL:this.baseUrl});case 3:return n=e.sent,e.abrupt("return",w(w({},n.data),{},{tier:(0,b.HX)(n.data.tier)}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSpaApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/spa/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateNativeApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/native/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateServiceApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/service/".concat(t),this.ConvertBackApplicationRequestTiers(n),{headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"}),baseURL:this.baseUrl});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWebApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/webapp/".concat(t),this.ConvertBackApplicationRequestTiers(n),{headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"}),baseURL:this.baseUrl});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSpaApplicationOwners",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/spa/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateNativeApplicationOwners",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/native/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateServiceApplicationOwners",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/service/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWebApplicationOwners",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("/webapp/".concat(t),this.ConvertBackApplicationRequestTiers(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:this.ConvertApplicationBaseTiers(r.data)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteApplication",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().delete("/".concat(t,"/").concat(n),{baseURL:this.baseUrl,headers:w(w({},this.getAuthorizationHeaders()),{},{"Content-Type":"application/json"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"regenerateApplicationSecret",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().put("/".concat(t,"/").concat(n,"/secret"),{},{baseURL:this.baseUrl,headers:this.getAuthorizationHeaders()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changeBackendTermsToHumanReadable",value:function(e){return e?e.replace("ClientName","Application name").replace("PostLogoutRedirectUris","Post logout redirect URIs").replace("RedirectUris","Redirect URIs").replace("AllowedScopes","Allowed scopes").replace("AllowedCorsOrigins","Redirect URIs").replace(r.Default,"Default").replace(r.iTwinJs,"iTwinJs"):""}},{key:"getAuthorizationHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token)}}},{key:"ConvertApplicationBaseTiers",value:function(e){return w(w({},e),{},{tier:(0,b.HX)(e.tier)})}},{key:"ConvertBackApplicationRequestTiers",value:function(e){return w(w({},e),{},{tier:e.tier?(0,b.ab)(e.tier):void 0})}},{key:"ConvertApplicationTierNames",value:function(e){return e.forEach((function(e){e.tier=e.tier?(0,b.HX)(e.tier):void 0})),e}}]),e}(),x=n(16835),A=n(28662),T=n(7276),O=n(57348),U=n(85804),R=n(39209),S=n(40485),P=n(54963),C=n(79879),N=n(51477);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){function e(t){(0,s.Z)(this,e),this.sasToken=t}return(0,o.Z)(e,[{key:"authHeader",get:function(){return this.sasToken?{Authorization:"SharedAccessSignature ".concat(this.sasToken)}:{}}},{key:"baseUrl",get:function(){return h.Z.APIM_MANAGEMENT_URL}},{key:"apisApiClient",get:function(){var e=d().create({headers:this.authHeader,baseURL:this.baseUrl,timeout:P.l.isPreloading?U.Gf:0});return P.l.isPreloading&&(0,A.ZP)(e,{retries:3,shouldResetTimeout:!0,retryDelay:function(e,t){return console.log("".concat(t.message,". Error: ").concat(JSON.stringify(t))),console.log("retry attempt: ".concat(e)),5e3}}),e}},{key:"getApisList",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="getApisList:".concat(this.sasToken),e.next=3,g.c.getOrCreate(t,(0,a.Z)(u().mark((function e(){var t,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URLSearchParams({$filter:"api/isCurrent eq true","api-version":"2021-08-01",$top:U.dG.toString()}),r=[],e.prev=2;case 3:return e.next=5,n.apisApiClient.get("/apisByTags",{params:t});case 5:a=e.sent,i=a.data.nextLink,a.data.value.forEach((function(e){return r.push(new S.o(e))})),t.set("$skip",r.length.toString());case 9:if(i){e.next=3;break}case 10:return e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getApisByTag",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApisList();case 2:if(n=e.sent,e.prev=3,null===t){e.next=9;break}return r=n.filter((function(e){return e.tags.includes(t)})).map((function(e){return{id:e.id,name:e.name,displayName:e.displayName,serviceUrl:e.serviceUrl,protocols:e.protocols,description:e.description,path:e.path,apiVersion:e.apiVersion,apiRevision:e.apiRevision,authenticationSettings:e.authenticationSettings,tags:n.filter((function(t){return t.id===e.id})).flatMap((function(e){return e.tags}))}})),e.abrupt("return",r);case 9:return e.abrupt("return",[]);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUniqueApisByTag",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.getApisByTag(t);case 3:return r=e.sent,e.abrupt("return",(0,f.lc)(r,n));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getApiVersions",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="getApiVersions:".concat(t,":").concat(this.sasToken),e.next=3,g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({"api-version":"2021-08-01",$filter:"isCurrent eq true and path eq '".concat(t,"'")}),null!==n&&void 0!==n&&n.skip&&r.append("$skip",n.skip.toString()),null!==n&&void 0!==n&&n.top&&r.append("$top",n.top.toString()),e.prev=3,e.next=6,i.apisApiClient.get("/apis",{params:r});case 6:return a=e.sent,s=a.data.value.map((function(e){return new l.Api(e)})),e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOperationTags",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error('Parameter "operationId" not specified.');case 2:return(n=new URLSearchParams).append("api-version","2021-08-01"),e.prev=4,e.next=7,this.apisApiClient.get("".concat(t,"/tags"),{params:n});case 7:return r=e.sent,e.abrupt("return",r.data.value.map((function(e){return new l.Tag(e)})));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperations",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{pattern:"",tags:[],grouping:"none"},t){e.next=3;break}throw new Error('Parameter "apiId" not specified.');case 3:return r="getOperations:".concat(t,":").concat(this.sasToken),e.next=6,g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,a,s,o,c,p,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new URLSearchParams).append("api-version","2021-08-01"),a=n&&n.skip||0,s=n&&n.take||U.dG.toString(),o="/apis/".concat(t,"/operations?$top=").concat(s,"&$skip=").concat(a),c=[],e.prev=6;case 7:return e.next=9,i.apisApiClient.get(o,{params:r});case 9:d=e.sent,p=d.data.nextLink,d.data.value.forEach((function(e){return c.push(new l.Operation(e))})),o="/apis/".concat(t,"/operations?$top=").concat(s,"&$skip=").concat(c.length);case 13:if(p){e.next=7;break}case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[6,16]])}))));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationsByTags",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,s=this,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},t){e.next=3;break}throw new Error('Parameter "apiId" not specified.');case 3:return r="getOperationsByTags:".concat(t,":").concat(this.sasToken),e.next=6,g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,a,o,c,p,d,h,f,v,m,y,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new URLSearchParams({"api-version":"2021-08-01",$skip:(null!==(r=n.skip)&&void 0!==r?r:0).toString(),$top:(null!==(a=n.take)&&void 0!==a?a:U.dG).toString(),includeNotTaggedOperations:"true"}),c=[],n.tags&&n.tags.length>0&&(p=n.tags.map((function(e){return"tag/id eq '".concat(N.c.getResourceName("tags",e.id),"'")})),c.push("(".concat(p.join(" or "),")"))),n.pattern&&(d=N.c.escapeValueForODataFilter(n.pattern),c.push("(contains(operation/".concat(n.propertyName||"name",",'").concat(encodeURIComponent(d),"'))"))),c.length>0&&o.append("$filter",c.join(" and ")),f=[],e.prev=6;case 7:return e.next=9,s.apisApiClient.get("apis/".concat(t,"/operationsByTags"),{params:o});case 9:v=e.sent,h=v.data.nextLink,f.push.apply(f,(0,i.Z)(v.data.value)),o.set("$skip",f.length.toString());case 13:if(h){e.next=7;break}case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:return m=f.map((function(e){var t=e.tag?N.c.armifyContract("tags",e.tag):null,n=N.c.armifyContract("operations",e.operation),r=new l.Operation(n);return r.tags=t?[t.properties.displayName]:[],r})),y=m.map((function(e){var t=new Set(m.filter((function(t){return t.id===e.id})).flatMap((function(e){return e.tags})));return e.tags=Array.from(t),e})),g=y.reduce((function(e,t){if(0!==t.tags.filter((function(e){return e!==O.n&&e!==O.l})).length){var n,r=q(t.tags);try{var i=function(){var r=n.value;if(r!==O.n&&r!==O.l){var i=e.filter((function(e){return e.tag===r}))[0];i||((i=new l.TagGroup).tag=r,e.push(i)),i.items.filter((function(e){return e.id===t.id})).length>0||i.items.push(t)}};for(r.s();!(n=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}}else{var a=e.filter((function(e){return"Untagged"===e.tag}))[0];a||((a=new l.TagGroup).tag="Untagged",e.push(a)),a.items.filter((function(e){return e.id===t.id})).length>0||a.items.push(t)}return e}),[]),e.abrupt("return",g);case 23:case"end":return e.stop()}}),e,null,[[6,16]])}))));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperationsByTagsFullData",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.getOperations(t),this.getOperationsByTags(t)]);case 2:n=e.sent,r=(0,x.Z)(n,2),i=r[0],a=r[1],s=q(a);try{for(s.s();!(o=s.n()).done;)(c=o.value).items=c.items.map((function(e){var t=i.find((function(t){return t.id===e.id}));return t&&(t.tags=e.tags),t})).filter(N.c.isNotNullOrUndefined)}catch(u){s.e(u)}finally{s.f()}return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getApiSchema",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i,s=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="schema:".concat(t,":").concat(n,":").concat(this.sasToken),i=g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({"api-version":"2021-08-01"}),e.next=3,s.apisApiClient.get("apis/".concat(t,"/schemas/").concat(n),{params:r});case 3:return i=e.sent,a=new l.Schema(i.data),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getApi",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="getApi:".concat(t,":").concat(this.sasToken),e.next=3,g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,a,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({"api-version":"2021-08-01"}),a="/apis/".concat(t),e.prev=2,e.next=5,i.apisApiClient.get(a,{params:r,cancelToken:n});case 5:return s=e.sent,e.next=8,i.getApiTags(t);case 8:return o=e.sent,c=new l.Api(s.data,o),e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getApiReleases",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="getApiReleases:".concat(t,":").concat(this.sasToken),e.next=3,g.c.getOrCreate(r,(0,a.Z)(u().mark((function e(){var r,a,s,o,c,p,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new URLSearchParams).append("api-version","2021-08-01"),a=n&&n.skip||0,s=n&&n.take||U.dG.toString(),o="/apis/".concat(t,"/releases?$top=").concat(s,"&$skip=").concat(a),c=[],p=void 0,e.prev=7;case 8:return e.next=10,i.apisApiClient.get(o,{params:r});case 10:(d=e.sent).data.value.forEach((function(e){return c.push(e)})),p=d.data.nextLink,o="/apis/".concat(t,"/releases?$top=").concat(s,"&$skip=").concat(c.length);case 14:if(p){e.next=8;break}case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0);case 20:return e.abrupt("return",c);case 21:case"end":return e.stop()}}),e,null,[[7,17]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getApiLogEntries",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.getApiReleases(t);case 5:r=e.sent,i=q(r);try{for(i.s();!(a=i.n()).done;){s=a.value;try{(o=JSON.parse(s.properties.notes))&&o.changelogs.length>0&&n.push(o)}catch(c){}}}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDefinitionsByOperation",value:function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,a,s,o,c,p,d,h,l,f,v=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return o=[].concat((0,i.Z)((null===(r=t.responses)||void 0===r?void 0:r.map((function(e){return e.representations||[]})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t||[]))}),[]))||[]),(0,i.Z)((null===(a=t.request)||void 0===a||null===(s=a.representations)||void 0===s?void 0:s.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t?[t]:[]))}),[]))||[])),c=o.map((function(e){return e.schemaId})).filter(N.c.isNotNullOrUndefined).filter((function(e,t,n){return e&&n.indexOf(e)===t})),p=o.map((function(e){return e.typeName})).filter(N.c.isNotNullOrUndefined).filter((function(e,t,n){return n.indexOf(e)===t})),e.next=7,Promise.all(c.map((function(e){return v.getApiSchema(n,e)})));case 7:for(d=e.sent,h=d.map((function(e){return e.definitions})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t||[]))}),[]),l=(0,i.Z)(p);l.length>0;)f=h.filter((function(e){return-1!==l.indexOf(e.name)})),(l=0===f.length?[]:this.lookupReferences(f,p)).length>0&&p.push.apply(p,(0,i.Z)(l));return e.abrupt("return",h.filter((function(e){return-1!==p.indexOf(e.name)})));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllDefinitionsByApi",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="getApiDefinitions:".concat(t,":").concat(this.sasToken),"application/vnd.oai.openapi.components+json",e.next=4,g.c.getOrCreate(n,(0,a.Z)(u().mark((function e(){var n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAllSchemasByApi(t);case 2:if(n=e.sent,i=n.find((function(e){return"application/vnd.oai.openapi.components+json"===e.properties.contentType})),i){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,r.getApiSchema(t,i.name);case 8:return a=e.sent,e.abrupt("return",a.definitions);case 10:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllSchemasByApi",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="getApiSchemas:".concat(t,":").concat(this.sasToken),e.next=3,g.c.getOrCreate(n,(0,a.Z)(u().mark((function e(){var n,a,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new URLSearchParams).append("api-version","2022-08-01"),a="/apis/".concat(t,"/schemas"),s=void 0,o=[],e.prev=5;case 6:return e.next=8,r.apisApiClient.get(a,{params:n});case 8:c=e.sent,o.push.apply(o,(0,i.Z)(c.data.value)),s=c.data.nextLink,a="/apis/".concat(t,"/schemas?$skip=").concat(o.length);case 12:if(s){e.next=6;break}case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[5,15]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mapApiArrayToApiDetailsArray",value:function(e){return e.map((function(e){var t;return{id:e.id,description:null!==(t=e.description)&&void 0!==t?t:"",displayName:e.displayName,name:e.name,path:e.path,tags:e.tags}}))}},{key:"getReleasedApiMap",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r,i,a=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],n=!(s.length>1&&void 0!==s[1])||s[1],r={},i=R.q.publicApiGroups.map((function(e){return a.getUniqueApisByTag(e.name,n).then((function(n){if(r[e.name]=a.mapApiArrayToApiDetailsArray(n),t){var i=r[e.name].map((function(e){return(0,C.hW)(e.path).then((function(t){return e.description=t||e.description}))}));return Promise.all(i)}}))})),e.next=6,Promise.all(i);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getReleasedGroupApis",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=!(o.length>2&&void 0!==o[2])||o[2],e.next=4,this.getUniqueApisByTag(t,r);case 4:if(i=e.sent,a=this.mapApiArrayToApiDetailsArray(i),!n){e.next=10;break}return s=a.map((function(e){return(0,C.hW)(e.path).then((function(t){return e.description=t||e.description}))})),e.next=10,Promise.all(s);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPricedApiMap",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n=R.q.publicApiGroups.map((function(e){return r.getUniqueApisByTag(e.name).then((function(n){t[e.name]=r.mapApiArrayToApiDetailsArray(n)}))})),e.next=4,Promise.all(n);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getGroupedApiDictionary",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.next=3,this.getReleasedApiMap(t);case 3:if(n=e.sent,e.t0=T.mV.Visualization,e.t1=T.mV.Visualization,!t){e.next=12;break}return e.next=9,(0,C.hW)("visualization");case 9:e.t2=e.sent,e.next=13;break;case 12:e.t2="";case 13:return e.t3=e.t2,e.t4=[],e.t5={name:e.t0,path:e.t1,displayName:"Visualization",description:e.t3,tags:e.t4},n.Visualization=[e.t5],n.ITwinUnreal=[{name:T.mV.ITwinUnreal,path:T.mV.ITwinUnreal,displayName:"iTwin for Unreal",description:"Bring your iTwin data into Unreal",tags:[]}],e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllApisWithGroups",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.next=3,this.getGroupedApiDictionary(t);case 3:return n=e.sent,e.abrupt("return",R.q.publicApiGroups.filter((function(e){var t;return e.name in n&&(null===(t=n[e.name])||void 0===t?void 0:t.length)>0})).flatMap((function(e){return n[e.name].flatMap((function(t){return L({apiGroupId:e.id},t)}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lookupReferences",value:function(e,t){var n=[];return e.map((function(e){return e.properties})).filter(N.c.isNotNullOrUndefined).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t||[]))}),[]).filter((function(e){return e})).forEach((function(e){var t,r;"combination"===(null===(t=e.type)||void 0===t?void 0:t.displayAs)?e.type.combination.forEach((function(e){e.name&&n.push(e.name)})):null!==(r=e.type)&&void 0!==r&&r.name&&n.push(e.type.name)})),n.filter((function(e){return-1===t.indexOf(e)}))}},{key:"getApiTags",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="getApiTags:".concat(t,":").concat(this.sasToken),e.next=3,g.c.getOrCreate(n,(0,a.Z)(u().mark((function e(){var n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("api-version","2021-08-01"),e.prev=2,e.next=5,r.apisApiClient.get("/apis/".concat(t,"/tags"),{params:n});case 5:return i=e.sent,a=i.data.value.map((function(e){return new l.Tag(e)})),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),D=new z,I=(n(25692),n(36905)),H=function(){function e(){(0,s.Z)(this,e)}return(0,o.Z)(e,[{key:"baseUrl",get:function(){return h.Z.SANDBOX_BACKEND_URL}},{key:"getOfficialSamples",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({attributes:I.fQ,codesharesIncluded:"true",orderBy:I.AP,codeshareOrderBy:"name"}),e.next=3,d().get("/api/user/".concat(I.sI,"/playlist"),{baseURL:this.baseUrl,params:t});case 3:return n=e.sent,e.abrupt("return",n.data.map((function(e){return{id:e.id,groupName:e.name,samples:e.codeshares.map((function(e){var t;return{name:e.id,label:e.name,description:null===(t=e.description)||void 0===t?void 0:t.replace(/#/g,""),image:"".concat(r.baseUrl,"/api/user/").concat(e.userId,"/codeshare/").concat(e.id,"/thumbnail"),relatedApiPaths:r.extractApiPath(e.attributes),apiGroupId:r.extractApiGroupId(e.attributes)||T.mV.Visualization,url:"".concat(h.Z.SANDBOX_FRONTEND_URL,"/").concat(e.username,"/").concat(e.name)}}))}})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"extractApiPath",value:function(e){if(e&&0!==e.length){var t=e.filter((function(e){return e.startsWith(I.eD)}));if(t&&0!==t.length)return t.map((function(e){return e.replace(I.eD,"")}))}}},{key:"extractApiGroupId",value:function(e){if(e&&0!==e.length){var t=e.find((function(e){return e.startsWith(I.Qm)}));return null===t||void 0===t?void 0:t.replace(I.Qm,"")}}}]),e}(),E=new H},36905:function(e,t,n){"use strict";n.d(t,{AP:function(){return a},Qm:function(){return o},eD:function(){return s},fQ:function(){return i},sI:function(){return r},zj:function(){return c}});var r="b44ec7df-cd25-4a10-ba11-bafe02e91c35",i="showcase",a="showcase-index",s="api-path:",o="api-group-id:",c="029f2113-7648-4fe5-a7d6-664584776c61"},39752:function(){},73083:function(){},81779:function(){},80964:function(){},51610:function(){},28947:function(e,t,n){"use strict";n.d(t,{Api:function(){return p},NoteType:function(){return H},Operation:function(){return b},Schema:function(){return V},Tag:function(){return k},TagGroup:function(){return d},TypeDefinition:function(){return $},changeTypes:function(){return M}});n(80964),n(39752),n(51610),n(40243);var r=n(59585),i=n(63553),a=n(82262),s=n(92777),o=n(59499),c=n(51477);var u,p=(0,a.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if((0,s.Z)(this,e),(0,o.Z)(this,"id",null),(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"displayName",void 0),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"apiVersion",void 0),(0,o.Z)(this,"apiVersionDescription",null),(0,o.Z)(this,"apiVersionSet",null),(0,o.Z)(this,"apiRevision",void 0),(0,o.Z)(this,"serviceUrl",void 0),(0,o.Z)(this,"path",void 0),(0,o.Z)(this,"protocols",void 0),(0,o.Z)(this,"authenticationSettings",void 0),(0,o.Z)(this,"tags",void 0),t.id&&(this.id=c.c.getResourceName("apis",t.id,"shortId")),this.name=t.name,this.displayName=t.properties.displayName,this.serviceUrl=t.properties.serviceUrl,this.protocols=t.properties.protocols,this.description=t.properties.description,this.path=t.properties.path,this.apiVersion=t.properties.apiVersion,this.apiRevision=t.properties.apiRevision,this.authenticationSettings=t.properties.authenticationSettings,this.tags=n.map((function(e){return e.name})),t.properties.apiVersionSet){var i=t.properties.apiVersionSet,a=new r.W(t.properties.apiVersionSetId);a.name=i.name,a.description=i.description,a.versionHeaderName=i.versionHeaderName,a.versionQueryName=i.versionQueryName,a.versioningScheme=i.versioningScheme,this.apiVersionSet=a}})),d=(0,a.Z)((function e(){(0,s.Z)(this,e),(0,o.Z)(this,"tag",void 0),(0,o.Z)(this,"items",void 0),this.tag="",this.items=[]})),h=n(40656),l=n(94716),f=(0,a.Z)((function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"contentType",void 0),(0,o.Z)(this,"example",void 0),(0,o.Z)(this,"exampleFormat",void 0),(0,o.Z)(this,"schemaId",void 0),(0,o.Z)(this,"typeName",void 0),this.contentType=t.contentType,this.example=t.sample||t.generatedSample,this.schemaId=t.schemaId,this.typeName=t.typeName,this.example&&(this.contentType.includes("/xml")&&(this.example=c.c.formatXml(this.example),this.exampleFormat="xml"),this.contentType.includes("/json")&&(this.example=c.c.formatJson(this.example),this.exampleFormat="json"))})),v=function(){function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"queryParameters",void 0),(0,o.Z)(this,"headers",void 0),(0,o.Z)(this,"representations",void 0),this.queryParameters=[],this.headers=[],this.representations=[],t&&(this.description=t.description,this.queryParameters=t.queryParameters?t.queryParameters.map((function(e){return new l.d("query",e)})):[],this.headers=t.headers?t.headers.map((function(e){return new l.d("header",e)})):[],this.representations=t.representations?t.representations.map((function(e){return new f(e)})):[])}return(0,a.Z)(e,[{key:"isMeaningful",value:function(){return!!this.description||this.representations.some((function(e){return!!e.typeName}))}},{key:"meaningfulRepresentations",value:function(){return this.representations.filter((function(e){return!!e.typeName||!!e.example}))}}]),e}(),m=n(78429),y=function(){function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"code",void 0),(0,o.Z)(this,"description",void 0),this.code=t;var n=m.N.find((function(e){return e.code.toString()===t.toString()}));n&&(this.description=n.description)}return(0,a.Z)(e,[{key:"toString",value:function(){return this.description?"".concat(this.code," ").concat(this.description):"".concat(this.code," User defined status code")}}]),e}(),g=function(){function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"identifier",void 0),(0,o.Z)(this,"headers",void 0),(0,o.Z)(this,"statusCode",void 0),(0,o.Z)(this,"representations",void 0),(0,o.Z)(this,"description",void 0),this.identifier=c.c.getBsonObjectId(),this.statusCode=new y(t.statusCode),this.description=null===t||void 0===t?void 0:t.description,this.headers=null!==t&&void 0!==t&&t.headers?t.headers.map((function(e){return new l.d("header",e)})):[],this.representations=null!==t&&void 0!==t&&t.representations?t.representations.map((function(e){return new f(e)})):[]}return(0,a.Z)(e,[{key:"isMeaningful",value:function(){var e;return!!this.description||(null===(e=this.representations)||void 0===e?void 0:e.some((function(e){return!!e.typeName||!!e.example})))||!1}},{key:"meaningfulRepresentations",value:function(){var e;return(null===(e=this.representations)||void 0===e?void 0:e.filter((function(e){return!!e.typeName||!!e.example})))||[]}}]),e}(),b=function(){function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"displayName",void 0),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"urlTemplate",void 0),(0,o.Z)(this,"templateParameters",void 0),(0,o.Z)(this,"parameters",void 0),(0,o.Z)(this,"method",void 0),(0,o.Z)(this,"version",void 0),(0,o.Z)(this,"request",void 0),(0,o.Z)(this,"responses",void 0),(0,o.Z)(this,"displayUrlTemplate",void 0),(0,o.Z)(this,"tags",void 0),this.id=c.c.getResourceName("apis",t.id,"shortId").toLowerCase(),this.name=t.name,this.displayName=t.properties.displayName,this.description=t.properties.description,this.urlTemplate=t.properties.urlTemplate,this.method=t.properties.method,this.version=t.properties.version,this.templateParameters=t.properties.templateParameters?t.properties.templateParameters.map((function(e){return new l.d("template",e)})):[],this.request=new v(t.properties.request),this.parameters=this.templateParameters.concat(this.request.queryParameters),this.responses=t.properties.responses?t.properties.responses.map((function(e){return new g(e)})):[];var n=this.urlTemplate.includes("?")?"&":"?",r=this.request.queryParameters.map((function(e,t){return t>0&&(n="&"),e.required?"".concat(n).concat(e.name):"[".concat(n).concat(e.name,"]")})).join("");this.displayUrlTemplate="".concat(this.urlTemplate).concat(r),this.tags=[]}return(0,a.Z)(e,[{key:"getMeaningfulResponses",value:function(){var e;return(null===(e=this.responses)||void 0===e?void 0:e.filter((function(e){return(0,h.Y)(e)})))||[]}}]),e}(),k=(0,a.Z)((function e(t){(0,s.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"name",void 0),this.id=t.id,this.name=t.properties.displayName}));!function(e){e.Swagger="application/vnd.ms-azure-apim.swagger.definitions+json",e.OpenApi="application/vnd.oai.openapi.components+json"}(u||(u={}));var w=n(27812),Z=n(10748),x=n(81531),A=n(37247);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,A.Z)(e);if(t){var a=(0,A.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var O=(0,a.Z)((function e(t,n){(0,s.Z)(this,e),this.displayAs=t,this.name=n})),U=function(e){(0,x.Z)(n,e);var t=T(n);function n(e){return(0,s.Z)(this,n),t.call(this,"primitive",e)}return(0,a.Z)(n)}(O),R=function(e){(0,x.Z)(n,e);var t=T(n);function n(e){return(0,s.Z)(this,n),t.call(this,"reference",e)}return(0,a.Z)(n)}(O),S=function(e){(0,x.Z)(n,e);var t=T(n);function n(e){return(0,s.Z)(this,n),t.call(this,"arrayOfPrimitive",e)}return(0,a.Z)(n)}(O),P=function(e){(0,x.Z)(n,e);var t=T(n);function n(e){return(0,s.Z)(this,n),t.call(this,"arrayOfReference",e)}return(0,a.Z)(n)}(O),C=function(e){(0,x.Z)(n,e);var t=T(n);function n(e,r){var i;return(0,s.Z)(this,n),(i=t.call(this,"combination")).combinationType=e,i.combination=r,i}return(0,a.Z)(n)}(O);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,A.Z)(e);if(t){var a=(0,A.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var j=(0,a.Z)((function e(t,n,r){(0,s.Z)(this,e),this.schemaObject=n,this.required=r,(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"example",void 0),(0,o.Z)(this,"exampleFormat","json"),(0,o.Z)(this,"enum",[]),this.name=n.title||t,this.description=n.description,this.type=new U(n.format||n.type||"object"),this.example="object"===typeof n.example?JSON.stringify(n.example,null,4):n.example})),L=function(e){(0,x.Z)(n,e);var t=N(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(j),q=function(e){(0,x.Z)(n,e);var t=N(n);function n(e,r,i){var a;return(0,s.Z)(this,n),(a=t.call(this,e,r,i)).type=new R(I(r.$ref)),a}return(0,a.Z)(n)}(j),B=function(e){(0,x.Z)(n,e);var t=N(n);function n(e,r,i){var a,o;return(0,s.Z)(this,n),(o=t.call(this,e,r,i)).type=new P(I(null===(a=r.items)||void 0===a?void 0:a.$ref)),o}return(0,a.Z)(n)}(j),z=function(e){(0,x.Z)(n,e);var t=N(n);function n(e,r,i){var a,o;return(0,s.Z)(this,n),(o=t.call(this,e,r,i)).type=new S((null===(a=r.items)||void 0===a?void 0:a.type)||""),o}return(0,a.Z)(n)}(j),D=function(e){(0,x.Z)(n,e);var t=N(n);function n(e,r,i){var a,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,s.Z)(this,n),(a=t.call(this,e,r,i)).isArray=c,(0,o.Z)((0,Z.Z)(a),"type",void 0);var u="",p=[];r.not?(u="Not",p=r.not):r.oneOf?(u="One of",p=r.oneOf):r.anyOf?(u="Any of",p=r.anyOf):r.allOf&&(u="All of",p=r.allOf);var d=p.map((function(e){return e.$ref?new R(I(e.$ref)):new U(e.type||"object")}));return a.type=new C(u,d),a}return(0,a.Z)(n)}(j);function I(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null!==(e=t.split("/").pop())&&void 0!==e?e:t}var H,E=function(e){return e.allOf||e.anyOf||e.oneOf||e.not},$=function(){function e(t,n){(0,s.Z)(this,e),this.schema=n,(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"properties",void 0),(0,o.Z)(this,"example",void 0),(0,o.Z)(this,"exampleFormat","json"),(0,o.Z)(this,"required",!1),this.name=t,this.description=n.description,this.example="object"===typeof n.example?JSON.stringify(n.example,null,4):n.example,this.properties=this.schema.properties?this.processProperties(this.schema.properties):[]}return(0,a.Z)(e,[{key:"processProperties",value:function(e,t){var n=this,r=[];return Object.keys(e).forEach((function(i){var a,s=e[i],o=t?"".concat(t).concat(i):i,c=(null===(a=n.schema.required)||void 0===a?void 0:a.includes(i))||!1;if(!s.$ref)return s.items?s.items.$ref?void r.push(new B(o,s,c)):E(s.items)?void r.push(new D(o,s.items,c,!0)):void r.push(new z(o,s,c)):void(E(s)?r.push(new D(o,s,c)):s.properties?r.push.apply(r,(0,w.Z)(n.processProperties(s.properties,"".concat(o,".")))):r.push(new L(s.title||o,s,c)));r.push(new q(o,s,c))})),r}}]),e}(),V=(0,a.Z)((function e(t){if((0,s.Z)(this,e),(0,o.Z)(this,"definitions",void 0),this.definitions=[],t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.contentType,i=[];if(r===u.Swagger){var a,c=null===(a=t.properties)||void 0===a?void 0:a.document;i=(null===c||void 0===c?void 0:c.definitions)||[]}else if(r===u.OpenApi){var p,d,h=null===(p=t.properties)||void 0===p?void 0:p.document;i=(null===h||void 0===h||null===(d=h.components)||void 0===d?void 0:d.schemas)||[]}this.definitions=Object.keys(i).map((function(e){return new $(e,i[e])}))}}));!function(e){e.Added="Added",e.Announcement="Announcement",e.Changed="Changed",e.Deprecated="Deprecated",e.Fixed="Fixed",e.Removed="Removed",e.Security="Security"}(H||(H={}));var M=[H.Added,H.Changed,H.Fixed,H.Removed,H.Security];n(81779),n(73083)},78429:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=[{code:100,description:"Continue"},{code:101,description:"Switching Protocols"},{code:102,description:"Processing"},{code:200,description:"OK"},{code:201,description:"Created"},{code:202,description:"Accepted"},{code:203,description:"Non-Authoritative Information"},{code:204,description:"No Content"},{code:205,description:"Reset Content"},{code:206,description:"Partial Content"},{code:207,description:"Multi-Status"},{code:226,description:"IM Used"},{code:300,description:"Multiple Choices"},{code:301,description:"Moved Permanently"},{code:302,description:"Moved Temporarily"},{code:303,description:"See Other"},{code:304,description:"Not Modified"},{code:305,description:"Use Proxy"},{code:307,description:"Temporary Redirect"},{code:400,description:"Bad Request"},{code:401,description:"Unauthorized"},{code:402,description:"Payment Required"},{code:403,description:"Forbidden"},{code:404,description:"Not Found"},{code:405,description:"Method Not Allowed"},{code:406,description:"Not Acceptable"},{code:407,description:"Proxy Authentication Required"},{code:408,description:"Request Timeout"},{code:409,description:"Conflict"},{code:410,description:"Gone"},{code:411,description:"Length Required"},{code:412,description:"Precondition Failed"},{code:413,description:"Request Entity Too Large"},{code:414,description:"Request-URI Too Large"},{code:415,description:"Unsupported Media Type"},{code:416,description:"Requested Range Not Satisfiable"},{code:417,description:"Expectation Failed"},{code:422,description:"Unprocessable Entity"},{code:423,description:"Locked"},{code:424,description:"Failed Dependency"},{code:425,description:"Unordered Collection"},{code:426,description:"Upgrade Required"},{code:429,description:"Too many requests"},{code:449,description:"Retry With"},{code:456,description:"Unrecoverable Error"},{code:500,description:"Internal Server Error"},{code:501,description:"Not Implemented"},{code:502,description:"Bad Gateway"},{code:503,description:"Service Unavailable"},{code:504,description:"Gateway Timeout"},{code:505,description:"HTTP Version Not Supported"},{code:506,description:"Variant Also Negotiates"},{code:507,description:"Insufficient Storage"},{code:508,description:"Loop Detected"},{code:509,description:"Bandwidth Limit Exceeded"},{code:510,description:"Not Extended"}]},40243:function(){},94716:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(82262),i=n(92777),a=n(59499),s=(0,r.Z)((function e(t,n){(0,i.Z)(this,e),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"description",void 0),(0,a.Z)(this,"in",void 0),(0,a.Z)(this,"type",void 0),(0,a.Z)(this,"defaultValue",void 0),(0,a.Z)(this,"values",void 0),(0,a.Z)(this,"required",void 0),this.name=n.name,this.description=n.description,this.type=n.type,this.defaultValue=n.defaultValue,this.values=n.values,this.required=!!n.required,this.in=t}))},79879:function(e,t,n){"use strict";n.d(t,{Zi:function(){return h},hW:function(){return p}});var r=n(50029),i=n(87794),a=n.n(i),s=n(26723),o=n(54963),c=n(34155);function u(e){return(0,s.readFileSync)("".concat(c.cwd(),"/").concat(e),{encoding:"utf8"})}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!o.l.isPreloading){e.next=5;break}try{n=u("public/documentation/apis/".concat(t,".md"))}catch(r){}e.next=8;break;case 5:return e.next=7,fetch("/documentation/apis/".concat(t,".md")).then((function(e){return e.ok?e.text():""}),(function(e){return console.error(e,"Failed to fetch /documentation/apis/".concat(t,".md")),""}));case 7:n=e.sent;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!o.l.isPreloading){e.next=5;break}try{n=u("public/documentation/apis/".concat(t,"-documentation.md"))}catch(r){}e.next=8;break;case 5:return e.next=7,fetch("/documentation/apis/".concat(t,"-documentation.md")).then((function(e){return e.ok?e.text():""}),(function(e){return console.error(e,"Failed to fetch /documentation/apis/".concat(t,"-documentation.md")),""}));case 7:n=e.sent;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},40656:function(e,t,n){"use strict";function r(e){var t;return e&&(!!e.description||(null===(t=e.representations)||void 0===t?void 0:t.some((function(e){return e.typeName||e.example}))))||!1}function i(e){var t;return(null===e||void 0===e||null===(t=e.representations)||void 0===t?void 0:t.filter((function(e){return e.typeName||e.example})))||[]}n.d(t,{Y:function(){return r},e:function(){return i}})},26723:function(){}}]);