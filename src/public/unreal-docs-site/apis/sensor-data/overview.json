{"pageProps":{"rendered":true,"validPath":true,"pageTitle":"Overview - Sensor Data | iTwin Platform","apiName":"sensor-data","tabId":"overview","operationName":null,"initialApis":[{"id":"/apis/sensor-data","name":"sensor-data","displayName":"Sensor Data","description":"The Sensor Data Service (SDS) provides a unified method for publishing time series sensor data (and related metadata) within iTwin IoT. The SDS simplifies the process of connecting sensor data from sources including IoT Devices, IaaS IoT Hubs, Enterprise Systems, and other generic repositories. Availability of this data enables developers, vendors, and users to develop OT workflows to create new use cases for digital twins in their projects.\r\n","apiVersion":"v1","apiVersionDescription":null,"apiVersionSet":null,"apiRevision":"39","serviceUrl":"https://dev-iiot.bentley.com/api","path":"sensor-data","protocols":["https"],"authenticationSettings":{"oAuth2":{"authorizationServerId":"bentley-oauth","scope":"sensor-data:read sensor-data:modify"},"openid":null},"tags":[]}],"api":{"id":"/apis/sensor-data","name":"sensor-data","displayName":"Sensor Data","description":"The Sensor Data Service (SDS) provides a unified method for publishing time series sensor data (and related metadata) within iTwin IoT. The SDS simplifies the process of connecting sensor data from sources including IoT Devices, IaaS IoT Hubs, Enterprise Systems, and other generic repositories. Availability of this data enables developers, vendors, and users to develop OT workflows to create new use cases for digital twins in their projects.\r\n","apiVersion":"v1","apiVersionDescription":null,"apiVersionSet":null,"apiRevision":"39","serviceUrl":"https://dev-iiot.bentley.com/api","path":"sensor-data","protocols":["https"],"authenticationSettings":{"oAuth2":{"authorizationServerId":"bentley-oauth","scope":"sensor-data:read sensor-data:modify"},"openid":null},"tags":["Data Management","General Availability"]},"operationsByTag":[{"tag":"integrations","items":[{"id":"/apis/sensor-data/operations/get-nodes","name":"get-nodes","displayName":"Get Nodes","description":"---\n\nGets all Nodes.\n\n### Authentication\n\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\n\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\n\n---\n","urlTemplate":"/integrations/nodes","templateParameters":[],"parameters":[{"name":"projectIds","description":"iTwin Project or Asset.","in":"query","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[{"name":"projectIds","description":"iTwin Project or Asset.","in":"query","type":"string","values":[],"required":true}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a870f8dd4316f7df0c2","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"nodes\": [{\r\n        \"props\": {\r\n            \"SERIAL_NO\": \"CA90CC\",\r\n            \"OBSERVATION_COUNT\": 55507,\r\n            \"SIZE\": 1,\r\n            \"ACCESSIBLE\": true,\r\n            \"CREATION_DATE\": \"2023-03-01T21:51:28.667Z\",\r\n            \"NODE_ID\": \"CREATE_NEW_NODE\",\r\n            \"INTEGRATION_ID\": \"DEMO_NODE_SDE\",\r\n            \"TYPE\": \"DEMO_LOAD_CELL_SDE\",\r\n            \"PROJECT_ID\": \"61F467B3BEED067739E0E055\",\r\n            \"NAME\": \"Connection CA90CC\"\r\n        },\r\n        \"id\": \"/dev/CA90CC/node\",\r\n        \"type\": \"DYNAMIC\"\r\n    }]\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"Nodes"}],"description":"Successfully Retrieved Nodes"},{"identifier":"66ce0a87ab4df6493d3e32c3","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a8733cde7bc47e03228","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"ResourceNotFound\",\r\n        \"message\": \"Requested resource is not available.\",\r\n        \"target\": \"projectIds\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a87673b5f96cba00d93","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/integrations/nodes?projectIds","tags":["integrations"]},{"id":"/apis/sensor-data/operations/process-integration","name":"process-integration","displayName":"Process Integration","description":"---\r\n\r\nProcesses an integration.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n---\r\n","urlTemplate":"/integrations/integrate","templateParameters":[],"parameters":[],"method":"POST","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"integration\": {\r\n        \"nodeId\": \"/api/95A09D/node\",\r\n        \"devices\": [{\r\n            \"changeState\": \"new\",\r\n            \"refId\": \"RefId\",\r\n            \"props\": {\r\n                \"INTEGRATION_ID\": \"DEMO_DEVICE_SDE\",\r\n                \"NAME\": \"Generic Device\"\r\n            },\r\n            \"sensors\": [{\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId1\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"GENERIC_SENSOR_SDE\",\r\n                        \"NAME\": \"Generic vibration sensor\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId2\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"ACTIVITY_SDE\",\r\n                        \"NAME\": \"Activity\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId3\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"MOISTURE_SDE\",\r\n                        \"NAME\": \"Moisture\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId4\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"LIGHT_SDE\",\r\n                        \"NAME\": \"Light\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId5\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"ELECTRICITY_USAGE_SDE\",\r\n                        \"NAME\": \"Electricity usage\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId6\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"BATTERY_CHARGE_SDE\",\r\n                        \"NAME\": \"Battery Charge Level\"\r\n                    }\r\n                },\r\n                {\r\n                    \"changeState\": \"new\",\r\n                    \"refId\": \"RefId7\",\r\n                    \"props\": {\r\n                        \"INTEGRATION_ID\": \"SENSOR_SIGNAL_STRENGTH_SDE\",\r\n                        \"NAME\": \"Sensor Signal Strength\"\r\n                    }\r\n                }\r\n            ]\r\n        }]\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"IntegrationRequest"}]},"responses":[{"identifier":"66ce0a87890614db28605fff","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"integration\": {\r\n        \"node\": {\r\n            \"props\": {\r\n                \"SERIAL_NO\": \"95A09D\",\r\n                \"CREATION_DATE\": \"2024-02-06T05:26:29Z\",\r\n                \"INTEGRATION_ID\": \"NODE_API_SDE\",\r\n                \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                \"NAME\": \"Data Source API Import 95A09D\"\r\n            },\r\n            \"id\": \"/api/95A09D/node\",\r\n            \"type\": \"DYNAMIC\"\r\n        },\r\n        \"devices\": [{\r\n            \"device\": {\r\n                \"props\": {\r\n                    \"SERIAL_NO\": \"9863fa9c-d111-4329-9ae3-d5ea8b64bcaf\",\r\n                    \"SIZE\": 7,\r\n                    \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                    \"NODE_ID\": \"/api/95A09D/node\",\r\n                    \"INTEGRATION_ID\": \"DEMO_DEVICE_SDE\",\r\n                    \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                    \"NAME\": \"Generic Device\"\r\n                },\r\n                \"id\": \"/api/95A09D/node/dynamic/756BDE/device\",\r\n                \"type\": \"DYNAMIC\"\r\n            },\r\n            \"sensors\": [{\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"4dd65699-8ffb-4855-a165-9547d501e049\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"MOISTURE_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Moisture\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/404C27/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"d8583e25-ca01-4f75-b6da-681f2200eaeb\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"GENERIC_SENSOR_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Generic vibration sensor\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/581565/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"92ecbce5-91dd-4640-a70a-6921442b9422\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"SENSOR_SIGNAL_STRENGTH_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Sensor Signal Strength\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/373F53/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"c5d18efc-4d8d-4961-9bc2-ad50d2740b3c\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"LIGHT_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Light\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/88CA0B/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"95c084c6-3158-401b-a01d-1b28841c927d\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"ELECTRICITY_USAGE_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Electricity usage\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/0D7B39/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"88238aed-a1fc-4c63-899f-379e18495e76\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"ACTIVITY_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Activity\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/6A84D1/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                },\r\n                {\r\n                    \"props\": {\r\n                        \"SERIAL_NO\": \"332ddf52-4b16-4261-9a94-8a5cfeae9dbe\",\r\n                        \"CREATION_DATE\": \"2024-02-06T05:27:40Z\",\r\n                        \"NODE_ID\": \"/api/95A09D/node\",\r\n                        \"INTEGRATION_ID\": \"BATTERY_CHARGE_SDE\",\r\n                        \"PROJECT_ID\": \"6295B89C93266401FA614392\",\r\n                        \"NAME\": \"Battery Charge Level\"\r\n                    },\r\n                    \"id\": \"/api/95A09D/node/dynamic/756BDE/device/324742/sensor\",\r\n                    \"observationType\": \"DYNAMIC\",\r\n                    \"type\": \"DYNAMIC\",\r\n                    \"device\": \"/api/95A09D/node/dynamic/756BDE/device\"\r\n                }\r\n            ]\r\n        }]\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"IntegrationResponse"}],"description":"Integration processing successful."},{"identifier":"66ce0a87d87788fdb3c79911","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a87a43f3eca7f8890e7","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"The user has insufficient permissions for the requested operation."},{"identifier":"66ce0a87955d2f63b471da8b","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InvalidProcessIntegrationRequest\",\r\n        \"message\": \"Minimum request parameters not provided, new Devices and Sensors must have a valid `props.INTEGRATION_ID` set.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"Cannot process integration."},{"identifier":"66ce0a875915dc5b183df529","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/integrations/integrate","tags":["integrations"]}]},{"tag":"Observations","items":[{"id":"/apis/sensor-data/operations/query-raw-data","name":"query-raw-data","displayName":"Query Raw Data","description":"---\n\nQuery time-series sensor readings.\n\n### Authentication\n\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\n\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\n\n---\n","urlTemplate":"/data/observations","templateParameters":[],"parameters":[],"method":"POST","request":{"description":"Query raw observations endpoint.","queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"sensorId\": \"/dynamic/CFE5CC/node/omnidots/105/device/vibrometer_sensor_no_pvs_sde/sensor\",\r\n    \"startDate\": \"2023-10-05T07:39:25Z\",\r\n    \"endDate\": \"2023-10-06T07:39:47Z\"\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"QueryRawObservationRequest"}]},"responses":[{"identifier":"66ce0a8752992f3b805c8bf3","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"sensor\": \"/dynamic/CFE5CC/node/omnidots/105/device/vibrometer_sensor_no_pvs_sde/sensor\",\r\n    \"sensorName\": \"CUTEJU\",\r\n    \"metricsAndUnits\": {\r\n        \"standard\": true,\r\n        \"metrics\": [{\r\n                \"metric\": \"ppv_x\",\r\n                \"id\": \"ppv_x\",\r\n                \"displayName\": \"ν Peak Particle X\",\r\n                \"defaultUnit\": \"inps\",\r\n                \"units\": [{\r\n                        \"unit\": \"inph\",\r\n                        \"id\": \"inph\",\r\n                        \"displayName\": \"inch per hour\",\r\n                        \"notation\": \"in/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mps\",\r\n                        \"id\": \"mps\",\r\n                        \"displayName\": \"meter per second\",\r\n                        \"notation\": \"m/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpmn\",\r\n                        \"id\": \"mpmn\",\r\n                        \"displayName\": \"meter per month\",\r\n                        \"notation\": \"m/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmps\",\r\n                        \"id\": \"mmps\",\r\n                        \"displayName\": \"millimeter per second\",\r\n                        \"notation\": \"mm/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmh\",\r\n                        \"id\": \"cmh\",\r\n                        \"displayName\": \"centimeter per hour\",\r\n                        \"notation\": \"cm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpmn\",\r\n                        \"id\": \"cmpmn\",\r\n                        \"displayName\": \"centimeter per month\",\r\n                        \"notation\": \"cm/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpd\",\r\n                        \"id\": \"cmpd\",\r\n                        \"displayName\": \"centimeter per day\",\r\n                        \"notation\": \"cm/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftpd\",\r\n                        \"id\": \"ftpd\",\r\n                        \"displayName\": \"feet per day\",\r\n                        \"notation\": \"ft/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmph\",\r\n                        \"id\": \"mmph\",\r\n                        \"displayName\": \"millimeter per hour\",\r\n                        \"notation\": \"mm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpd\",\r\n                        \"id\": \"inpd\",\r\n                        \"displayName\": \"inch per day\",\r\n                        \"notation\": \"in/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftps\",\r\n                        \"id\": \"ftps\",\r\n                        \"displayName\": \"feet per second\",\r\n                        \"notation\": \"ft/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"miph\",\r\n                        \"id\": \"miph\",\r\n                        \"displayName\": \"mile per hour\",\r\n                        \"notation\": \"mile/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inps\",\r\n                        \"id\": \"inps\",\r\n                        \"displayName\": \"inch per second\",\r\n                        \"notation\": \"in/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpd\",\r\n                        \"id\": \"mpd\",\r\n                        \"displayName\": \"meter per day\",\r\n                        \"notation\": \"m/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpmn\",\r\n                        \"id\": \"inpmn\",\r\n                        \"displayName\": \"inch per month\",\r\n                        \"notation\": \"in/month\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"metric\": \"ppv_y\",\r\n                \"id\": \"ppv_y\",\r\n                \"displayName\": \"ν Peak Particle Y\",\r\n                \"defaultUnit\": \"inps\",\r\n                \"units\": [{\r\n                        \"unit\": \"inph\",\r\n                        \"id\": \"inph\",\r\n                        \"displayName\": \"inch per hour\",\r\n                        \"notation\": \"in/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mps\",\r\n                        \"id\": \"mps\",\r\n                        \"displayName\": \"meter per second\",\r\n                        \"notation\": \"m/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpmn\",\r\n                        \"id\": \"mpmn\",\r\n                        \"displayName\": \"meter per month\",\r\n                        \"notation\": \"m/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmps\",\r\n                        \"id\": \"mmps\",\r\n                        \"displayName\": \"millimeter per second\",\r\n                        \"notation\": \"mm/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmh\",\r\n                        \"id\": \"cmh\",\r\n                        \"displayName\": \"centimeter per hour\",\r\n                        \"notation\": \"cm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpmn\",\r\n                        \"id\": \"cmpmn\",\r\n                        \"displayName\": \"centimeter per month\",\r\n                        \"notation\": \"cm/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpd\",\r\n                        \"id\": \"cmpd\",\r\n                        \"displayName\": \"centimeter per day\",\r\n                        \"notation\": \"cm/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftpd\",\r\n                        \"id\": \"ftpd\",\r\n                        \"displayName\": \"feet per day\",\r\n                        \"notation\": \"ft/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmph\",\r\n                        \"id\": \"mmph\",\r\n                        \"displayName\": \"millimeter per hour\",\r\n                        \"notation\": \"mm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpd\",\r\n                        \"id\": \"inpd\",\r\n                        \"displayName\": \"inch per day\",\r\n                        \"notation\": \"in/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftps\",\r\n                        \"id\": \"ftps\",\r\n                        \"displayName\": \"feet per second\",\r\n                        \"notation\": \"ft/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"miph\",\r\n                        \"id\": \"miph\",\r\n                        \"displayName\": \"mile per hour\",\r\n                        \"notation\": \"mile/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inps\",\r\n                        \"id\": \"inps\",\r\n                        \"displayName\": \"inch per second\",\r\n                        \"notation\": \"in/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpd\",\r\n                        \"id\": \"mpd\",\r\n                        \"displayName\": \"meter per day\",\r\n                        \"notation\": \"m/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpmn\",\r\n                        \"id\": \"inpmn\",\r\n                        \"displayName\": \"inch per month\",\r\n                        \"notation\": \"in/month\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"metric\": \"ppv_z\",\r\n                \"id\": \"ppv_z\",\r\n                \"displayName\": \"ν Peak Particle Z\",\r\n                \"defaultUnit\": \"inps\",\r\n                \"units\": [{\r\n                        \"unit\": \"inph\",\r\n                        \"id\": \"inph\",\r\n                        \"displayName\": \"inch per hour\",\r\n                        \"notation\": \"in/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mps\",\r\n                        \"id\": \"mps\",\r\n                        \"displayName\": \"meter per second\",\r\n                        \"notation\": \"m/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpmn\",\r\n                        \"id\": \"mpmn\",\r\n                        \"displayName\": \"meter per month\",\r\n                        \"notation\": \"m/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmps\",\r\n                        \"id\": \"mmps\",\r\n                        \"displayName\": \"millimeter per second\",\r\n                        \"notation\": \"mm/s\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmh\",\r\n                        \"id\": \"cmh\",\r\n                        \"displayName\": \"centimeter per hour\",\r\n                        \"notation\": \"cm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpmn\",\r\n                        \"id\": \"cmpmn\",\r\n                        \"displayName\": \"centimeter per month\",\r\n                        \"notation\": \"cm/month\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"cmpd\",\r\n                        \"id\": \"cmpd\",\r\n                        \"displayName\": \"centimeter per day\",\r\n                        \"notation\": \"cm/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftpd\",\r\n                        \"id\": \"ftpd\",\r\n                        \"displayName\": \"feet per day\",\r\n                        \"notation\": \"ft/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mmph\",\r\n                        \"id\": \"mmph\",\r\n                        \"displayName\": \"millimeter per hour\",\r\n                        \"notation\": \"mm/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpd\",\r\n                        \"id\": \"inpd\",\r\n                        \"displayName\": \"inch per day\",\r\n                        \"notation\": \"in/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"ftps\",\r\n                        \"id\": \"ftps\",\r\n                        \"displayName\": \"feet per second\",\r\n                        \"notation\": \"ft/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"miph\",\r\n                        \"id\": \"miph\",\r\n                        \"displayName\": \"mile per hour\",\r\n                        \"notation\": \"mile/hr\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inps\",\r\n                        \"id\": \"inps\",\r\n                        \"displayName\": \"inch per second\",\r\n                        \"notation\": \"in/sec\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"mpd\",\r\n                        \"id\": \"mpd\",\r\n                        \"displayName\": \"meter per day\",\r\n                        \"notation\": \"m/day\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"inpmn\",\r\n                        \"id\": \"inpmn\",\r\n                        \"displayName\": \"inch per month\",\r\n                        \"notation\": \"in/month\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"metric\": \"f_z\",\r\n                \"id\": \"f_z\",\r\n                \"displayName\": \"Frequency Z\",\r\n                \"defaultUnit\": \"Hz\",\r\n                \"units\": [{\r\n                        \"unit\": \"Hz\",\r\n                        \"id\": \"Hz\",\r\n                        \"displayName\": \"hertz\",\r\n                        \"notation\": \"Hz\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"digits\",\r\n                        \"id\": \"digits\",\r\n                        \"displayName\": \"digits\",\r\n                        \"notation\": \"digits\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"metric\": \"f_y\",\r\n                \"id\": \"f_y\",\r\n                \"displayName\": \"Frequency Y\",\r\n                \"defaultUnit\": \"Hz\",\r\n                \"units\": [{\r\n                        \"unit\": \"Hz\",\r\n                        \"id\": \"Hz\",\r\n                        \"displayName\": \"hertz\",\r\n                        \"notation\": \"Hz\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"digits\",\r\n                        \"id\": \"digits\",\r\n                        \"displayName\": \"digits\",\r\n                        \"notation\": \"digits\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"metric\": \"f_x\",\r\n                \"id\": \"f_x\",\r\n                \"displayName\": \"Frequency X\",\r\n                \"defaultUnit\": \"Hz\",\r\n                \"units\": [{\r\n                        \"unit\": \"Hz\",\r\n                        \"id\": \"Hz\",\r\n                        \"displayName\": \"hertz\",\r\n                        \"notation\": \"Hz\"\r\n                    },\r\n                    {\r\n                        \"unit\": \"digits\",\r\n                        \"id\": \"digits\",\r\n                        \"displayName\": \"digits\",\r\n                        \"notation\": \"digits\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    \"data\": {\r\n        \"2023-10-06T19:39:13.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 1.06656050682068,\r\n            \"ppv_y\": 1.07461452484131,\r\n            \"ppv_z\": 1.07848334312439\r\n        },\r\n        \"2023-10-06T19:39:15.998Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 0.962641477584839,\r\n            \"ppv_y\": 0.483243107795715,\r\n            \"ppv_z\": 0.573322892189026\r\n        },\r\n        \"2023-10-06T19:39:17.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 0.992099642753601,\r\n            \"ppv_y\": 0.493222117424011,\r\n            \"ppv_z\": 0.535932719707489\r\n        },\r\n        \"2023-10-06T19:39:19.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 0.982421159744263,\r\n            \"ppv_y\": 0.497749209403992,\r\n            \"ppv_z\": 0.611863613128662\r\n        },\r\n        \"2023-10-06T19:39:21.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 0.967831969261169,\r\n            \"ppv_y\": 0.509651064872742,\r\n            \"ppv_z\": 0.559715986251831\r\n        },\r\n        \"2023-10-06T19:39:23.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 0.958663463592529,\r\n            \"ppv_y\": 0.486814677715302,\r\n            \"ppv_z\": 0.576139688491821\r\n        },\r\n        \"2023-10-06T19:39:25.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 23,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 1.00556206703186,\r\n            \"ppv_y\": 0.500694632530212,\r\n            \"ppv_z\": 0.568550646305084\r\n        },\r\n        \"2023-10-06T19:39:27.999Z\": {\r\n            \"f_x\": 23,\r\n            \"f_y\": 21.5,\r\n            \"f_z\": 23,\r\n            \"ppv_x\": 1.51888751983643,\r\n            \"ppv_y\": 1.43731307983398,\r\n            \"ppv_z\": 1.00519156455994\r\n        },\r\n        \"2023-10-06T19:39:29.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.969983518123627,\r\n            \"ppv_y\": 0.502496004104614,\r\n            \"ppv_z\": 0.493984878063202\r\n        },\r\n        \"2023-10-06T19:39:31.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.986376643180847,\r\n            \"ppv_y\": 0.484563171863556,\r\n            \"ppv_z\": 0.481159806251526\r\n        },\r\n        \"2023-10-06T19:39:33.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.965572774410248,\r\n            \"ppv_y\": 0.479825496673584,\r\n            \"ppv_z\": 0.488771349191666\r\n        },\r\n        \"2023-10-06T19:39:35.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.957448601722717,\r\n            \"ppv_y\": 0.465614169836044,\r\n            \"ppv_z\": 0.477058053016663\r\n        },\r\n        \"2023-10-06T19:39:37.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.983356177806854,\r\n            \"ppv_y\": 0.470004677772522,\r\n            \"ppv_z\": 0.459616482257843\r\n        },\r\n        \"2023-10-06T19:39:39.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.984601736068726,\r\n            \"ppv_y\": 0.46147221326828,\r\n            \"ppv_z\": 0.47419473528862\r\n        },\r\n        \"2023-10-06T19:39:41.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 22,\r\n            \"f_z\": 22,\r\n            \"ppv_x\": 0.977306365966797,\r\n            \"ppv_y\": 0.521758735179901,\r\n            \"ppv_z\": 0.494532585144043\r\n        },\r\n        \"2023-10-06T19:39:43.999Z\": {\r\n            \"f_x\": 22,\r\n            \"f_y\": 25,\r\n            \"f_z\": 25,\r\n            \"ppv_x\": 1.36220300197601,\r\n            \"ppv_y\": 1.7585301399231,\r\n            \"ppv_z\": 1.33968341350555\r\n        },\r\n        \"2023-10-06T19:39:45.999Z\": {\r\n            \"f_x\": 25,\r\n            \"f_y\": 25,\r\n            \"f_z\": 25,\r\n            \"ppv_x\": 1.07312619686127,\r\n            \"ppv_y\": 0.600778698921204,\r\n            \"ppv_z\": 0.81081223487854\r\n        },\r\n        \"2023-10-06T19:39:47.999Z\": {\r\n            \"f_x\": 25,\r\n            \"f_y\": 25,\r\n            \"f_z\": 25,\r\n            \"ppv_x\": 1.07185614109039,\r\n            \"ppv_y\": 0.572636961936951,\r\n            \"ppv_z\": 0.804619669914246\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"RawObservationResponse"}],"description":"Query Successful "},{"identifier":"66ce0a87079e8025de5e624d","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a871c98d80a8e94d7d5","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"The user has insufficient permissions for the requested operation."},{"identifier":"66ce0a87b28cbdf5e5344474","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/data/observations","tags":["Observations"]},{"id":"/apis/sensor-data/operations/remove-data","name":"remove-data","displayName":"Remove Data","description":"---\n\nRemove time-series sensor readings.\n\n### Authentication\n\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\n\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\n\n---\n","urlTemplate":"/data/observations","templateParameters":[],"parameters":[],"method":"DELETE","request":{"description":"Remove observations endpoint.","queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"sensorId\": \"/dynamic/CFE5CC/node/omnidots/105/device/vibrometer_sensor_no_pvs_sde/sensor\",\r\n    \"startDate\": \"2023-10-05T07:39:25Z\",\r\n    \"endDate\": \"2023-10-06T07:39:47Z\"\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"RemoveObservationRequest"}]},"responses":[{"identifier":"66ce0a87ba8c0a04a0b11daf","headers":[],"statusCode":{"code":202,"description":"Accepted"},"representations":[{"contentType":"application/json","example":"{\r\n    \"status\": \"ACCEPTED\"\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"DataUploadResponse"}],"description":"Remove request accepted"},{"identifier":"66ce0a87035af4dc5dcd18fe","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a8797a0c92d6cc045a0","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"The user has insufficient permissions for the requested operation."},{"identifier":"66ce0a87f42c96e834b9baaa","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/data/observations","tags":["Observations"]},{"id":"/apis/sensor-data/operations/upload-data","name":"upload-data","displayName":"Upload Data","description":"---\r\n\r\nUpload time-series sensor readings.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n---\r\n","urlTemplate":"/data/upload","templateParameters":[],"parameters":[],"method":"POST","request":{"description":"Upload observations endpoint ","queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"observations\": [{\r\n        \"sensorId\": \"/api/023C74/node/dynamic/C137D3/device/D6FAC4/sensor\",\r\n        \"timestamp\": \"2023-10-09T08:31:29Z\",\r\n        \"values\": {\r\n            \"raw_value\": 10\r\n        }\r\n    }]\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"Observations"}]},"responses":[{"identifier":"66ce0a872858160cbeeabf29","headers":[],"statusCode":{"code":202,"description":"Accepted"},"representations":[{"contentType":"application/json","example":"{\r\n    \"status\": \"ACCEPTED\"\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"DataUploadResponse"}],"description":"Request Accepted"},{"identifier":"66ce0a87f48975f7703829e8","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a87e7195bd58d8c01b0","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"sensor-data-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/data/upload","tags":["Observations"]}]}],"operation":null,"operationTags":[],"authorizationServer":null,"operationDefinitions":[],"allDefinitions":[],"apiDocumentationMdContent":"# Sensor Data API\n\nThe Sensor Data API provides a unified method for retrieving time series sensor data (and related metadata) within iTwin and other platforms. The Sensor Data API will simplify the process of connecting sensor data from sources, including IoT Devices, IaaS IoT Hubs, Enterprise Systems, and other generic repositories. The availability of this data will enable an ecosystem of developers, vendors, and users to develop OT workflows that create new use cases for digital twins in their products.\n\nSensor Data consists of sequences of numeric values representing measurements from observing sensor data over a specified time. It includes both the _current_ real-time value as well as historical values.\n\n## The Two Models\n\nThere are two data models to be aware of when it comes to registering a dataSource on Sensor Data Service (SDS).\n\n1.  **Connection** holds all the sensitive information and is only viewable and mutable by SDS developers. It has the following properties:\n    - _scope_ – scope needed on token being used to access data source. For example, `sensemetrics-sensor-data:read` scope needs to exist in the IMS token being sent to Sensemetrics\n    - _type_ – type of the connection. One of `SELF_SERVICE` or `EAGLE_IO`\n    - _authType_ – type of authentication used for the connection. One of `NONE`, `JWT_TOKEN`, `IMS_TOKEN`, `HTTP_BASIC`, `API_KEY`, or `CLIENT_CREDENTIALS`\n    - _restUrl_ – connection endpoint where all the REST requests will be forwarded (e.g.: https://www.example.com)\n    - _wsUrl_ (Optional) – connection endpoint where all the Web Socket requests will be forwarded (e.g.: wss://www.example.com:1111)\n    - _authorization_ (Optional) – API Key, Bearer token, or any other authentication token that is needed to access the connection located in above specified url endpoint\n    - _username_ (Optional) – Username needed to access the connection for `HTTP_BASIC` and `CLIENT_CREDENTIALS` authTypes\n    - _password_ (Optional) – Password needed to access the connection for `HTTP_BASIC` and `CLIENT_CREDENTIALS` authTypes\n2.  **DataSource** holds all the meta-data and non-sensitive information on a data source. It is viewable and mutable by users. It has the following properties:\n    - _bucketId_ - id of bucket\n    - _bucketName_ – name of bucket\n    - _iTwinId_ – iTwinId associated with the bucket\n    - _connectionId_ – id of the connection the data source points to with all the sensitive information (This is provided to the user, read below on how this is generated)\n\n### Data Sources\n\nA DataSource is a connection to an existing store of sensor data. It defines a relationship between a specific iTwin and a bucket (collection) of physical sensors and their time series data. Once a DataSource is defined, subsequent calls completely hide the underlying source of data from the calling application.\n\n### Connection Types\n\nThese are the values that are supported in the `type` property for a Connection:\n\n- SELF_SERVICE\n- EAGLE_IO\n\n### Connection Auth Types\n\nThese are the values that are supported in the `authType` property for a Connection:\n\n- IMS_TOKEN: Uses the Authorization Bearer token by the calling client, exchanges that token using a delegation client, then passes this new token to the connection. For example, Sensemetrics supporting IMS tokens.\n- HTTP_BASIC: Uses the Authorization: Basic header after Base64 encoding the username/password\n- API_KEY: Uses the Authorization ApiKey <apiKey> header\n- JWT_TOKEN: Non-expiring JWT token for testing which uses Authorization Bearer header. This is for connections that do not want to give a username/password or need something quick. Renewal may or may not be implemented in the future for this auth type if the connection supports it\n- CLIENT_CREDENTIALS: Uses the Authorization Bearer header after obtaining a Client Credentials token from the endpoint of the data source using the given username/password\n\n### Connection Property Combinations\n\nWhen creating a DataSource with a certain `type` or `authType` there are certain required properties that must be provided. Here is a list of the currently supported permutations:\n\n| authType           | Required Properties |\n| ------------------ | ------------------- |\n| HTTP_BASIC         | username, password  |\n| API_KEY            | authorization       |\n| JWT_TOKEN          | authorization       |\n| CLIENT_CREDENTIALS | username, password  |\n| IMS_TOKEN          | n/a                 |\n\nHere are the supported `type` and `authType` combinations:\n\n| type         | authType           |\n| ------------ | ------------------ |\n| SELF_SERVICE | IMS_TOKEN          |\n| SELF_SERVICE | HTTP_BASIC         |\n| SELF_SERVICE | API_KEY            |\n| SELF_SERVICE | JWT_TOKEN          |\n| SELF_SERVICE | CLIENT_CREDENTIALS |\n| EAGLE_IO     | API_KEY            |\n\n## Typical DataSource Usage\n\nCreating a Connection and a DataSource is usually a one-time event that does not have to be done at runtime. You can think of it as \"setting up a connection\" or \"registering a connection.\" This is usually done beforehand as part of a project setup/onboarding process by someone (an admin or customer success team member) who has some knowledge of how to connect to the DataSource and what the actual underlying DataSource supports.\n\nThe person creating a Connection and a DataSource typically needs to know the following at a minimum:\n\n- the type of integration to the external application. SELF_SERVICE is the most common\n- the host/port of the external application that provides the data\n- the type of authentication supported by the external application\n- a UUID that represents a bucket (or collection or grouping) of sensors on the external application. In some applications this may be known as a \"project\" or \"site.\" Different applications have different ways of grouping sensors together.\n- a friendly display name for the bucket\n- the associated iTwinId that this DataSource represents\n\n## Step and actions to register a new Connection\n\n> Let's assume Sensemetrics wants to integrate its data sources with SDS\n\n1. A developer from Sensemetrics starts a new conversation on [this channel](https://teams.microsoft.com/l/channel/19%3a21a3ecb9c09c4010a7f0f3e35002d8c0%40thread.tacv2/New%2520Connection%2520Registration%2520Requests?groupId=ba393730-a40c-459c-84e7-58098ee4c995&tenantId=067e9632-ea4c-4ed9-9e6d-e294956e284b) by posting a message \"!Register New Connection\"\n2. Power Automate responds to that message and directly messages the developer from Sensemetrics with a link to a Microsoft Forms where he will have to fill out information pertaining to the [Connection model](#thetwomodels) above\n3. Once the Sensemetrics developer submits the form, Power Automate creates a work item on Azure DevOps with details from that form titled \"[BE] SDS | New Connection Registration Request\" and tagged \"new_connection_request\" then assigns it to a SDS developer\n4. Once a SDS developer reviews the request, he will generate a `connectionId` and `scope` (if authType is `IMS_TOKEN`) and provide these values to the Sensemetrics developer\n5. Finally, the Sensemetrics developer can use the Sensor Data API and `connectionId` to fill in the details for the [DataSource model](#thetwomodels) to register all their data sources\n6. For `IMS_TOKEN` auth type data sources, the IMS token being sent to the data source's restUrl will only have the scope provided to them by SDS developer. Meaning, requests coming from SDS to Sensemetrics will have an IMS token with only the scope `sensemetrics-sensor-data:read` and Sensemetrics has to validate and allow only incoming requests from SDS having that scope. Any other caller besides SDS should not be able to call Sensemetrics' SDS dedicated endpoints without that scope in their IMS token\n\n# Access Control and micro-permissions for iTwins\n\nAll Sensor Data API endpoints require that the user have micro-permissions to the associate iTwin. Specifically, if calling read endpoints, the user must have `sensor_data_read` or `sensor_data_manage` micro-permission to the associated iTwin. Similarly, if calling modify endpoints, the user must have `sensor_data_manage` micro-permission to the associated endpoint. For example, if a user is calling a GET operation on `/sensors` endpoint for an iTwin with id `abc-xyz`. That user must have `sensor_data_read` and/or `sensor_data_manage` micro-permission(s) to that iTwin. This is true for `/datasources` and `/observations` endpoints too.\n\nIf the required micro-permissions are missing Sensor Data API responds with a `403` response.\n\nAll users must first contact the administrator of their iTwin project to have the micro-permissions granted before calling any Sensor Data API endpoints.\n\n## Typical Workflow\n\nA typical workflow involves the following:\n\n1. Registering a Connection\n2. Registering a DataSource\n3. Getting the Sensors for that DataSource\n4. Getting Observations for a Sensor\n\n### Steps\n\n1. Register a new Connection with [steps detailed above](#stepandactionstoregisteranewconnection) and acquire a new `connectionId` and `scope` (if applicable) values for your data source registrations\n\n2. Register a new DataSource that maps an **iTwinId** to a **bucketId**. Take note of the returned **dataSourceId**.\n\n**Note**: Step 1 can be skipped if you already have a **dataSourceId** that you would like to use.\n\n```bash\ncurl -L -X POST 'https://api.bentley.com/sensor-data/datasources' \\\n-H 'Authorization: Bearer <changeme>' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{\n    \"bucketId\": \"<changeme>\",\n    \"bucketName\": \"Hoover Dam Sensors\",\n    \"iTwinId\": \"<changeme>\",\n    \"connectionId: \"<newly_acquired_connectionId>\"\n}'\n```\n\n3. Using the **dataSourceId** returned from Step 1, get the available Sensors for that DataSource. Take note of 1 **sensorId** and 1 **metric** and 1 **unit** for that sensorId.\n\n```bash\ncurl -L -X GET 'https://api.bentley.com/sensor-data/sensors?iTwinId=<changeme>' \\\n-H 'Authorization: Bearer <changeme>'\n```\n\n4. Get sensor readings for the **sensorId** obtained in Step 2 for a given **metric** and **unit**. Use **iTwinId** from Step 1. Adjust **startDate** and **endDate** using the standard ISO8601 date and time format.\n\n```bash\ncurl -L -g -X GET 'https://api.bentley.com/sensor-data/observations?iTwinId=<changeme>&sensorId=<changeme>&metric=<changeme>&unit=<changeme>&startDate=2011-12-03T10:15:30Z&endDate=2022-09-22T10:15:30Z' \\\n-H 'Authorization: Bearer <changeme>'\n```\n\n# Sample JSON Payloads\n\n## Data Sources\n\n**Example JSON**\n\n```json\n{\n  \"id\": \"6304AD5893266431E1E9AD71\",\n  \"bucketId\": \"6304AD5893266431E1E9AD72\",\n  \"bucketName\": \"My Sensors\",\n  \"iTwinId\": \"28ba3a8e-bf86-47b6-a37c-6600d9e2e328\",\n  \"connectionId\": \"641a59f27478902f2f3aabcde\"\n}\n```\n\n```json\n{\n  \"id\": \"6304AD5893266431E1E9AD81\",\n  \"bucketId\": \"vistaDataVisionBucketId\",\n  \"bucketName\": \"VDV Sensors\",\n  \"iTwinId\": \"28ba3a8e-bf86-47b6-a37c-6600d9e2e328\",\n  \"connectionId\": \"641abcde07478902f2f3a4390\"\n}\n```\n\n```json\n{\n  \"id\": \"6304AD5893266431E1E9AD91\",\n  \"bucketId\": \"eagleBucketId\",\n  \"bucketName\": \"Eagle Sensors\",\n  \"iTwinId\": \"28ba3a8e-bf86-47b6-a37c-6600d9e2e328\",\n  \"connectionId\": \"641f6ff27400fa123523a4390\"\n}\n```\n\n## Sensors\n\nSensors represent the physical sensor gathering data measurements. For example, a voltage sensor that reads voltage.\n\n**Example JSON**\n\n```json\n{\n  \"id\": \"sensorId\",\n  \"dataSourceId\": \"6304AD5893266431E1E9AD71\",\n  \"type\": \"SELF_SERVICE\",\n  \"bucketId\": \"6304AD5893266431E1E9AD72\",\n  \"iTwinId\": \"28ba3a8e-bf86-47b6-a37c-6600d9e2e328\",\n  \"metricsAndUnits\": {\n    \"standard\": true,\n    \"metrics\": [\n      {\n        \"metric\": \"f\",\n        \"displayName\": \"Frequency\",\n        \"notation\": \"f\",\n        \"defaultUnit\": \"Hz\",\n        \"units\": [\n          {\n            \"unit\": \"Hz\",\n            \"displayName\": \"hertz\",\n            \"notation\": \"Hz\"\n          },\n          {\n            \"unit\": \"digits\",\n            \"displayName\": \"digits\",\n            \"notation\": \"digits\"\n          }\n        ]\n      },\n      {\n        \"metric\": \"T\",\n        \"displayName\": \"Temperature\",\n        \"notation\": \"T\",\n        \"defaultUnit\": \"C\",\n        \"units\": [\n          {\n            \"unit\": \"C\",\n            \"displayName\": \"celsius\",\n            \"notation\": \"°C\"\n          },\n          {\n            \"unit\": \"F\",\n            \"displayName\": \"fahrenheit\",\n            \"notation\": \"°F\"\n          },\n          {\n            \"unit\": \"K\",\n            \"displayName\": \"kelvin\",\n            \"notation\": \"°K\"\n          }\n        ]\n      }\n    ]\n  },\n  \"metadata\": {\n    // free-form key-value pair map\n  }\n}\n```\n\n## Observations\n\nObservations are representations of sensor readings. They include a timestamp (epoch) and an IEEE-754 floating point value.\n\n**Example JSON**\n\n```json\n{\n  \"page\": 0,\n  \"pageSize\": 10000,\n  \"pageTotal\": 100,\n  \"metric\": \"\",\n  \"unit\": \"\",\n  \"observations\": [\n    {\n      \"timestamp\": 1676415254000,\n      \"value\": 100.0\n    }\n  ]\n}\n```\n","tutorialsMetadata":[],"preloadedApis":[],"changelog":[],"preloadedSamples":[]},"__N_SSG":true}