{"pageProps":{"rendered":true,"validPath":true,"pageTitle":"Get CDM - Grouping and Mapping | iTwin Platform","apiName":"grouping-and-mapping","tabId":"operations","operationName":"get-cdm","initialApis":[{"id":"/apis/grouping-and-mapping","name":"grouping-and-mapping","displayName":"Grouping and Mapping","description":"Reduce, categorize, and augment iModel data into optimized representations for consumption by downstream apps.","apiVersion":"v1","apiVersionDescription":null,"apiVersionSet":null,"apiRevision":"77","serviceUrl":"https://dev-connect-insights-data-eus.bentley.com/api/v2","path":"grouping-and-mapping","protocols":["https"],"authenticationSettings":{"oAuth2":{"authorizationServerId":"bentley-oauth","scope":"imodels:read imodels:modify"},"openid":null},"tags":[]}],"api":{"id":"/apis/grouping-and-mapping","name":"grouping-and-mapping","displayName":"Grouping and Mapping","description":"Reduce, categorize, and augment iModel data into optimized representations for consumption by downstream apps.","apiVersion":"v1","apiVersionDescription":null,"apiVersionSet":null,"apiRevision":"77","serviceUrl":"https://dev-connect-insights-data-eus.bentley.com/api/v2","path":"grouping-and-mapping","protocols":["https"],"authenticationSettings":{"oAuth2":{"authorizationServerId":"bentley-oauth","scope":"imodels:read imodels:modify"},"openid":null},"tags":["Data Management","Technology Preview"]},"operationsByTag":[{"tag":"AuditTrail","items":[{"id":"/apis/grouping-and-mapping/operations/get-audittrail-imodel","name":"get-audittrail-imodel","displayName":"Get AuditTrail","description":"---\r\n\r\nGets Audit Trail Entries.\r\n\r\n### Audit Query Parameters\r\n\r\n`iModelId` (required) - scope to query Audit Trail entries from. `imodels_read` permission is required in specified iModel.\r\n\r\n`path` (optional) - hierarchy path to query Audit Trail entries from. All child elements are included. Supported values are:\r\n- mappings\r\n- mappings/{mappingId}\r\n- mappings/{mappingId}/groups\r\n- mappings/{mappingId}/groups/{groupId}\r\n- mappings/{mappingId}/groups/{groupId}/properties\r\n- mappings/{mappingId}/groups/{groupId}/properties/{propertyId}\r\n\r\n`after` (optional) - DateTimeOffset value to return the entries from (inclusive). Suports ISO 8601 format e.g. 2023-07-27T02:55:36.77+01:00\r\n\r\n`before` (optional) - DateTimeOffset value to return the entries up to (inclusive). Suports ISO 8601 format e.g. 2023-07-27T02:55:36.77Z\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/audit","templateParameters":[],"parameters":[{"name":"iModelId","description":"The IModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"path","description":"Query entries in path (recursive).","in":"query","type":"string","values":[],"required":false},{"name":"after","description":"DateTimeOffset value to return the entries from (inclusive).","in":"query","type":"string","values":[],"required":false},{"name":"before","description":"DateTimeOffset value to return the entries up to (inclusive).","in":"query","type":"string","values":[],"required":false},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"number","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"iModelId","description":"The IModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"path","description":"Query entries in path (recursive).","in":"query","type":"string","values":[],"required":false},{"name":"after","description":"DateTimeOffset value to return the entries from (inclusive).","in":"query","type":"string","values":[],"required":false},{"name":"before","description":"DateTimeOffset value to return the entries up to (inclusive).","in":"query","type":"string","values":[],"required":false},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"number","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c6bbb3633ce3f7cd1","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"auditTrailEntries\": [{\r\n        \"timestamp\": \"2023-08-02T10:37:29.4840808+00:00\",\r\n        \"path\": \"mappings/a5c26c0b-ae2b-43b8-b1ff-74399ce8e453\",\r\n        \"userEmail\": \"john.doe@example.com\",\r\n        \"action\": \"Update\",\r\n        \"changes\": [{\r\n                \"property\": \"mappingName\",\r\n                \"oldValue\": \"Mapping_name_old\",\r\n                \"newValue\": \"Mapping_name_new\"\r\n            },\r\n            {\r\n                \"property\": \"extractionEnabled\",\r\n                \"oldValue\": \"false\",\r\n                \"newValue\": \"true\"\r\n            }\r\n        ]\r\n    }],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/audit?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100&$continuationToken=6c7f6c73-cae9-4efa-a195-cc9576a0f4db\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/audit?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"AuditTrailCollection"}],"description":"Retrieved Audit Trail Entries successfully."},{"identifier":"66ce0a7c2a3d336a6a5fac32","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c3a2a5b2e2f677e6d","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)."},{"identifier":"66ce0a7caf749e83cd8f83b7","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/audit?iModelId[&path][&after][&before][&$top][&$continuationToken]","tags":["AuditTrail","Technology Preview"]}]},{"tag":"Data Access","items":[{"id":"/apis/grouping-and-mapping/operations/get-cdm","name":"get-cdm","displayName":"Get CDM","description":"---\r\n\r\nGets the data model of extracted data in Common Data Model (CDM) format.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c9a15f724b3da7c4f","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"name\": \"Insights_and_Reporting_Extractor\",\r\n    \"version\": \"1.0\",\r\n    \"entities\": [{\r\n        \"$type\": \"LocalEntity\",\r\n        \"name\": \"Beam\",\r\n        \"attributes\": [{\r\n                \"name\": \"ECInstanceId\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"ECClassId\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"UserLabel\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"BBoxLow\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"BBoxHigh\",\r\n                \"dataType\": \"string\"\r\n            }\r\n        ],\r\n        \"partitions\": [{\r\n            \"name\": \"part00000\",\r\n            \"location\": \"Beam/part00000.csv\"\r\n        }]\r\n    }]\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"CommonDataModel"}],"description":"OK"},{"identifier":"66ce0a7c5dc8e5cba0ccd398","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c46ee93b84c93d196","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7cf8ebb51b2189935c","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm","tags":["Data Access","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-cdm-partition","name":"get-cdm-partition","displayName":"Get CDM Partition","description":"---\r\n\r\nGets the extracted data in CSV format.\r\n\r\nCSV column order matches the entity attribute order returned by the [Get CDM](/apis/grouping-and-mapping/operations/get-cdm) operation.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm/partitions","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true},{"name":"location","description":"Location string of the partition.","in":"query","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[{"name":"location","description":"Location string of the partition.","in":"query","type":"string","values":[],"required":true}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cd1e550db01f02a58","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"text/csv","example":"0x200000020db,Generic.PhysicalObject,Box,\"{\"\"x\"\":0,\"\"y\"\":0,\"\"z\"\":0}\",\"{\"\"x\"\":1,\"\"y\"\":1,\"\"z\"\":1}\"","schemaId":"grouping-and-mapping-components","typeName":"CDMPartitionResponse"}],"description":"OK"},{"identifier":"66ce0a7ca5ca613bf2a067db","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cd4875e2400d83618","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c128ffcd1fe7d46af","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c39ebdca1cf2da6e3","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm/partitions?location","tags":["Data Access","Technology Preview"]}]},{"tag":"Extraction","items":[{"id":"/apis/grouping-and-mapping/operations/get-extraction-logs","name":"get-extraction-logs","displayName":"Get Extraction Logs","description":"---\r\n\r\nGets the logs of an extraction.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/extractions/{extractionId}/logs","templateParameters":[{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cd0eb5edd912407fe","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"logs\": [{\r\n            \"state\": \"Succeeded\",\r\n            \"dateTime\": \"2022-09-10T13:44:56+00:00\",\r\n            \"contextType\": \"IModel\",\r\n            \"contextId\": \"70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\",\r\n            \"level\": \"Information\",\r\n            \"category\": \"StateChange\",\r\n            \"message\": \"Completed.\"\r\n        },\r\n        {\r\n            \"state\": \"Running\",\r\n            \"dateTime\": \"2022-09-10T13:43:56+00:00\",\r\n            \"contextType\": \"IModel\",\r\n            \"contextId\": \"70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\",\r\n            \"level\": \"Information\",\r\n            \"category\": \"StateChange\",\r\n            \"message\": \"Not completed yet.\"\r\n        }\r\n    ],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03/logs?$top=2&$continuationToken=ddac51e3-3d37-4407-816e-52b9fc80d70a\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03/logs?$top=2\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ExtractionLogsResponse"}],"description":"OK"},{"identifier":"66ce0a7c4c384f36cef123ec","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cc7316e00b9bf62b8","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"ExtractionNotFound\",\r\n        \"message\": \"Requested Extraction is not available.\",\r\n        \"target\": \"extractionId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Extraction was not found."},{"identifier":"66ce0a7cceec316128f76b22","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cb034045f482cad6e","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/extractions/{extractionId}/logs[?$top][&$continuationToken]","tags":["Extraction","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-extraction-status","name":"get-extraction-status","displayName":"Get Extraction Status","description":"---\r\n\r\nGets the status of an extraction.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/extractions/{extractionId}","templateParameters":[{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cb3dd1531ab16d573","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"extraction\": {\r\n        \"id\": \"40f71ed2-31a3-45d3-bce0-5c9f3f112c03\",\r\n        \"state\": \"Succeeded\",\r\n        \"startedOn\": \"2022-09-10T13:44:56+00:00\",\r\n        \"_links\": {\r\n            \"status\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03\"\r\n            },\r\n            \"logs\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03/logs\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ExtractionResponse"}],"description":"OK"},{"identifier":"66ce0a7c4b168b0017683e21","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c25be53f9ac623d24","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"ExtractionNotFound\",\r\n        \"message\": \"Requested Extraction is not available.\",\r\n        \"target\": \"extractionId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Extraction was not found."},{"identifier":"66ce0a7cb426133288a4dadf","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/extractions/{extractionId}","tags":["Extraction","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-imodel-extractions","name":"get-imodel-extractions","displayName":"Get iModel Extractions","description":"---\r\n\r\nGets all of the extractions that were run on a given iModel.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/extractions","templateParameters":[],"parameters":[{"name":"iModelId","description":"The iModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"iModelId","description":"The iModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c0ea838246a5c698c","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"extractions\": [{\r\n        \"id\": \"40f71ed2-31a3-45d3-bce0-5c9f3f112c03\",\r\n        \"state\": \"Succeeded\",\r\n        \"startedOn\": \"2022-09-10T13:44:56+00:00\",\r\n        \"_links\": {\r\n            \"status\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03\"\r\n            },\r\n            \"logs\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03/logs\"\r\n            }\r\n        }\r\n    }],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100&$continuationToken=ddac51e3-3d37-4407-816e-52b9fc80d70a\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ExtractionsResponse"}],"description":"OK"},{"identifier":"66ce0a7c22cfa388f67c6220","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c3447411b1283c55c","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cc7c87a47b75526a7","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/extractions?iModelId[&$top][&$continuationToken]","tags":["Extraction","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/run-extraction","name":"run-extraction","displayName":"Run Extraction","description":"---\r\n\r\nRun extraction of data from an iModel. This operation has two optional request body parameters: `changesetId` and `ecInstanceIds`. If `ecInstanceIds` are provided, only the ECInstances specified will be extracted. You can provide `changesetId` to run the extraction on a specific [changeset](https://www.itwinjs.org/learning/glossary/#changeset).\r\n\r\nIf you do not provide the optional request body parameters:\r\n\r\n- latest changeset will be used for extraction\r\n- all ECInstances will be extracted that are selected by the group queries\r\n\r\n### Extraction Triggers & Configuration\r\n\r\nMappings can be configured with `extractionEnabled` set to `true` or `false`. `true` means that extractions will be automatically executed for the given mapping when a ChangesetGroup is completed (see [`ChangesetGroupCompletedEvent`](/apis/webhooks/#supportedevents)). **Note:** Multiple ChangesetGroups can be completed for a single [Synchronization job](/apis/synchronization/) which will result in multiple automatic extractions.\r\n\r\nIf `extractionEnabled` is set to `false`, the automatic extractions are disabled. However, extractions can still be executed for a specific mapping manually using the [Run Extraction](/apis/grouping-and-mapping/operations/run-extraction) operation and the `mappings` request body parameter. To have a better control over extractions, it is recommended to set `extractionEnabled` to `false` and manually trigger an extraction when a mapping's extracted data is stale and needs to be refreshed.\r\n\r\n### Notes\r\n\r\nData will not be extracted for a mapping if that mapping was already extracted from a newer changeset. If you wish to \"go back in time\" with a mapping and extract data from an older changeset, you will need to copy the mapping and run extraction on the copy.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/extractions","templateParameters":[],"parameters":[],"method":"POST","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"iModelId\": \"70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\",\r\n    \"changesetId\": \"f525c4c77f22f44b694dcce8c86462b10bd9725f\",\r\n    \"mappings\": [{\r\n        \"id\": \"ebbdb3eb-1c0c-4f9f-abd1-5dac8df4ec02\"\r\n    }],\r\n    \"ecInstanceIds\": [\r\n        \"0x1\",\r\n        \"0x2\",\r\n        \"0x3\"\r\n    ]\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"RunExtraction"}]},"responses":[{"identifier":"66ce0a7c0334cde658998dd9","headers":[],"statusCode":{"code":201,"description":"Created"},"representations":[{"contentType":"application/json","example":"{\r\n    \"extraction\": {\r\n        \"id\": \"40f71ed2-31a3-45d3-bce0-5c9f3f112c03\",\r\n        \"state\": \"Queued\",\r\n        \"startedOn\": \"2022-09-10T13:44:56+00:00\",\r\n        \"_links\": {\r\n            \"status\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03\"\r\n            },\r\n            \"logs\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/extractions/40f71ed2-31a3-45d3-bce0-5c9f3f112c03/logs\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ExtractionResponse"}],"description":"OK"},{"identifier":"66ce0a7c6df359e2b0587059","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c3478dc2e79fc2e3a","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to run extraction on the iModel."},{"identifier":"66ce0a7cc0086361b5a1133f","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cdc4825fc0f2d22e5","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/extractions","tags":["Extraction","Technology Preview"]}]},{"tag":"Groups","items":[{"id":"/apis/grouping-and-mapping/operations/create-group","name":"create-group","displayName":"Create Group","description":"---\r\n\r\nCreates a group. A group is a collection of design elements from an iModel represented by an [ECSQL](https://www.itwinjs.org/learning/ecsql/) query. When used for reporting a group represents a single output data table in a report. There are two ways to create a group.\r\n\r\n### Create a group without properties\r\n\r\nTo create a group without properties do not provide the `source` property.\r\n\r\n### Create a group from an existing group\r\n\r\nTo create a group from another group provide the `source` property. The server will create a new group and copy over all properties from the group referenced by the `source` property. User must have `imodels_read` permissions to the iModel containing the source group. Changing source group or its properties will not change the copies of them.\r\n\r\nProvided `groupName`, `description`, `query`, `metadata` request body properties will overwrite the properties on the copied group.\r\n\r\n### Note\r\n\r\nThe `query` request body property must be provided even when copying a group. Provide the source group query in the request when copying a group if you want to keep the same query.\r\n\r\n### Group Query\r\n\r\nThe `query` parameter of a Group must be a valid ECSQL query.\r\n\r\nIf a valid ECSQL query is given and the selected class is `bis.Element`, or if it is a descendant of the class `bis.Element`, the only required column is `ECInstanceId`. However, it is recommended to always select at least `ECInstanceId` and `ECClassId` columns.\r\n\r\n- `SELECT * FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT * FROM Building.Beam` is a valid query\r\n- `SELECT ECInstanceId, ECClassId FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECInstanceId, ECClassId FROM Building.Beam` is valid\r\n- `SELECT ECClassId FROM bis.Element` is _not_ a valid query because ECInstanceId column is missing\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECClassId FROM Building.Beam` is _not_ valid because ECInstanceId column is missing\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT A.ECInstanceId ECInstanceId FROM bis.Element E JOIN Building.BeamAspect A ON A.Element.id = E.ECInstanceId` is _not_ valid because the selected `ECInstanceId` is of the aspect, not the element\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id FROM Building.BeamAspect` is _not_ valid because the selected column's name is not `ECInstanceId`\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id ECInstanceId FROM Building.BeamAspect` is valid\r\n\r\nIn all other cases the provided ECSQL query is required to select `ECInstanceId` and `ECClassId`. If `ECClassId` is omitted, the service assumes that query selects elements from the `bis.Element` class or its descendants. In some cases the results might be unexpected, e.g., you assume that you are querying `bis.ElementAspect` but you only select `ECInstanceId` so the service only selects the elements that have a matching `ECInstanceId`. Because of this it is always recommended to select both `ECInstanceId` and `ECClassId`.\r\n\r\nIf different queries are needed for a single output table, then create multiple groups with those different queries but with the same name for each group. That will cause results of all these queries to be concatenated into a single output table. The output table will have column list equal to a union of all properties of groups with the same name. The result rows will be concatenated one after another. If groups are overlapping and multiple groups select the same element the result will contain duplicates.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"method":"POST","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"groupName\": \"PhysicalElements\",\r\n    \"description\": \"A group of physical elements\",\r\n    \"query\": \"SELECT ECInstanceId, ECClassId FROM BisCore.PhysicalElement\",\r\n    \"metadata\": [{\r\n            \"key\": \"key1\",\r\n            \"value\": \"value1\"\r\n        },\r\n        {\r\n            \"key\": \"key2\",\r\n            \"value\": \"value2\"\r\n        }\r\n    ],\r\n    \"source\": {\r\n        \"mappingId\": \"f1fe5959-35ab-467e-83b8-a679b722d80f\",\r\n        \"groupId\": \"08f252c4-ee78-4e2b-9280-f7365400b932\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"GroupCreate"}]},"responses":[{"identifier":"66ce0a7c37c649a06b9aaaa2","headers":[],"statusCode":{"code":201,"description":"Created"},"representations":[{"contentType":"application/json","example":"{\r\n    \"group\": {\r\n        \"id\": \"08f252c4-ee78-4e2b-9280-f7365400b932\",\r\n        \"groupName\": \"PhysicalElements\",\r\n        \"description\": \"A group of physical elements\",\r\n        \"query\": \"SELECT ECInstanceId, ECClassId FROM BisCore.PhysicalElement\",\r\n        \"metadata\": [{\r\n                \"key\": \"key1\",\r\n                \"value\": \"value1\"\r\n            },\r\n            {\r\n                \"key\": \"key2\",\r\n                \"value\": \"value2\"\r\n            }\r\n        ],\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"GroupResponse"}],"description":"OK"},{"identifier":"66ce0a7cdafb91d084341f1b","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c9be9ff010b33a74e","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to create a Group."},{"identifier":"66ce0a7cb1b507970ffefe3e","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7c2d0c4ed0ce64ba4e","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c76fb43ababc10d39","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups","tags":["Groups","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/delete-group","name":"delete-group","displayName":"Delete Group","description":"---\r\n\r\nDeletes a group.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"method":"DELETE","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7ca39b38c907710000","headers":[],"statusCode":{"code":204,"description":"No Content"},"representations":[],"description":"Deleted a Group successfully."},{"identifier":"66ce0a7c82270ed515332d2c","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cf006a40ac7f78d5d","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to delete a Group."},{"identifier":"66ce0a7caee41ae983a6d5db","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c53d8c4c6523f4812","headers":[],"statusCode":{"code":409,"description":"Conflict"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"GroupInUse\",\r\n        \"message\": \"Group is currently in use.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified group is currently in use."},{"identifier":"66ce0a7cea661c3c72ecebe5","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","tags":["Groups","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-group","name":"get-group","displayName":"Get Group","description":"---\r\n\r\nRetrieves a group.\r\n\r\n### Group Query\r\n\r\nThe `query` parameter of a Group must be a valid ECSQL query.\r\n\r\nIf a valid ECSQL query is given and the selected class is `bis.Element`, or if it is a descendant of the class `bis.Element`, the only required column is `ECInstanceId`. However, it is recommended to always select at least `ECInstanceId` and `ECClassId` columns.\r\n\r\n- `SELECT * FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT * FROM Building.Beam` is a valid query\r\n- `SELECT ECInstanceId, ECClassId FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECInstanceId, ECClassId FROM Building.Beam` is valid\r\n- `SELECT ECClassId FROM bis.Element` is _not_ a valid query because ECInstanceId column is missing\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECClassId FROM Building.Beam` is _not_ valid because ECInstanceId column is missing\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT A.ECInstanceId ECInstanceId FROM bis.Element E JOIN Building.BeamAspect A ON A.Element.id = E.ECInstanceId` is _not_ valid because the selected `ECInstanceId` is of the aspect, not the element\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id FROM Building.BeamAspect` is _not_ valid because the selected column's name is not `ECInstanceId`\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id ECInstanceId FROM Building.BeamAspect` is valid\r\n\r\nIn all other cases the provided ECSQL query is required to select `ECInstanceId` and `ECClassId`. If `ECClassId` is omitted, the service assumes that query selects elements from the `bis.Element` class or its descendants. In some cases the results might be unexpected, e.g., you assume that you are querying `bis.ElementAspect` but you only select `ECInstanceId` so the service only selects the elements that have a matching `ECInstanceId`. Because of this it is always recommended to select both `ECInstanceId` and `ECClassId`.\r\n\r\nIf different queries are needed for a single output table, then create multiple groups with those different queries but with the same name for each group. That will cause results of all these queries to be concatenated into a single output table. The output table will have column list equal to a union of all properties of groups with the same name. The result rows will be concatenated one after another. If groups are overlapping and multiple groups select the same element the result will contain duplicates.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cb1d46b4f0c6b2f34","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"group\": {\r\n        \"id\": \"08f252c4-ee78-4e2b-9280-f7365400b932\",\r\n        \"groupName\": \"PhysicalElements\",\r\n        \"description\": \"A group of physical elements\",\r\n        \"query\": \"SELECT ECInstanceId, ECClassId FROM BisCore.PhysicalElement\",\r\n        \"metadata\": [{\r\n                \"key\": \"key1\",\r\n                \"value\": \"value1\"\r\n            },\r\n            {\r\n                \"key\": \"key2\",\r\n                \"value\": \"value2\"\r\n            }\r\n        ],\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"GroupResponse"}],"description":"OK"},{"identifier":"66ce0a7cab3f09788c778377","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cf74ae9a03823e620","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c258d9120b568b117","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","tags":["Groups","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-groups","name":"get-groups","displayName":"Get Groups","description":"---\r\n\r\nGets all groups of a mapping.\r\n\r\n### Notes\r\n\r\nThe `Prefer` header can be used to specify how much result metadata is desired by the client. The `Prefer` request header field is used to indicate that particular server behaviors are preferred by the client but are not required for successful completion of the request.\r\n\r\nThis operation supports `\"return=representation\"` and `\"return=minimal\"` preferences.\r\n\r\nThe `\"return=representation\"` preference indicates that the client prefers that the server include an entity representing the current state of the resource in the response to a successful request.\r\nThe `\"return=minimal\"` preference indicates that the client wishes the server to return only a minimal response to a successful request. This is the default preference if `Prefer` header is not specified.\r\n\r\n### Group Query\r\n\r\nThe `query` parameter of a Group must be a valid ECSQL query.\r\n\r\nIf a valid ECSQL query is given and the selected class is `bis.Element`, or if it is a descendant of the class `bis.Element`, the only required column is `ECInstanceId`. However, it is recommended to always select at least `ECInstanceId` and `ECClassId` columns.\r\n\r\n- `SELECT * FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT * FROM Building.Beam` is a valid query\r\n- `SELECT ECInstanceId, ECClassId FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECInstanceId, ECClassId FROM Building.Beam` is valid\r\n- `SELECT ECClassId FROM bis.Element` is _not_ a valid query because ECInstanceId column is missing\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECClassId FROM Building.Beam` is _not_ valid because ECInstanceId column is missing\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT A.ECInstanceId ECInstanceId FROM bis.Element E JOIN Building.BeamAspect A ON A.Element.id = E.ECInstanceId` is _not_ valid because the selected `ECInstanceId` is of the aspect, not the element\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id FROM Building.BeamAspect` is _not_ valid because the selected column's name is not `ECInstanceId`\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id ECInstanceId FROM Building.BeamAspect` is valid\r\n\r\nIn all other cases the provided ECSQL query is required to select `ECInstanceId` and `ECClassId`. If `ECClassId` is omitted, the service assumes that query selects elements from the `bis.Element` class or its descendants. In some cases the results might be unexpected, e.g., you assume that you are querying `bis.ElementAspect` but you only select `ECInstanceId` so the service only selects the elements that have a matching `ECInstanceId`. Because of this it is always recommended to select both `ECInstanceId` and `ECClassId`.\r\n\r\nIf different queries are needed for a single output table, then create multiple groups with those different queries but with the same name for each group. That will cause results of all these queries to be concatenated into a single output table. The output table will have column list equal to a union of all properties of groups with the same name. The result rows will be concatenated one after another. If groups are overlapping and multiple groups select the same element the result will contain duplicates.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true},{"name":"Prefer","description":"Indicates a level of details in the response. This operation supports 'return=representation' and 'return=minimal' preferences.","in":"header","defaultValue":"return=minimal","values":[],"required":false}],"representations":[]},"responses":[{"identifier":"66ce0a7c49dc65cff826e901","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"GroupsMinimalResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"GroupsResponse"}],"description":"OK"},{"identifier":"66ce0a7c4246d23b38a96dfa","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c442d927c63af4d2b","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7cf81e0e6d783e6b86","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c151b2cb971d971e3","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups[?$top][&$continuationToken]","tags":["Groups","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/update-group","name":"update-group","displayName":"Update Group","description":"---\r\n\r\nUpdates a group.\r\n\r\n### Group Query\r\n\r\nThe `query` parameter of a Group must be a valid ECSQL query.\r\n\r\nIf a valid ECSQL query is given and the selected class is `bis.Element`, or if it is a descendant of the class `bis.Element`, the only required column is `ECInstanceId`. However, it is recommended to always select at least `ECInstanceId` and `ECClassId` columns.\r\n\r\n- `SELECT * FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT * FROM Building.Beam` is a valid query\r\n- `SELECT ECInstanceId, ECClassId FROM bis.Element` is a valid query\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECInstanceId, ECClassId FROM Building.Beam` is valid\r\n- `SELECT ECClassId FROM bis.Element` is _not_ a valid query because ECInstanceId column is missing\r\n- Assuming that class `Building.Beam` is a descendant of the class `bis.Element`, the query `SELECT ECClassId FROM Building.Beam` is _not_ valid because ECInstanceId column is missing\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT A.ECInstanceId ECInstanceId FROM bis.Element E JOIN Building.BeamAspect A ON A.Element.id = E.ECInstanceId` is _not_ valid because the selected `ECInstanceId` is of the aspect, not the element\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id FROM Building.BeamAspect` is _not_ valid because the selected column's name is not `ECInstanceId`\r\n- Assuming that `Building.BeamAspect` is an aspect, the query `SELECT Element.id ECInstanceId FROM Building.BeamAspect` is valid\r\n\r\nIn all other cases the provided ECSQL query is required to select `ECInstanceId` and `ECClassId`. If `ECClassId` is omitted, the service assumes that query selects elements from the `bis.Element` class or its descendants. In some cases the results might be unexpected, e.g., you assume that you are querying `bis.ElementAspect` but you only select `ECInstanceId` so the service only selects the elements that have a matching `ECInstanceId`. Because of this it is always recommended to select both `ECInstanceId` and `ECClassId`.\r\n\r\nIf different queries are needed for a single output table, then create multiple groups with those different queries but with the same name for each group. That will cause results of all these queries to be concatenated into a single output table. The output table will have column list equal to a union of all properties of groups with the same name. The result rows will be concatenated one after another. If groups are overlapping and multiple groups select the same element the result will contain duplicates.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"method":"PATCH","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"groupName\": \"AllElements\",\r\n    \"description\": \"Updated description\",\r\n    \"query\": \"SELECT ECInstanceId, ECClassId FROM BisCore.Element\",\r\n    \"metadata\": [{\r\n            \"key\": \"key1\",\r\n            \"value\": \"value1\"\r\n        },\r\n        {\r\n            \"key\": \"key2\",\r\n            \"value\": \"value2\"\r\n        }\r\n    ]\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"GroupUpdate"}]},"responses":[{"identifier":"66ce0a7ca6db68b1aa1f3dce","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"group\": {\r\n        \"id\": \"08f252c4-ee78-4e2b-9280-f7365400b932\",\r\n        \"groupName\": \"AllElements\",\r\n        \"description\": \"Updated description\",\r\n        \"query\": \"SELECT ECInstanceId, ECClassId FROM BisCore.Element\",\r\n        \"metadata\": [{\r\n                \"key\": \"key1\",\r\n                \"value\": \"value1\"\r\n            },\r\n            {\r\n                \"key\": \"key2\",\r\n                \"value\": \"value2\"\r\n            }\r\n        ],\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"GroupResponse"}],"description":"OK"},{"identifier":"66ce0a7cc0368dbb85f94fb2","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c487175c1b6d2fe59","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to update a Group."},{"identifier":"66ce0a7cc5ca84110fe0b8a5","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c5d28754de1c61903","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cfcdefa3df41f174f","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}","tags":["Groups","Technology Preview"]}]},{"tag":"Mappings","items":[{"id":"/apis/grouping-and-mapping/operations/create-mapping","name":"create-mapping","displayName":"Create Mapping","description":"---\r\n\r\nCreates a mapping for an iModel. There are two ways to create a mapping.\r\n\r\n### Create an empty mapping\r\n\r\nTo create an empty mapping do not provide the `sourceMappingId` property. This will create a new mapping that does not have any groups.\r\n\r\n### Create a mapping from an existing mapping\r\n\r\nTo create a mapping from another mapping provide the `sourceMappingId` property. The server will create a new mapping and copy over all of the groups with their properties from the mapping referenced by the `sourceMappingId` property. User must have `imodels_read` permissions to the iModel containing the source mapping. Changing source mapping, groups, or their properties will not change the copies of them.\r\n\r\nProvided `mappingName`, `description`, `extractionEnabled` request body properties will overwrite the properties on the copied mapping.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Extraction Triggers & Configuration\r\n\r\nMappings can be configured with `extractionEnabled` set to `true` or `false`. `true` means that extractions will be automatically executed for the given mapping when a ChangesetGroup is completed (see [`ChangesetGroupCompletedEvent`](/apis/webhooks/#supportedevents)). **Note:** Multiple ChangesetGroups can be completed for a single [Synchronization job](/apis/synchronization/) which will result in multiple automatic extractions.\r\n\r\nIf `extractionEnabled` is set to `false`, the automatic extractions are disabled. However, extractions can still be executed for a specific mapping manually using the [Run Extraction](/apis/grouping-and-mapping/operations/run-extraction) operation and the `mappings` request body parameter. To have a better control over extractions, it is recommended to set `extractionEnabled` to `false` and manually trigger an extraction when a mapping's extracted data is stale and needs to be refreshed.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings","templateParameters":[],"parameters":[],"method":"POST","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"MappingCreate"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"MappingCreate"}]},"responses":[{"identifier":"66ce0a7c161ccaaa8f84a0ad","headers":[],"statusCode":{"code":201,"description":"Created"},"representations":[{"contentType":"application/json","example":"{\r\n    \"mapping\": {\r\n        \"id\": \"f1fe5959-35ab-467e-83b8-a679b722d80f\",\r\n        \"mappingName\": \"Mapping_name\",\r\n        \"description\": \"Mapping schema for iModel\",\r\n        \"extractionEnabled\": true,\r\n        \"createdOn\": \"2021-09-03T10:48:45+00:00\",\r\n        \"createdBy\": \"john.doe@example.com\",\r\n        \"modifiedOn\": \"2022-01-10T13:44:56+00:00\",\r\n        \"modifiedBy\": \"john.doe@example.com\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingResponse"}],"description":"OK"},{"identifier":"66ce0a7c717d3d0f0f5e12f8","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cc563441241a288b7","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to create a Mapping."},{"identifier":"66ce0a7c54fce83eef17ce65","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c17a86c570821b139","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings","tags":["Mappings","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/delete-mapping","name":"delete-mapping","displayName":"Delete Mapping","description":"---\r\n\r\nDeletes a mapping.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"method":"DELETE","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c08834a42da3ab23f","headers":[],"statusCode":{"code":204,"description":"No Content"},"representations":[],"description":"Deleted a Mapping successfully."},{"identifier":"66ce0a7cbdb189a0cbe73682","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c09c2c1637814cfed","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to delete a Mapping."},{"identifier":"66ce0a7cca83d7c843ca4bad","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7cb70a397651fc6a49","headers":[],"statusCode":{"code":409,"description":"Conflict"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingInUse\",\r\n        \"message\": \"Mapping is currently in use.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified mapping or any of associated groups is currently in use."},{"identifier":"66ce0a7cf2fd3cba00d54e01","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}","tags":["Mappings","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-mapping","name":"get-mapping","displayName":"Get Mapping","description":"---\r\n\r\nRetrieves a mapping.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cc0cbcf61f882c4d9","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"mapping\": {\r\n        \"id\": \"f1fe5959-35ab-467e-83b8-a679b722d80f\",\r\n        \"mappingName\": \"Mapping_name\",\r\n        \"description\": \"Mapping schema for iModel\",\r\n        \"extractionEnabled\": true,\r\n        \"createdOn\": \"2021-09-03T10:48:45+00:00\",\r\n        \"createdBy\": \"john.doe@example.com\",\r\n        \"modifiedOn\": \"2022-01-10T13:44:56+00:00\",\r\n        \"modifiedBy\": \"john.doe@example.com\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingResponse"}],"description":"OK"},{"identifier":"66ce0a7c59245802428c8ec7","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c9092d75c397274b7","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7ca35fdd252054a600","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}","tags":["Mappings","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-mapping-extractions","name":"get-mapping-extractions","displayName":"Get Mapping Extractions","description":"---\r\n\r\nGets a list of extractions executed on a mapping.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c9545b27c8ac2a43b","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"extractions\": [{\r\n        \"extractionId\": \"d4ca244b-81c8-4146-934d-e5936345bba2\",\r\n        \"extractionTimestamp\": \"2023-01-10T13:44:56+00:00\",\r\n        \"changesetIndex\": 5,\r\n        \"mappingTimestamp\": \"2022-01-10T13:44:56+00:00\",\r\n        \"_links\": {\r\n            \"cdm\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/extractions/d4ca244b-81c8-4146-934d-e5936345bba2/cdm\"\r\n            }\r\n        }\r\n    }],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/extractions?$top=100&$continuationToken=ddac51e3-3d37-4407-816e-52b9fc80d70a\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/extractions?$top=100\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingExtractionsResponse"}],"description":"OK"},{"identifier":"66ce0a7c0b299807e102cefd","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cd79c56fabdc1b695","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7cd20e9a1a6bfd7e2a","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c330be9f2f57d1c97","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions[?$top][&$continuationToken]","tags":["Mappings","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-mappings","name":"get-mappings","displayName":"Get Mappings","description":"---\r\n\r\nGets all mappings of an iModel.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings","templateParameters":[],"parameters":[{"name":"iModelId","description":"The iModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"iModelId","description":"The iModel Id.","in":"query","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7cc40602492e817c20","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"mappings\": [{\r\n        \"id\": \"f1fe5959-35ab-467e-83b8-a679b722d80f\",\r\n        \"mappingName\": \"Mapping_name\",\r\n        \"description\": \"Mapping schema for iModel\",\r\n        \"extractionEnabled\": true,\r\n        \"createdOn\": \"2021-09-03T10:48:45+00:00\",\r\n        \"createdBy\": \"john.doe@example.com\",\r\n        \"modifiedOn\": \"2022-01-10T13:44:56+00:00\",\r\n        \"modifiedBy\": \"john.doe@example.com\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            }\r\n        }\r\n    }],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100&$continuationToken=ddac51e3-3d37-4407-816e-52b9fc80d70a\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/?iModelId=70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a&$top=100\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingsResponse"}],"description":"OK"},{"identifier":"66ce0a7cb27ccdcf4ed2015b","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c519b6182d8014ab5","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7c3ff1ec9145f2904a","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings?iModelId[&$top][&$continuationToken]","tags":["Mappings","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/update-mapping","name":"update-mapping","displayName":"Update Mapping","description":"---\r\n\r\nUpdates a mapping.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Extraction Triggers & Configuration\r\n\r\nMappings can be configured with `extractionEnabled` set to `true` or `false`. `true` means that extractions will be automatically executed for the given mapping when a ChangesetGroup is completed (see [`ChangesetGroupCompletedEvent`](/apis/webhooks/#supportedevents)). **Note:** Multiple ChangesetGroups can be completed for a single [Synchronization job](/apis/synchronization/) which will result in multiple automatic extractions.\r\n\r\nIf `extractionEnabled` is set to `false`, the automatic extractions are disabled. However, extractions can still be executed for a specific mapping manually using the [Run Extraction](/apis/grouping-and-mapping/operations/run-extraction) operation and the `mappings` request body parameter. To have a better control over extractions, it is recommended to set `extractionEnabled` to `false` and manually trigger an extraction when a mapping's extracted data is stale and needs to be refreshed.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true}],"method":"PATCH","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"mappingName\": \"UpdatedName\",\r\n    \"description\": \"Updated description\",\r\n    \"extractionEnabled\": false\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingUpdate"}]},"responses":[{"identifier":"66ce0a7c1924f1ab0bba8046","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"mapping\": {\r\n        \"id\": \"f1fe5959-35ab-467e-83b8-a679b722d80f\",\r\n        \"mappingName\": \"Mapping_name\",\r\n        \"description\": \"Mapping schema for iModel\",\r\n        \"extractionEnabled\": true,\r\n        \"createdOn\": \"2021-09-03T10:48:45+00:00\",\r\n        \"createdBy\": \"john.doe@example.com\",\r\n        \"modifiedOn\": \"2022-01-10T13:44:56+00:00\",\r\n        \"modifiedBy\": \"john.doe@example.com\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"MappingResponse"}],"description":"OK"},{"identifier":"66ce0a7c2a7cb77348ebe47c","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cb8817bbe48dfbf86","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to update a Mapping."},{"identifier":"66ce0a7cb712c4643c0f26dd","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"MappingNotFound\",\r\n        \"message\": \"Requested Mapping is not available.\",\r\n        \"target\": \"mappingId\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified Mapping was not found."},{"identifier":"66ce0a7c7ffa6f7bdb4d84be","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cd63f8254e4095f30","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}","tags":["Mappings","Technology Preview"]}]},{"tag":"Properties","items":[{"id":"/apis/grouping-and-mapping/operations/create-property","name":"create-property","displayName":"Create Property","description":"---\r\n\r\nCreates a property. If group is a table, then property of that group is a column. Properties can be mapped from existing iModel ECProperties, calculated using a predefined list of calculations, or calculated using your own mathematical formula.\r\n\r\nSource of the property value in the output is defined by the `ecProperties`, `calculatedPropertyType`, and `formula` values on a property. You can provide any combination of these properties. If you do not provided any of them, the output value will always be null. Such properties can be used as placeholders or to define an output schema before any property mapping is done. However, when you provide 2 or more of these properties they are evaluated in this order until a valid value (not null or undefined) is found:\r\n\r\n1. `ecProperties`\r\n2. `calculatedPropertyType`\r\n3. `formula`\r\n\r\nProperty values are assigned during data extraction. To start the data extraction use [Run Extraction](/apis/insights/operations/run-extraction) operation.\r\n\r\n### Mapping ECProperties\r\n\r\nMapping property values from an iModel ECProperties to the output columns is achieved by defining the `ecProperties` array. It allows mapping the queried, element, element aspect, or related element properties.\r\n\r\nThe `ecProperties` property is a prioritized array which contains `ECPropertyReference` objects. The closer the `ECPropertyReference` is to the array's start, the higher the priority. The priority of `ECPropertyReference` can be changed by reordering the `ecProperties` array. Reading of the `ecProperties` array stops when a valid value is found. For example, if the `ecProperties` array contains two entries and the first entry results in a null or undefined value, it will take the second entry. The value can be undefined if the given `ECPropertyReference` references an ECProperty which does not exist. The result column will be filled with a null value if no valid value was found.\r\n\r\nEvaluating `ecProperties` is prioritized by:\r\n\r\n1. Queried properties\r\n2. Element properties\r\n3. Element aspect properties\r\n\r\nHaving queried properties as the highest priority allows for constant or complex values to be added to a mapping.\r\n\r\nECProperty lookup is defined by three values - `ecSchemaName`, `ecClassName`, and `ecPropertyName`.\r\n\r\n`ecSchemaName` and `ecClassName` are used together to create an ECClassId which is the ECClassId of the current row selected by the group query. If the ECClassId of a selected row does not match the `ecSchemaName` and `ecClassName` pair, the value for this ECProperty is considered undefined. If the formed ECClassId is of an element aspect, the current selected row is an element, and there is only one instance of that element aspect related to the element, the property lookup is done on the element aspect.\r\n\r\nBoth `ecSchemaName` and `ecClassName` can be set to a wildcard value `*`.\r\n\r\n- If the value of `ecSchemaName` is `*` and the value of `ecClassName` is `Beam`, then it will match any `Beam` class from any ECSchema (e.g. `Building.Beam`, `Structural.Beam`, etc.)\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `*`, then it will match any class from the ECSchema `Building` (e.g. `Building.Beam`, `Building.CurtainWall`, etc.)\r\n- If values of `ecSchemaName` and `ecClassName` are `*`, then it will match any ECClassId (e.g. `Building.Beam`, `Structural.Column`, etc.)\r\n- If either value of `ecSchemaName` or `ecClassName` are `*`, then no element aspect lookup is done\r\n\r\nClass inheritance is checked if there is no wildcard value.\r\n\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `StructuralMember`, then it will match any ECClassId which inherits `Building.StructuralMember` (e.g. `Building.Beam` which inherits `Building.StructuralMember`, `Building.Column` which inherits `Building.StructuralMember`, etc.)\r\n- If `ecSchemaName` or `ecClassName` is a wildcard, then inheritance will not be checked\r\n\r\nSet `ecPropertyName` to a ECProperty name that you want to select. The value of `ecPropertyName` can also be a path defining how to find an ECProperty. The path segments must be separated by a period (.). The path can contain the names of:\r\n\r\n- A navigation property\r\n- A struct property\r\n- A string property that happens to contain a string representation of a json object\r\n- A property inside the selected json\r\n\r\nNames of properties are not case sensitive. If json object does not have duplicate property names which only differ in letter casing, then those json properties are not case sensitive. We recommend treating json properties as case sensitive.\r\n\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category` or `category`, then the whole value `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` will be selected\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category.id`, then only the id value `0x2000000000b` will be selected\r\n- If `Category` property is a navigation property and it points to a row that has a property `CodeValue` that we want to select, the `ecPropertyName` should be set to `Category.CodeValue`\r\n- If `Model` property is a navigation property and it points to a row that has a property `JsonProperties` with a value `{\"formatter\":{\"mastUnit\":{\"label\":\"m\"}}}` and we want to select the master unit label, the `ecPropertyName` should be set to `Model.JsonProperties.formatter.mastUnit.label`. The result will be `m`\r\n\r\n### Calculation types\r\n\r\nProperty can be configured to calculate various element dimensions by setting the `calculatedPropertyType` value.\r\n\r\nList of all available calculation types:\r\n\r\n- `Length` - calculation of a linear element length or a perimeter of a geometric element that does not have a volume. For elements that have a volume use `BoundingBox` calculations to approximate the length.\r\n- `Area` - calculation of a geometric element's surface area.\r\n- `Volume` - calculation of a geometric element's volume.\r\n- `BoundingBoxLongestEdgeLength` - calculation that gives the longest edge length of an element aligned bounding box.\r\n- `BoundingBoxIntermediateEdgeLength` - calculation that gives the edge length that is not the longest nor the shortest of an element aligned bounding box.\r\n- `BoundingBoxShortestEdgeLength` - calculation that gives the shortest edge length of an element aligned bounding box.\r\n- `BoundingBoxDiagonalLength` - calculation that gives the distance between 2 opposite corners of the element aligned bounding box.\r\n- `BoundingBoxLongestFaceDiagonalLength` - calculation that gives the longest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n- `BoundingBoxIntermediateFaceDiagonalLength` - calculation that gives the distance between 2 opposite corners of a face on the element aligned bounding box that is not the longest nor the shortest.\r\n- `BoundingBoxShortestFaceDiagonalLength` - calculation that gives the shortest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n\r\nCalculation types that start with `BoundingBox` use element aligned bounding boxes. They can be used for approximations of geometric element dimensions when there are no available properties that would have exact dimensions. Some errors may occur due to bounding boxes not being a perfect fit for the surrounded element.\r\n\r\n### Custom calculations\r\n\r\nProperty can be configured to evaluate a custom mathematical formula that you provide by setting the `formula` property.\r\n\r\nThe `formula` supports using other group properties as variables. Recursive formulas are not supported, i.e., `formula` containing a variable `X` is not supported inside a property with a `propertyName` equal to `X`.\r\n\r\nSupported data types:\r\n\r\n- Double - describes a real number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Integer - describes an integer number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Boolean - describes a logical value which is either true or false. When converted to a number in certain operators `true` becomes `1` and `false` becomes `0`\r\n- String - describes text. When converted to a boolean value in logical operators an empty string becomes `false` and all other strings become `true`\r\n\r\nAll of the supported data types can have no value which means that the value is `null`. Some operations support `null` values but those which do not will return `null` as the result.\r\n\r\nSupported operators:\r\n\r\n| Symbol | Name | Precedence | Associativity | Operand Types | Can receive null | Result |\r\n|--|--|--|--|--|--|--|\r\n| Unary `-` | Unary negation | 9 | Right | Numbers and booleans | No | Number |\r\n| `!` | Logical not | 9 | Right | All data types | No | Boolean |\r\n| `**` | Exponentiation | 8 | Right | Numbers and booleans | No | Number |\r\n| `*` | Multiplication | 7 | Left | Numbers and booleans | No | Number |\r\n| `/` | Division | 7 | Left | Numbers and booleans | No | Number |\r\n| `%` | Remainder | 7 | Left | Numbers and booleans | No | Number |\r\n| `+` | Addition | 6 | Left | All data types | No | Number or string if one of the operands is a string |\r\n| Binary `-` | Subtraction | 6 | Left | Numbers and booleans | No | Number |\r\n| `<` | Less than | 5 | Left | All data types | No | Boolean |\r\n| `<=` | Less than or equal | 5 | Left | All data types | No | Boolean |\r\n| `>` | Greater than | 5 | Left | All data types | No | Boolean |\r\n| `>=` | Greater than or equal | 5 | Left | All data types | No | Boolean |\r\n| `==` | Equality | 4 | Left | All data types | Yes | Boolean |\r\n| `!=` | Inequality | 4 | Left | All data types | Yes | Boolean |\r\n| `&&` | Logical and | 3 | Left | All data types | No | Boolean |\r\n| `\\|\\|` | Logical or | 2 | Left | All data types | No | Boolean |\r\n\r\nParenthesis `(` and `)` can be used to change the precedence of operations. Variables, constants, and functions have a precedence of 1 and left associativity.\r\n\r\nSupported constants:\r\n\r\n- `E` - Euler's constant and the base of natural logarithms (approx. 2.718)\r\n- `LN2` - natural logarithm of 2 (approx. 0.693)\r\n- `LN10` - natural logarithm of 10 (approx. 2.303)\r\n- `LOG2E` - base-2 logarithm of `E` (approx. 1.443)\r\n- `PI` - ratio of a circle's circumference to its diameter (approx. 3.14159)\r\n- `SQRT1_2` - square root of ½ (approx. 0.707)\r\n- `SQRT2` - square root of 2 (approx. 1.414)\r\n\r\nSupported numeric constant formats:\r\n\r\n- Decimal, e.g., `123` or `1.123`\r\n- Binary (base 2), e.g., `0b1010`\r\n- Octal (base 8), e.g., `0o1234567`\r\n- Hexadecimal (base 16), e.g., `0x123af`\r\n- Scientific notation, e.g., `1.123e+3`\r\n\r\nSupported string literal formats:\r\n\r\n- Single quotation marks, e.g., `'Column'`\r\n- Double quotation marks, e.g., `\"Column\"`\r\n- Backticks, e.g., `` `Column` ``\r\n\r\nSupported boolean formats:\r\n\r\n- True, e.g., `true`\r\n- False, e.g., `false`\r\n\r\nSupported null format:\r\n\r\n- Null, e.g., `null`\r\n\r\nAn escape character `\\` can be used to escape special characters in string literals. Supported escape sequences:\r\n\r\n- `\\'` - single quotation mark\r\n- `\\\"` - double quotation mark\r\n- `` \\` `` - backtick\r\n- `\\\\` - backslash\r\n- `\\n` - newline character\r\n- `\\t` - tab character\r\n\r\nIf an unsupported escape sequence is found, then the escape character is dropped, e.g., `\\d` becomes `d`.\r\n\r\nSupported numerical functions:\r\n\r\n- `abs(x)` - returns the absolute value of `x`\r\n- `acos(x)` - returns the arccosine of `x`\r\n- `acosh(x)` - returns the hyperbolic arccosine of `x`\r\n- `asin(x)` - returns the arcsine of `x`\r\n- `asinh(x)` - returns the hyperbolic arcsine of `x`\r\n- `atan(x)` - returns the arctangent of `x`\r\n- `atanh(x)` - returns the hyperbolic arctangent of `x`\r\n- `atan2(y, x)` - returns the arctangent of the quotient of `y` divided by `x`\r\n- `cbrt(x)` - returns the cube root of `x`\r\n- `ceil(x)` - returns the smallest integer greater than or equal to `x`\r\n- `clz32(x)` - returns the number of leading zero bits of the 32-bit integer `x`\r\n- `cos(x)` - returns the cosine of `x`\r\n- `cosh(x)` - returns the hyperbolic cosine of `x`\r\n- `exp(x)` - returns `E ** x` or `pow(E, x)`, where `x` is the argument, and `E` is Euler's constant (2.718…, the base of the natural logarithm)\r\n- `expm1(x)` - returns subtracting 1 from `exp(x)`\r\n- `floor(x)` - returns the largest integer less than or equal to `x`\r\n- `fround(x)` - returns the nearest single precision float representation of `x`\r\n- `hypot(x, y[, z[, …]])` - returns the square root of the sum of squares of its arguments\r\n- `imul(x, y)` - returns the result of the 32-bit integer multiplication of `x` and `y`\r\n- `log(x)` - returns the natural logarithm of `x`\r\n- `log1p(x)` - returns the natural logarithm of `1 + x`\r\n- `log10(x)` - returns the base-10 logarithm of `x`\r\n- `log2(x)` - returns the base-2 logarithm of `x`\r\n- `max(x, y[, z[, …]])` - returns the largest of 2 or more numbers\r\n- `min(x, y[, z[, …]])` - returns the smallest of 2 or more numbers\r\n- `pow(x, y)` - returns base `x` to the exponent power `y` (i.e., `x**y`)\r\n- `random()` - returns a pseudo-random number between 0 and 1. The value only changes between different output tables. All rows within a single output table get the same value\r\n- `round(x)` - returns the value of the number `x` rounded to the nearest integer\r\n- `sign(x)` - returns the sign of the `x`, indicating whether `x` is positive (`1`), negative (`-1`), or zero (`0`)\r\n- `sin(x)` - returns the sine of `x`\r\n- `sinh(x)` - returns the hyperbolic sine of `x`\r\n- `sqrt(x)` - returns the positive square root of `x`\r\n- `tan(x)` - returns the tangent of `x`\r\n- `tanh(x)` - returns the hyperbolic tangent of `x`\r\n- `trunc(x)` - returns the integer portion of `x`, removing any fractional digits\r\n\r\nSupported string functions:\r\n\r\n- `charat(str, index)` - returns exactly one character at the specified index. Accepts negative integers, which count back from the last string character\r\n- `concat(str , ...strN)` - combines the text of two (or more) strings and returns a new string\r\n- `padend(str, targetLength [, padString])` - pads the given string from the end with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `padstart(str, targetLength [, padString])` - pads the given string from the start with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `substring(str, beginIndex [, endIndex])` - returns a new string containing characters of `str` from (or between) the specified index (or indices)\r\n- `indexof(str, searchValue [, start])` - returns the index of the first occurance in `str` at which a given string `searchValue` can be found in the array, or -1 if it is not present.\r\n- `tolowercase(str)` - returns the `str` value converted to lowercase\r\n- `touppercase(str)` - returns the `str` value converted to uppercase\r\n- `trim(str)` - trims whitespace from the beginning and end of `str`\r\n- `trimstart(str)` - trims whitespace from beginning of `str`\r\n- `trimend(str)` - trims whitespace from end of `str`\r\n\r\nSupported conditional functions:\r\n\r\n- `if(cond, expr_true, expr_false)` - returns `expr_true` if `cond` is `true` else it returns `expr_false`. `expr_true` and `expr_false` must be of the same type. `expr_true` and `expr_false` can be `null`\r\n- `ifnull(var, expr)` - returns `expr` if `var` is `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifnotnull(var, expr)` - returns `expr` if `var` is not `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifempty(str, expr)` - returns `expr` if `str` is empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnotempty(str, expr)` - returns `expr` if `str` is not empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnullorempty(str, expr)` - returns `expr` if `str` is null or empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorempty(str, expr)` - returns `expr` if `str` is not null and not empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnullorwhitespace(str, expr)` - returns `expr` if `str` is null or empty or only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorwhitespace(str, expr)` - returns `expr` if `str` is not null and not empty and not only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n\r\nExamples of supported formulas:\r\n\r\n- `min(A * B, B * C, A * C)` - if `A`, `B`, and `C` are 3 different lengths of box edges, then this formula will result in the smallest side surface area of that box\r\n- `min * max` - formula does not have parenthesis after function names, so the `min` and `max` operands are treated as variables (other columns), not as functions. If the Group has columns `min` and `max`, and their values are `2` and `5`, then the result of this formula is `10` for that row\r\n- `2 ** 3` - 2 raised to the power of 3. Result will be 8. This can also be written as `pow(2, 3)`\r\n- `min(cos(X), sin(X))` - function nesting is supported\r\n- `A * (B + C)` - `A` multiplied by the sum of `B` and `C`\r\n- `A * B + C` - same as `(A * B) + C`\r\n- `padend(concat(A, '\\\\', touppercase(substring(B, 4))), C, D)` - the result of `concat`, which concatenates variable `A`, string literal `\\` and `uppercase` `substring` of variable `B` from index `4`, is padded in the end with the target length of `C` with a pad string of variable `D`\r\n- `charat(trim(A), B)` - gets the character of a trimmed string variable `A` that is at index `B`\r\n- `if(A > B, A, B)` - if `A` is greater than `B` then the result is `A` else it is `B`\r\n- `ifnullorempty(A, 'B = ') + B` - if variable `A` is null or empty then the result of `ifnullorempty` function is the string literal `B = ` else it is variable `A`. Then the final formula result is the addition of the result of `ifnullorempty` function and variable `B`\r\n- `if(A != null && B != null, A + B, 0)` - if `A` is not null and `B` is not null then the result is the addition of `A` and `B` else it is `0`\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"method":"POST","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"propertyName\": \"BeamVolume\",\r\n    \"dataType\": \"Double\",\r\n    \"quantityType\": \"Volume\",\r\n    \"ecProperties\": [{\r\n        \"ecSchemaName\": \"*\",\r\n        \"ecClassName\": \"*\",\r\n        \"ecPropertyName\": \"Volume\"\r\n    }],\r\n    \"calculatedPropertyType\": \"Volume\",\r\n    \"formula\": \"Length * CrossSectionArea\"\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertyModify"}]},"responses":[{"identifier":"66ce0a7cd23a2ef1cc22c6ee","headers":[],"statusCode":{"code":201,"description":"Created"},"representations":[{"contentType":"application/json","example":"{\r\n    \"property\": {\r\n        \"id\": \"1ba1f4dd-efc1-4bd1-86f0-a69a4f0d4743\",\r\n        \"propertyName\": \"BeamVolume\",\r\n        \"dataType\": \"Double\",\r\n        \"quantityType\": \"Volume\",\r\n        \"ecProperties\": [{\r\n            \"ecSchemaName\": \"*\",\r\n            \"ecClassName\": \"*\",\r\n            \"ecPropertyName\": \"Volume\"\r\n        }],\r\n        \"calculatedPropertyType\": \"Volume\",\r\n        \"formula\": \"Length * CrossSectionArea\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            },\r\n            \"group\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertyResponse"}],"description":"OK"},{"identifier":"66ce0a7c9256a8a9cfb0f258","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c69429f5f96cb2269","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to create a Property."},{"identifier":"66ce0a7cd72413989b5e45f3","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c8893b0086c846866","headers":[],"statusCode":{"code":409,"description":"Conflict"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"PropertyExists\",\r\n        \"message\": \"Property 'BeamVolume' already exists.\",\r\n        \"target\": \"propertyName\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Property with the same name already exists within the group."},{"identifier":"66ce0a7cfa0ac1bfc886c0e3","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7cf69aaa9339ef0298","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties","tags":["Properties","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/delete-property","name":"delete-property","displayName":"Delete Property","description":"---\r\n\r\nDeletes a property.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"method":"DELETE","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c3fc19e90c3567e83","headers":[],"statusCode":{"code":204,"description":"No Content"},"representations":[],"description":"Deleted a Property successfully."},{"identifier":"66ce0a7cf8d5dfb7b24d0e37","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c646add42723bb2c9","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to delete a Property."},{"identifier":"66ce0a7c78d7c5b3578f2f4d","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7cb29f03f814d1f50f","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","tags":["Properties","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-properties","name":"get-properties","displayName":"Get Properties","description":"---\r\n\r\nGets all group properties. If group is a table, then property of that group is a column.\r\n\r\nProperty values are assigned during data extraction. To start the data extraction use [Run Extraction](/apis/insights/operations/run-extraction) operation.\r\n\r\n### Mapping ECProperties\r\n\r\nMapping property values from an iModel ECProperties to the output columns is achieved by defining the `ecProperties` array. It allows mapping the queried, element, element aspect, or related element properties.\r\n\r\nThe `ecProperties` property is a prioritized array which contains `ECPropertyReference` objects. The closer the `ECPropertyReference` is to the array's start, the higher the priority. The priority of `ECPropertyReference` can be changed by reordering the `ecProperties` array. Reading of the `ecProperties` array stops when a valid value is found. For example, if the `ecProperties` array contains two entries and the first entry results in a null or undefined value, it will take the second entry. The value can be undefined if the given `ECPropertyReference` references an ECProperty which does not exist. The result column will be filled with a null value if no valid value was found.\r\n\r\nEvaluating `ecProperties` is prioritized by:\r\n\r\n1. Queried properties\r\n2. Element properties\r\n3. Element aspect properties\r\n\r\nHaving queried properties as the highest priority allows for constant or complex values to be added to a mapping.\r\n\r\nECProperty lookup is defined by three values - `ecSchemaName`, `ecClassName`, and `ecPropertyName`.\r\n\r\n`ecSchemaName` and `ecClassName` are used together to create an ECClassId which is the ECClassId of the current row selected by the group query. If the ECClassId of a selected row does not match the `ecSchemaName` and `ecClassName` pair, the value for this ECProperty is considered undefined. If the formed ECClassId is of an element aspect, the current selected row is an element, and there is only one instance of that element aspect related to the element, the property lookup is done on the element aspect.\r\n\r\nBoth `ecSchemaName` and `ecClassName` can be set to a wildcard value `*`.\r\n\r\n- If the value of `ecSchemaName` is `*` and the value of `ecClassName` is `Beam`, then it will match any `Beam` class from any ECSchema (e.g. `Building.Beam`, `Structural.Beam`, etc.)\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `*`, then it will match any class from the ECSchema `Building` (e.g. `Building.Beam`, `Building.CurtainWall`, etc.)\r\n- If values of `ecSchemaName` and `ecClassName` are `*`, then it will match any ECClassId (e.g. `Building.Beam`, `Structural.Column`, etc.)\r\n- If either value of `ecSchemaName` or `ecClassName` are `*`, then no element aspect lookup is done\r\n\r\nClass inheritance is checked if there is no wildcard value.\r\n\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `StructuralMember`, then it will match any ECClassId which inherits `Building.StructuralMember` (e.g. `Building.Beam` which inherits `Building.StructuralMember`, `Building.Column` which inherits `Building.StructuralMember`, etc.)\r\n- If `ecSchemaName` or `ecClassName` is a wildcard, then inheritance will not be checked\r\n\r\nSet `ecPropertyName` to a ECProperty name that you want to select. The value of `ecPropertyName` can also be a path defining how to find an ECProperty. The path segments must be separated by a period (.). The path can contain the names of:\r\n\r\n- A navigation property\r\n- A struct property\r\n- A string property that happens to contain a string representation of a json object\r\n- A property inside the selected json\r\n\r\nNames of properties are not case sensitive. If json object does not have duplicate property names which only differ in letter casing, then those json properties are not case sensitive. We recommend treating json properties as case sensitive.\r\n\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category` or `category`, then the whole value `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` will be selected\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category.id`, then only the id value `0x2000000000b` will be selected\r\n- If `Category` property is a navigation property and it points to a row that has a property `CodeValue` that we want to select, the `ecPropertyName` should be set to `Category.CodeValue`\r\n- If `Model` property is a navigation property and it points to a row that has a property `JsonProperties` with a value `{\"formatter\":{\"mastUnit\":{\"label\":\"m\"}}}` and we want to select the master unit label, the `ecPropertyName` should be set to `Model.JsonProperties.formatter.mastUnit.label`. The result will be `m`\r\n\r\n### Calculation types\r\n\r\nProperty can be configured to calculate various element dimensions by setting the `calculatedPropertyType` value.\r\n\r\nList of all available calculation types:\r\n\r\n- `Length` - calculation of a linear element length or a perimeter of a geometric element that does not have a volume. For elements that have a volume use `BoundingBox` calculations to approximate the length.\r\n- `Area` - calculation of a geometric element's surface area.\r\n- `Volume` - calculation of a geometric element's volume.\r\n- `BoundingBoxLongestEdgeLength` - calculation that gives the longest edge length of an element aligned bounding box.\r\n- `BoundingBoxIntermediateEdgeLength` - calculation that gives the edge length that is not the longest nor the shortest of an element aligned bounding box.\r\n- `BoundingBoxShortestEdgeLength` - calculation that gives the shortest edge length of an element aligned bounding box.\r\n- `BoundingBoxDiagonalLength` - calculation that gives the distance between 2 opposite corners of the element aligned bounding box.\r\n- `BoundingBoxLongestFaceDiagonalLength` - calculation that gives the longest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n- `BoundingBoxIntermediateFaceDiagonalLength` - calculation that gives the distance between 2 opposite corners of a face on the element aligned bounding box that is not the longest nor the shortest.\r\n- `BoundingBoxShortestFaceDiagonalLength` - calculation that gives the shortest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n\r\nCalculation types that start with `BoundingBox` use element aligned bounding boxes. They can be used for approximations of geometric element dimensions when there are no available properties that would have exact dimensions. Some errors may occur due to bounding boxes not being a perfect fit for the surrounded element.\r\n\r\n### Custom calculations\r\n\r\nProperty can be configured to evaluate a custom mathematical formula that you provide by setting the `formula` property.\r\n\r\nThe `formula` supports using other group properties as variables. Recursive formulas are not supported, i.e., `formula` containing a variable `X` is not supported inside a property with a `propertyName` equal to `X`.\r\n\r\nSupported data types:\r\n\r\n- Double - describes a real number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Integer - describes an integer number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Boolean - describes a logical value which is either true or false. When converted to a number in certain operators `true` becomes `1` and `false` becomes `0`\r\n- String - describes text. When converted to a boolean value in logical operators an empty string becomes `false` and all other strings become `true`\r\n\r\nAll of the supported data types can have no value which means that the value is `null`. Some operations support `null` values but those which do not will return `null` as the result.\r\n\r\nSupported operators:\r\n\r\n| Symbol | Name | Precedence | Associativity | Operand Types | Can receive null | Result |\r\n|--|--|--|--|--|--|--|\r\n| Unary `-` | Unary negation | 9 | Right | Numbers and booleans | No | Number |\r\n| `!` | Logical not | 9 | Right | All data types | No | Boolean |\r\n| `**` | Exponentiation | 8 | Right | Numbers and booleans | No | Number |\r\n| `*` | Multiplication | 7 | Left | Numbers and booleans | No | Number |\r\n| `/` | Division | 7 | Left | Numbers and booleans | No | Number |\r\n| `%` | Remainder | 7 | Left | Numbers and booleans | No | Number |\r\n| `+` | Addition | 6 | Left | All data types | No | Number or string if one of the operands is a string |\r\n| Binary `-` | Subtraction | 6 | Left | Numbers and booleans | No | Number |\r\n| `<` | Less than | 5 | Left | All data types | No | Boolean |\r\n| `<=` | Less than or equal | 5 | Left | All data types | No | Boolean |\r\n| `>` | Greater than | 5 | Left | All data types | No | Boolean |\r\n| `>=` | Greater than or equal | 5 | Left | All data types | No | Boolean |\r\n| `==` | Equality | 4 | Left | All data types | Yes | Boolean |\r\n| `!=` | Inequality | 4 | Left | All data types | Yes | Boolean |\r\n| `&&` | Logical and | 3 | Left | All data types | No | Boolean |\r\n| `\\|\\|` | Logical or | 2 | Left | All data types | No | Boolean |\r\n\r\nParenthesis `(` and `)` can be used to change the precedence of operations. Variables, constants, and functions have a precedence of 1 and left associativity.\r\n\r\nSupported constants:\r\n\r\n- `E` - Euler's constant and the base of natural logarithms (approx. 2.718)\r\n- `LN2` - natural logarithm of 2 (approx. 0.693)\r\n- `LN10` - natural logarithm of 10 (approx. 2.303)\r\n- `LOG2E` - base-2 logarithm of `E` (approx. 1.443)\r\n- `PI` - ratio of a circle's circumference to its diameter (approx. 3.14159)\r\n- `SQRT1_2` - square root of ½ (approx. 0.707)\r\n- `SQRT2` - square root of 2 (approx. 1.414)\r\n\r\nSupported numeric constant formats:\r\n\r\n- Decimal, e.g., `123` or `1.123`\r\n- Binary (base 2), e.g., `0b1010`\r\n- Octal (base 8), e.g., `0o1234567`\r\n- Hexadecimal (base 16), e.g., `0x123af`\r\n- Scientific notation, e.g., `1.123e+3`\r\n\r\nSupported string literal formats:\r\n\r\n- Single quotation marks, e.g., `'Column'`\r\n- Double quotation marks, e.g., `\"Column\"`\r\n- Backticks, e.g., `` `Column` ``\r\n\r\nSupported boolean formats:\r\n\r\n- True, e.g., `true`\r\n- False, e.g., `false`\r\n\r\nSupported null format:\r\n\r\n- Null, e.g., `null`\r\n\r\nAn escape character `\\` can be used to escape special characters in string literals. Supported escape sequences:\r\n\r\n- `\\'` - single quotation mark\r\n- `\\\"` - double quotation mark\r\n- `` \\` `` - backtick\r\n- `\\\\` - backslash\r\n- `\\n` - newline character\r\n- `\\t` - tab character\r\n\r\nIf an unsupported escape sequence is found, then the escape character is dropped, e.g., `\\d` becomes `d`.\r\n\r\nSupported numerical functions:\r\n\r\n- `abs(x)` - returns the absolute value of `x`\r\n- `acos(x)` - returns the arccosine of `x`\r\n- `acosh(x)` - returns the hyperbolic arccosine of `x`\r\n- `asin(x)` - returns the arcsine of `x`\r\n- `asinh(x)` - returns the hyperbolic arcsine of `x`\r\n- `atan(x)` - returns the arctangent of `x`\r\n- `atanh(x)` - returns the hyperbolic arctangent of `x`\r\n- `atan2(y, x)` - returns the arctangent of the quotient of `y` divided by `x`\r\n- `cbrt(x)` - returns the cube root of `x`\r\n- `ceil(x)` - returns the smallest integer greater than or equal to `x`\r\n- `clz32(x)` - returns the number of leading zero bits of the 32-bit integer `x`\r\n- `cos(x)` - returns the cosine of `x`\r\n- `cosh(x)` - returns the hyperbolic cosine of `x`\r\n- `exp(x)` - returns `E ** x` or `pow(E, x)`, where `x` is the argument, and `E` is Euler's constant (2.718…, the base of the natural logarithm)\r\n- `expm1(x)` - returns subtracting 1 from `exp(x)`\r\n- `floor(x)` - returns the largest integer less than or equal to `x`\r\n- `fround(x)` - returns the nearest single precision float representation of `x`\r\n- `hypot(x, y[, z[, …]])` - returns the square root of the sum of squares of its arguments\r\n- `imul(x, y)` - returns the result of the 32-bit integer multiplication of `x` and `y`\r\n- `log(x)` - returns the natural logarithm of `x`\r\n- `log1p(x)` - returns the natural logarithm of `1 + x`\r\n- `log10(x)` - returns the base-10 logarithm of `x`\r\n- `log2(x)` - returns the base-2 logarithm of `x`\r\n- `max(x, y[, z[, …]])` - returns the largest of 2 or more numbers\r\n- `min(x, y[, z[, …]])` - returns the smallest of 2 or more numbers\r\n- `pow(x, y)` - returns base `x` to the exponent power `y` (i.e., `x**y`)\r\n- `random()` - returns a pseudo-random number between 0 and 1. The value only changes between different output tables. All rows within a single output table get the same value\r\n- `round(x)` - returns the value of the number `x` rounded to the nearest integer\r\n- `sign(x)` - returns the sign of the `x`, indicating whether `x` is positive (`1`), negative (`-1`), or zero (`0`)\r\n- `sin(x)` - returns the sine of `x`\r\n- `sinh(x)` - returns the hyperbolic sine of `x`\r\n- `sqrt(x)` - returns the positive square root of `x`\r\n- `tan(x)` - returns the tangent of `x`\r\n- `tanh(x)` - returns the hyperbolic tangent of `x`\r\n- `trunc(x)` - returns the integer portion of `x`, removing any fractional digits\r\n\r\nSupported string functions:\r\n\r\n- `charat(str, index)` - returns exactly one character at the specified index. Accepts negative integers, which count back from the last string character\r\n- `concat(str , ...strN)` - combines the text of two (or more) strings and returns a new string\r\n- `padend(str, targetLength [, padString])` - pads the given string from the end with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `padstart(str, targetLength [, padString])` - pads the given string from the start with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `substring(str, beginIndex [, endIndex])` - returns a new string containing characters of `str` from (or between) the specified index (or indices)\r\n- `indexof(str, searchValue [, start])` - returns the index of the first occurance in `str` at which a given string `searchValue` can be found in the array, or -1 if it is not present.\r\n- `tolowercase(str)` - returns the `str` value converted to lowercase\r\n- `touppercase(str)` - returns the `str` value converted to uppercase\r\n- `trim(str)` - trims whitespace from the beginning and end of `str`\r\n- `trimstart(str)` - trims whitespace from beginning of `str`\r\n- `trimend(str)` - trims whitespace from end of `str`\r\n\r\nSupported conditional functions:\r\n\r\n- `if(cond, expr_true, expr_false)` - returns `expr_true` if `cond` is `true` else it returns `expr_false`. `expr_true` and `expr_false` must be of the same type. `expr_true` and `expr_false` can be `null`\r\n- `ifnull(var, expr)` - returns `expr` if `var` is `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifnotnull(var, expr)` - returns `expr` if `var` is not `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifempty(str, expr)` - returns `expr` if `str` is empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnotempty(str, expr)` - returns `expr` if `str` is not empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnullorempty(str, expr)` - returns `expr` if `str` is null or empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorempty(str, expr)` - returns `expr` if `str` is not null and not empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnullorwhitespace(str, expr)` - returns `expr` if `str` is null or empty or only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorwhitespace(str, expr)` - returns `expr` if `str` is not null and not empty and not only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n\r\nExamples of supported formulas:\r\n\r\n- `min(A * B, B * C, A * C)` - if `A`, `B`, and `C` are 3 different lengths of box edges, then this formula will result in the smallest side surface area of that box\r\n- `min * max` - formula does not have parenthesis after function names, so the `min` and `max` operands are treated as variables (other columns), not as functions. If the Group has columns `min` and `max`, and their values are `2` and `5`, then the result of this formula is `10` for that row\r\n- `2 ** 3` - 2 raised to the power of 3. Result will be 8. This can also be written as `pow(2, 3)`\r\n- `min(cos(X), sin(X))` - function nesting is supported\r\n- `A * (B + C)` - `A` multiplied by the sum of `B` and `C`\r\n- `A * B + C` - same as `(A * B) + C`\r\n- `padend(concat(A, '\\\\', touppercase(substring(B, 4))), C, D)` - the result of `concat`, which concatenates variable `A`, string literal `\\` and `uppercase` `substring` of variable `B` from index `4`, is padded in the end with the target length of `C` with a pad string of variable `D`\r\n- `charat(trim(A), B)` - gets the character of a trimmed string variable `A` that is at index `B`\r\n- `if(A > B, A, B)` - if `A` is greater than `B` then the result is `A` else it is `B`\r\n- `ifnullorempty(A, 'B = ') + B` - if variable `A` is null or empty then the result of `ifnullorempty` function is the string literal `B = ` else it is variable `A`. Then the final formula result is the addition of the result of `ifnullorempty` function and variable `B`\r\n- `if(A != null && B != null, A + B, 0)` - if `A` is not null and `B` is not null then the result is the addition of `A` and `B` else it is `0`\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"method":"GET","request":{"queryParameters":[{"name":"$top","description":"Optional max items to be sent in response.","in":"query","type":"integer","values":[],"required":false},{"name":"$continuationToken","description":"Optional token to retrieve next page in paginated response.","in":"query","type":"string","values":[],"required":false}],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c1f27dbd56ad5b14e","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"properties\": [{\r\n        \"id\": \"1ba1f4dd-efc1-4bd1-86f0-a69a4f0d4743\",\r\n        \"propertyName\": \"BeamVolume\",\r\n        \"dataType\": \"Double\",\r\n        \"quantityType\": \"Volume\",\r\n        \"ecProperties\": [{\r\n            \"ecSchemaName\": \"*\",\r\n            \"ecClassName\": \"*\",\r\n            \"ecPropertyName\": \"Volume\"\r\n        }],\r\n        \"calculatedPropertyType\": \"Volume\",\r\n        \"formula\": \"Length * CrossSectionArea\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            },\r\n            \"group\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932\"\r\n            }\r\n        }\r\n    }],\r\n    \"_links\": {\r\n        \"next\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932/properties?$top=100&$continuationToken=ddac51e3-3d37-4407-816e-52b9fc80d70a\"\r\n        },\r\n        \"self\": {\r\n            \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932/properties?$top=100\"\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertiesResponse"}],"description":"OK"},{"identifier":"66ce0a7c91da263da3305150","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c14466eba55053345","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7ced924b4092b05261","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7ca1a8479bea4b73b8","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties[?$top][&$continuationToken]","tags":["Properties","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/get-property","name":"get-property","displayName":"Get Property","description":"---\r\n\r\nRetrieves a property. If group is a table, then property of that group is a column.\r\n\r\nProperty values are assigned during data extraction. To start the data extraction use [Run Extraction](/apis/insights/operations/run-extraction) operation.\r\n\r\n### Mapping ECProperties\r\n\r\nMapping property values from an iModel ECProperties to the output columns is achieved by defining the `ecProperties` array. It allows mapping the queried, element, element aspect, or related element properties.\r\n\r\nThe `ecProperties` property is a prioritized array which contains `ECPropertyReference` objects. The closer the `ECPropertyReference` is to the array's start, the higher the priority. The priority of `ECPropertyReference` can be changed by reordering the `ecProperties` array. Reading of the `ecProperties` array stops when a valid value is found. For example, if the `ecProperties` array contains two entries and the first entry results in a null or undefined value, it will take the second entry. The value can be undefined if the given `ECPropertyReference` references an ECProperty which does not exist. The result column will be filled with a null value if no valid value was found.\r\n\r\nEvaluating `ecProperties` is prioritized by:\r\n\r\n1. Queried properties\r\n2. Element properties\r\n3. Element aspect properties\r\n\r\nHaving queried properties as the highest priority allows for constant or complex values to be added to a mapping.\r\n\r\nECProperty lookup is defined by three values - `ecSchemaName`, `ecClassName`, and `ecPropertyName`.\r\n\r\n`ecSchemaName` and `ecClassName` are used together to create an ECClassId which is the ECClassId of the current row selected by the group query. If the ECClassId of a selected row does not match the `ecSchemaName` and `ecClassName` pair, the value for this ECProperty is considered undefined. If the formed ECClassId is of an element aspect, the current selected row is an element, and there is only one instance of that element aspect related to the element, the property lookup is done on the element aspect.\r\n\r\nBoth `ecSchemaName` and `ecClassName` can be set to a wildcard value `*`.\r\n\r\n- If the value of `ecSchemaName` is `*` and the value of `ecClassName` is `Beam`, then it will match any `Beam` class from any ECSchema (e.g. `Building.Beam`, `Structural.Beam`, etc.)\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `*`, then it will match any class from the ECSchema `Building` (e.g. `Building.Beam`, `Building.CurtainWall`, etc.)\r\n- If values of `ecSchemaName` and `ecClassName` are `*`, then it will match any ECClassId (e.g. `Building.Beam`, `Structural.Column`, etc.)\r\n- If either value of `ecSchemaName` or `ecClassName` are `*`, then no element aspect lookup is done\r\n\r\nClass inheritance is checked if there is no wildcard value.\r\n\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `StructuralMember`, then it will match any ECClassId which inherits `Building.StructuralMember` (e.g. `Building.Beam` which inherits `Building.StructuralMember`, `Building.Column` which inherits `Building.StructuralMember`, etc.)\r\n- If `ecSchemaName` or `ecClassName` is a wildcard, then inheritance will not be checked\r\n\r\nSet `ecPropertyName` to a ECProperty name that you want to select. The value of `ecPropertyName` can also be a path defining how to find an ECProperty. The path segments must be separated by a period (.). The path can contain the names of:\r\n\r\n- A navigation property\r\n- A struct property\r\n- A string property that happens to contain a string representation of a json object\r\n- A property inside the selected json\r\n\r\nNames of properties are not case sensitive. If json object does not have duplicate property names which only differ in letter casing, then those json properties are not case sensitive. We recommend treating json properties as case sensitive.\r\n\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category` or `category`, then the whole value `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` will be selected\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category.id`, then only the id value `0x2000000000b` will be selected\r\n- If `Category` property is a navigation property and it points to a row that has a property `CodeValue` that we want to select, the `ecPropertyName` should be set to `Category.CodeValue`\r\n- If `Model` property is a navigation property and it points to a row that has a property `JsonProperties` with a value `{\"formatter\":{\"mastUnit\":{\"label\":\"m\"}}}` and we want to select the master unit label, the `ecPropertyName` should be set to `Model.JsonProperties.formatter.mastUnit.label`. The result will be `m`\r\n\r\n### Calculation types\r\n\r\nProperty can be configured to calculate various element dimensions by setting the `calculatedPropertyType` value.\r\n\r\nList of all available calculation types:\r\n\r\n- `Length` - calculation of a linear element length or a perimeter of a geometric element that does not have a volume. For elements that have a volume use `BoundingBox` calculations to approximate the length.\r\n- `Area` - calculation of a geometric element's surface area.\r\n- `Volume` - calculation of a geometric element's volume.\r\n- `BoundingBoxLongestEdgeLength` - calculation that gives the longest edge length of an element aligned bounding box.\r\n- `BoundingBoxIntermediateEdgeLength` - calculation that gives the edge length that is not the longest nor the shortest of an element aligned bounding box.\r\n- `BoundingBoxShortestEdgeLength` - calculation that gives the shortest edge length of an element aligned bounding box.\r\n- `BoundingBoxDiagonalLength` - calculation that gives the distance between 2 opposite corners of the element aligned bounding box.\r\n- `BoundingBoxLongestFaceDiagonalLength` - calculation that gives the longest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n- `BoundingBoxIntermediateFaceDiagonalLength` - calculation that gives the distance between 2 opposite corners of a face on the element aligned bounding box that is not the longest nor the shortest.\r\n- `BoundingBoxShortestFaceDiagonalLength` - calculation that gives the shortest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n\r\nCalculation types that start with `BoundingBox` use element aligned bounding boxes. They can be used for approximations of geometric element dimensions when there are no available properties that would have exact dimensions. Some errors may occur due to bounding boxes not being a perfect fit for the surrounded element.\r\n\r\n### Custom calculations\r\n\r\nProperty can be configured to evaluate a custom mathematical formula that you provide by setting the `formula` property.\r\n\r\nThe `formula` supports using other group properties as variables. Recursive formulas are not supported, i.e., `formula` containing a variable `X` is not supported inside a property with a `propertyName` equal to `X`.\r\n\r\nSupported data types:\r\n\r\n- Double - describes a real number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Integer - describes an integer number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Boolean - describes a logical value which is either true or false. When converted to a number in certain operators `true` becomes `1` and `false` becomes `0`\r\n- String - describes text. When converted to a boolean value in logical operators an empty string becomes `false` and all other strings become `true`\r\n\r\nAll of the supported data types can have no value which means that the value is `null`. Some operations support `null` values but those which do not will return `null` as the result.\r\n\r\nSupported operators:\r\n\r\n| Symbol | Name | Precedence | Associativity | Operand Types | Can receive null | Result |\r\n|--|--|--|--|--|--|--|\r\n| Unary `-` | Unary negation | 9 | Right | Numbers and booleans | No | Number |\r\n| `!` | Logical not | 9 | Right | All data types | No | Boolean |\r\n| `**` | Exponentiation | 8 | Right | Numbers and booleans | No | Number |\r\n| `*` | Multiplication | 7 | Left | Numbers and booleans | No | Number |\r\n| `/` | Division | 7 | Left | Numbers and booleans | No | Number |\r\n| `%` | Remainder | 7 | Left | Numbers and booleans | No | Number |\r\n| `+` | Addition | 6 | Left | All data types | No | Number or string if one of the operands is a string |\r\n| Binary `-` | Subtraction | 6 | Left | Numbers and booleans | No | Number |\r\n| `<` | Less than | 5 | Left | All data types | No | Boolean |\r\n| `<=` | Less than or equal | 5 | Left | All data types | No | Boolean |\r\n| `>` | Greater than | 5 | Left | All data types | No | Boolean |\r\n| `>=` | Greater than or equal | 5 | Left | All data types | No | Boolean |\r\n| `==` | Equality | 4 | Left | All data types | Yes | Boolean |\r\n| `!=` | Inequality | 4 | Left | All data types | Yes | Boolean |\r\n| `&&` | Logical and | 3 | Left | All data types | No | Boolean |\r\n| `\\|\\|` | Logical or | 2 | Left | All data types | No | Boolean |\r\n\r\nParenthesis `(` and `)` can be used to change the precedence of operations. Variables, constants, and functions have a precedence of 1 and left associativity.\r\n\r\nSupported constants:\r\n\r\n- `E` - Euler's constant and the base of natural logarithms (approx. 2.718)\r\n- `LN2` - natural logarithm of 2 (approx. 0.693)\r\n- `LN10` - natural logarithm of 10 (approx. 2.303)\r\n- `LOG2E` - base-2 logarithm of `E` (approx. 1.443)\r\n- `PI` - ratio of a circle's circumference to its diameter (approx. 3.14159)\r\n- `SQRT1_2` - square root of ½ (approx. 0.707)\r\n- `SQRT2` - square root of 2 (approx. 1.414)\r\n\r\nSupported numeric constant formats:\r\n\r\n- Decimal, e.g., `123` or `1.123`\r\n- Binary (base 2), e.g., `0b1010`\r\n- Octal (base 8), e.g., `0o1234567`\r\n- Hexadecimal (base 16), e.g., `0x123af`\r\n- Scientific notation, e.g., `1.123e+3`\r\n\r\nSupported string literal formats:\r\n\r\n- Single quotation marks, e.g., `'Column'`\r\n- Double quotation marks, e.g., `\"Column\"`\r\n- Backticks, e.g., `` `Column` ``\r\n\r\nSupported boolean formats:\r\n\r\n- True, e.g., `true`\r\n- False, e.g., `false`\r\n\r\nSupported null format:\r\n\r\n- Null, e.g., `null`\r\n\r\nAn escape character `\\` can be used to escape special characters in string literals. Supported escape sequences:\r\n\r\n- `\\'` - single quotation mark\r\n- `\\\"` - double quotation mark\r\n- `` \\` `` - backtick\r\n- `\\\\` - backslash\r\n- `\\n` - newline character\r\n- `\\t` - tab character\r\n\r\nIf an unsupported escape sequence is found, then the escape character is dropped, e.g., `\\d` becomes `d`.\r\n\r\nSupported numerical functions:\r\n\r\n- `abs(x)` - returns the absolute value of `x`\r\n- `acos(x)` - returns the arccosine of `x`\r\n- `acosh(x)` - returns the hyperbolic arccosine of `x`\r\n- `asin(x)` - returns the arcsine of `x`\r\n- `asinh(x)` - returns the hyperbolic arcsine of `x`\r\n- `atan(x)` - returns the arctangent of `x`\r\n- `atanh(x)` - returns the hyperbolic arctangent of `x`\r\n- `atan2(y, x)` - returns the arctangent of the quotient of `y` divided by `x`\r\n- `cbrt(x)` - returns the cube root of `x`\r\n- `ceil(x)` - returns the smallest integer greater than or equal to `x`\r\n- `clz32(x)` - returns the number of leading zero bits of the 32-bit integer `x`\r\n- `cos(x)` - returns the cosine of `x`\r\n- `cosh(x)` - returns the hyperbolic cosine of `x`\r\n- `exp(x)` - returns `E ** x` or `pow(E, x)`, where `x` is the argument, and `E` is Euler's constant (2.718…, the base of the natural logarithm)\r\n- `expm1(x)` - returns subtracting 1 from `exp(x)`\r\n- `floor(x)` - returns the largest integer less than or equal to `x`\r\n- `fround(x)` - returns the nearest single precision float representation of `x`\r\n- `hypot(x, y[, z[, …]])` - returns the square root of the sum of squares of its arguments\r\n- `imul(x, y)` - returns the result of the 32-bit integer multiplication of `x` and `y`\r\n- `log(x)` - returns the natural logarithm of `x`\r\n- `log1p(x)` - returns the natural logarithm of `1 + x`\r\n- `log10(x)` - returns the base-10 logarithm of `x`\r\n- `log2(x)` - returns the base-2 logarithm of `x`\r\n- `max(x, y[, z[, …]])` - returns the largest of 2 or more numbers\r\n- `min(x, y[, z[, …]])` - returns the smallest of 2 or more numbers\r\n- `pow(x, y)` - returns base `x` to the exponent power `y` (i.e., `x**y`)\r\n- `random()` - returns a pseudo-random number between 0 and 1. The value only changes between different output tables. All rows within a single output table get the same value\r\n- `round(x)` - returns the value of the number `x` rounded to the nearest integer\r\n- `sign(x)` - returns the sign of the `x`, indicating whether `x` is positive (`1`), negative (`-1`), or zero (`0`)\r\n- `sin(x)` - returns the sine of `x`\r\n- `sinh(x)` - returns the hyperbolic sine of `x`\r\n- `sqrt(x)` - returns the positive square root of `x`\r\n- `tan(x)` - returns the tangent of `x`\r\n- `tanh(x)` - returns the hyperbolic tangent of `x`\r\n- `trunc(x)` - returns the integer portion of `x`, removing any fractional digits\r\n\r\nSupported string functions:\r\n\r\n- `charat(str, index)` - returns exactly one character at the specified index. Accepts negative integers, which count back from the last string character\r\n- `concat(str , ...strN)` - combines the text of two (or more) strings and returns a new string\r\n- `padend(str, targetLength [, padString])` - pads the given string from the end with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `padstart(str, targetLength [, padString])` - pads the given string from the start with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `substring(str, beginIndex [, endIndex])` - returns a new string containing characters of `str` from (or between) the specified index (or indices)\r\n- `indexof(str, searchValue [, start])` - returns the index of the first occurance in `str` at which a given string `searchValue` can be found in the array, or -1 if it is not present.\r\n- `tolowercase(str)` - returns the `str` value converted to lowercase\r\n- `touppercase(str)` - returns the `str` value converted to uppercase\r\n- `trim(str)` - trims whitespace from the beginning and end of `str`\r\n- `trimstart(str)` - trims whitespace from beginning of `str`\r\n- `trimend(str)` - trims whitespace from end of `str`\r\n\r\nSupported conditional functions:\r\n\r\n- `if(cond, expr_true, expr_false)` - returns `expr_true` if `cond` is `true` else it returns `expr_false`. `expr_true` and `expr_false` must be of the same type. `expr_true` and `expr_false` can be `null`\r\n- `ifnull(var, expr)` - returns `expr` if `var` is `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifnotnull(var, expr)` - returns `expr` if `var` is not `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifempty(str, expr)` - returns `expr` if `str` is empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnotempty(str, expr)` - returns `expr` if `str` is not empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnullorempty(str, expr)` - returns `expr` if `str` is null or empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorempty(str, expr)` - returns `expr` if `str` is not null and not empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnullorwhitespace(str, expr)` - returns `expr` if `str` is null or empty or only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorwhitespace(str, expr)` - returns `expr` if `str` is not null and not empty and not only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n\r\nExamples of supported formulas:\r\n\r\n- `min(A * B, B * C, A * C)` - if `A`, `B`, and `C` are 3 different lengths of box edges, then this formula will result in the smallest side surface area of that box\r\n- `min * max` - formula does not have parenthesis after function names, so the `min` and `max` operands are treated as variables (other columns), not as functions. If the Group has columns `min` and `max`, and their values are `2` and `5`, then the result of this formula is `10` for that row\r\n- `2 ** 3` - 2 raised to the power of 3. Result will be 8. This can also be written as `pow(2, 3)`\r\n- `min(cos(X), sin(X))` - function nesting is supported\r\n- `A * (B + C)` - `A` multiplied by the sum of `B` and `C`\r\n- `A * B + C` - same as `(A * B) + C`\r\n- `padend(concat(A, '\\\\', touppercase(substring(B, 4))), C, D)` - the result of `concat`, which concatenates variable `A`, string literal `\\` and `uppercase` `substring` of variable `B` from index `4`, is padded in the end with the target length of `C` with a pad string of variable `D`\r\n- `charat(trim(A), B)` - gets the character of a trimmed string variable `A` that is at index `B`\r\n- `if(A > B, A, B)` - if `A` is greater than `B` then the result is `A` else it is `B`\r\n- `ifnullorempty(A, 'B = ') + B` - if variable `A` is null or empty then the result of `ifnullorempty` function is the string literal `B = ` else it is variable `A`. Then the final formula result is the addition of the result of `ifnullorempty` function and variable `B`\r\n- `if(A != null && B != null, A + B, 0)` - if `A` is not null and `B` is not null then the result is the addition of `A` and `B` else it is `0`\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c4a16b7e57a73e516","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"property\": {\r\n        \"id\": \"1ba1f4dd-efc1-4bd1-86f0-a69a4f0d4743\",\r\n        \"propertyName\": \"BeamVolume\",\r\n        \"dataType\": \"Double\",\r\n        \"quantityType\": \"Volume\",\r\n        \"ecProperties\": [{\r\n            \"ecSchemaName\": \"*\",\r\n            \"ecClassName\": \"*\",\r\n            \"ecPropertyName\": \"Volume\"\r\n        }],\r\n        \"calculatedPropertyType\": \"Volume\",\r\n        \"formula\": \"Length * CrossSectionArea\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            },\r\n            \"group\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertyResponse"}],"description":"OK"},{"identifier":"66ce0a7cb2f670a8a34d0db8","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7cd9a5db33516d0efe","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7cbab305759f84ae3a","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","tags":["Properties","Technology Preview"]},{"id":"/apis/grouping-and-mapping/operations/update-property","name":"update-property","displayName":"Update Property","description":"---\r\n\r\nUpdates a property. If group is a table, then property of that group is a column. Properties can be mapped from existing iModel ECProperties, calculated using a predefined list of calculations, or calculated using your own mathematical formula.\r\n\r\nSource of the property value in the output is defined by the `ecProperties`, `calculatedPropertyType`, and `formula` values on a property. You can provide any combination of these properties. If you do not provided any of them, the output value will always be null. Such properties can be used as placeholders or to define an output schema before any property mapping is done. However, when you provide 2 or more of these properties they are evaluated in this order until a valid value (not null or undefined) is found:\r\n\r\n1. `ecProperties`\r\n2. `calculatedPropertyType`\r\n3. `formula`\r\n\r\nProperty values are assigned during data extraction. To start the data extraction use [Run Extraction](/apis/insights/operations/run-extraction) operation.\r\n\r\n### Mapping ECProperties\r\n\r\nMapping property values from an iModel ECProperties to the output columns is achieved by defining the `ecProperties` array. It allows mapping the queried, element, element aspect, or related element properties.\r\n\r\nThe `ecProperties` property is a prioritized array which contains `ECPropertyReference` objects. The closer the `ECPropertyReference` is to the array's start, the higher the priority. The priority of `ECPropertyReference` can be changed by reordering the `ecProperties` array. Reading of the `ecProperties` array stops when a valid value is found. For example, if the `ecProperties` array contains two entries and the first entry results in a null or undefined value, it will take the second entry. The value can be undefined if the given `ECPropertyReference` references an ECProperty which does not exist. The result column will be filled with a null value if no valid value was found.\r\n\r\nEvaluating `ecProperties` is prioritized by:\r\n\r\n1. Queried properties\r\n2. Element properties\r\n3. Element aspect properties\r\n\r\nHaving queried properties as the highest priority allows for constant or complex values to be added to a mapping.\r\n\r\nECProperty lookup is defined by three values - `ecSchemaName`, `ecClassName`, and `ecPropertyName`.\r\n\r\n`ecSchemaName` and `ecClassName` are used together to create an ECClassId which is the ECClassId of the current row selected by the group query. If the ECClassId of a selected row does not match the `ecSchemaName` and `ecClassName` pair, the value for this ECProperty is considered undefined. If the formed ECClassId is of an element aspect, the current selected row is an element, and there is only one instance of that element aspect related to the element, the property lookup is done on the element aspect.\r\n\r\nBoth `ecSchemaName` and `ecClassName` can be set to a wildcard value `*`.\r\n\r\n- If the value of `ecSchemaName` is `*` and the value of `ecClassName` is `Beam`, then it will match any `Beam` class from any ECSchema (e.g. `Building.Beam`, `Structural.Beam`, etc.)\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `*`, then it will match any class from the ECSchema `Building` (e.g. `Building.Beam`, `Building.CurtainWall`, etc.)\r\n- If values of `ecSchemaName` and `ecClassName` are `*`, then it will match any ECClassId (e.g. `Building.Beam`, `Structural.Column`, etc.)\r\n- If either value of `ecSchemaName` or `ecClassName` are `*`, then no element aspect lookup is done\r\n\r\nClass inheritance is checked if there is no wildcard value.\r\n\r\n- If the value of `ecSchemaName` is `Building` and the value of `ecClassName` is `StructuralMember`, then it will match any ECClassId which inherits `Building.StructuralMember` (e.g. `Building.Beam` which inherits `Building.StructuralMember`, `Building.Column` which inherits `Building.StructuralMember`, etc.)\r\n- If `ecSchemaName` or `ecClassName` is a wildcard, then inheritance will not be checked\r\n\r\nSet `ecPropertyName` to a ECProperty name that you want to select. The value of `ecPropertyName` can also be a path defining how to find an ECProperty. The path segments must be separated by a period (.). The path can contain the names of:\r\n\r\n- A navigation property\r\n- A struct property\r\n- A string property that happens to contain a string representation of a json object\r\n- A property inside the selected json\r\n\r\nNames of properties are not case sensitive. If json object does not have duplicate property names which only differ in letter casing, then those json properties are not case sensitive. We recommend treating json properties as case sensitive.\r\n\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category` or `category`, then the whole value `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` will be selected\r\n- If `Category` property is a navigation property with a value of `{\"id\":\"0x2000000000b\",\"relClassName\":\"BisCore.GeometricElement3dIsInCategory\"}` and the `ecPropertyName` is set to `Category.id`, then only the id value `0x2000000000b` will be selected\r\n- If `Category` property is a navigation property and it points to a row that has a property `CodeValue` that we want to select, the `ecPropertyName` should be set to `Category.CodeValue`\r\n- If `Model` property is a navigation property and it points to a row that has a property `JsonProperties` with a value `{\"formatter\":{\"mastUnit\":{\"label\":\"m\"}}}` and we want to select the master unit label, the `ecPropertyName` should be set to `Model.JsonProperties.formatter.mastUnit.label`. The result will be `m`\r\n\r\n### Calculation types\r\n\r\nProperty can be configured to calculate various element dimensions by setting the `calculatedPropertyType` value.\r\n\r\nList of all available calculation types:\r\n\r\n- `Length` - calculation of a linear element length or a perimeter of a geometric element that does not have a volume. For elements that have a volume use `BoundingBox` calculations to approximate the length.\r\n- `Area` - calculation of a geometric element's surface area.\r\n- `Volume` - calculation of a geometric element's volume.\r\n- `BoundingBoxLongestEdgeLength` - calculation that gives the longest edge length of an element aligned bounding box.\r\n- `BoundingBoxIntermediateEdgeLength` - calculation that gives the edge length that is not the longest nor the shortest of an element aligned bounding box.\r\n- `BoundingBoxShortestEdgeLength` - calculation that gives the shortest edge length of an element aligned bounding box.\r\n- `BoundingBoxDiagonalLength` - calculation that gives the distance between 2 opposite corners of the element aligned bounding box.\r\n- `BoundingBoxLongestFaceDiagonalLength` - calculation that gives the longest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n- `BoundingBoxIntermediateFaceDiagonalLength` - calculation that gives the distance between 2 opposite corners of a face on the element aligned bounding box that is not the longest nor the shortest.\r\n- `BoundingBoxShortestFaceDiagonalLength` - calculation that gives the shortest distance between 2 opposite corners of a face on the element aligned bounding box.\r\n\r\nCalculation types that start with `BoundingBox` use element aligned bounding boxes. They can be used for approximations of geometric element dimensions when there are no available properties that would have exact dimensions. Some errors may occur due to bounding boxes not being a perfect fit for the surrounded element.\r\n\r\n### Custom calculations\r\n\r\nProperty can be configured to evaluate a custom mathematical formula that you provide by setting the `formula` property.\r\n\r\nThe `formula` supports using other group properties as variables. Recursive formulas are not supported, i.e., `formula` containing a variable `X` is not supported inside a property with a `propertyName` equal to `X`.\r\n\r\nSupported data types:\r\n\r\n- Double - describes a real number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Integer - describes an integer number. When converted to a boolean value in logical operators `0` becomes `false` and all other values become `true`\r\n- Boolean - describes a logical value which is either true or false. When converted to a number in certain operators `true` becomes `1` and `false` becomes `0`\r\n- String - describes text. When converted to a boolean value in logical operators an empty string becomes `false` and all other strings become `true`\r\n\r\nAll of the supported data types can have no value which means that the value is `null`. Some operations support `null` values but those which do not will return `null` as the result.\r\n\r\nSupported operators:\r\n\r\n| Symbol | Name | Precedence | Associativity | Operand Types | Can receive null | Result |\r\n|--|--|--|--|--|--|--|\r\n| Unary `-` | Unary negation | 9 | Right | Numbers and booleans | No | Number |\r\n| `!` | Logical not | 9 | Right | All data types | No | Boolean |\r\n| `**` | Exponentiation | 8 | Right | Numbers and booleans | No | Number |\r\n| `*` | Multiplication | 7 | Left | Numbers and booleans | No | Number |\r\n| `/` | Division | 7 | Left | Numbers and booleans | No | Number |\r\n| `%` | Remainder | 7 | Left | Numbers and booleans | No | Number |\r\n| `+` | Addition | 6 | Left | All data types | No | Number or string if one of the operands is a string |\r\n| Binary `-` | Subtraction | 6 | Left | Numbers and booleans | No | Number |\r\n| `<` | Less than | 5 | Left | All data types | No | Boolean |\r\n| `<=` | Less than or equal | 5 | Left | All data types | No | Boolean |\r\n| `>` | Greater than | 5 | Left | All data types | No | Boolean |\r\n| `>=` | Greater than or equal | 5 | Left | All data types | No | Boolean |\r\n| `==` | Equality | 4 | Left | All data types | Yes | Boolean |\r\n| `!=` | Inequality | 4 | Left | All data types | Yes | Boolean |\r\n| `&&` | Logical and | 3 | Left | All data types | No | Boolean |\r\n| `\\|\\|` | Logical or | 2 | Left | All data types | No | Boolean |\r\n\r\nParenthesis `(` and `)` can be used to change the precedence of operations. Variables, constants, and functions have a precedence of 1 and left associativity.\r\n\r\nSupported constants:\r\n\r\n- `E` - Euler's constant and the base of natural logarithms (approx. 2.718)\r\n- `LN2` - natural logarithm of 2 (approx. 0.693)\r\n- `LN10` - natural logarithm of 10 (approx. 2.303)\r\n- `LOG2E` - base-2 logarithm of `E` (approx. 1.443)\r\n- `PI` - ratio of a circle's circumference to its diameter (approx. 3.14159)\r\n- `SQRT1_2` - square root of ½ (approx. 0.707)\r\n- `SQRT2` - square root of 2 (approx. 1.414)\r\n\r\nSupported numeric constant formats:\r\n\r\n- Decimal, e.g., `123` or `1.123`\r\n- Binary (base 2), e.g., `0b1010`\r\n- Octal (base 8), e.g., `0o1234567`\r\n- Hexadecimal (base 16), e.g., `0x123af`\r\n- Scientific notation, e.g., `1.123e+3`\r\n\r\nSupported string literal formats:\r\n\r\n- Single quotation marks, e.g., `'Column'`\r\n- Double quotation marks, e.g., `\"Column\"`\r\n- Backticks, e.g., `` `Column` ``\r\n\r\nSupported boolean formats:\r\n\r\n- True, e.g., `true`\r\n- False, e.g., `false`\r\n\r\nSupported null format:\r\n\r\n- Null, e.g., `null`\r\n\r\nAn escape character `\\` can be used to escape special characters in string literals. Supported escape sequences:\r\n\r\n- `\\'` - single quotation mark\r\n- `\\\"` - double quotation mark\r\n- `` \\` `` - backtick\r\n- `\\\\` - backslash\r\n- `\\n` - newline character\r\n- `\\t` - tab character\r\n\r\nIf an unsupported escape sequence is found, then the escape character is dropped, e.g., `\\d` becomes `d`.\r\n\r\nSupported numerical functions:\r\n\r\n- `abs(x)` - returns the absolute value of `x`\r\n- `acos(x)` - returns the arccosine of `x`\r\n- `acosh(x)` - returns the hyperbolic arccosine of `x`\r\n- `asin(x)` - returns the arcsine of `x`\r\n- `asinh(x)` - returns the hyperbolic arcsine of `x`\r\n- `atan(x)` - returns the arctangent of `x`\r\n- `atanh(x)` - returns the hyperbolic arctangent of `x`\r\n- `atan2(y, x)` - returns the arctangent of the quotient of `y` divided by `x`\r\n- `cbrt(x)` - returns the cube root of `x`\r\n- `ceil(x)` - returns the smallest integer greater than or equal to `x`\r\n- `clz32(x)` - returns the number of leading zero bits of the 32-bit integer `x`\r\n- `cos(x)` - returns the cosine of `x`\r\n- `cosh(x)` - returns the hyperbolic cosine of `x`\r\n- `exp(x)` - returns `E ** x` or `pow(E, x)`, where `x` is the argument, and `E` is Euler's constant (2.718…, the base of the natural logarithm)\r\n- `expm1(x)` - returns subtracting 1 from `exp(x)`\r\n- `floor(x)` - returns the largest integer less than or equal to `x`\r\n- `fround(x)` - returns the nearest single precision float representation of `x`\r\n- `hypot(x, y[, z[, …]])` - returns the square root of the sum of squares of its arguments\r\n- `imul(x, y)` - returns the result of the 32-bit integer multiplication of `x` and `y`\r\n- `log(x)` - returns the natural logarithm of `x`\r\n- `log1p(x)` - returns the natural logarithm of `1 + x`\r\n- `log10(x)` - returns the base-10 logarithm of `x`\r\n- `log2(x)` - returns the base-2 logarithm of `x`\r\n- `max(x, y[, z[, …]])` - returns the largest of 2 or more numbers\r\n- `min(x, y[, z[, …]])` - returns the smallest of 2 or more numbers\r\n- `pow(x, y)` - returns base `x` to the exponent power `y` (i.e., `x**y`)\r\n- `random()` - returns a pseudo-random number between 0 and 1. The value only changes between different output tables. All rows within a single output table get the same value\r\n- `round(x)` - returns the value of the number `x` rounded to the nearest integer\r\n- `sign(x)` - returns the sign of the `x`, indicating whether `x` is positive (`1`), negative (`-1`), or zero (`0`)\r\n- `sin(x)` - returns the sine of `x`\r\n- `sinh(x)` - returns the hyperbolic sine of `x`\r\n- `sqrt(x)` - returns the positive square root of `x`\r\n- `tan(x)` - returns the tangent of `x`\r\n- `tanh(x)` - returns the hyperbolic tangent of `x`\r\n- `trunc(x)` - returns the integer portion of `x`, removing any fractional digits\r\n\r\nSupported string functions:\r\n\r\n- `charat(str, index)` - returns exactly one character at the specified index. Accepts negative integers, which count back from the last string character\r\n- `concat(str , ...strN)` - combines the text of two (or more) strings and returns a new string\r\n- `padend(str, targetLength [, padString])` - pads the given string from the end with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `padstart(str, targetLength [, padString])` - pads the given string from the start with a given string and returns a new string of the length `targetLength`. Maximum value of `targetLength` is `100`. The resulting string will be truncated if it is too long to stay within `targetLength`. The default value for `padString` is \" \" (white space)\r\n- `substring(str, beginIndex [, endIndex])` - returns a new string containing characters of `str` from (or between) the specified index (or indices)\r\n- `indexof(str, searchValue [, start])` - returns the index of the first occurance in `str` at which a given string `searchValue` can be found in the array, or -1 if it is not present.\r\n- `tolowercase(str)` - returns the `str` value converted to lowercase\r\n- `touppercase(str)` - returns the `str` value converted to uppercase\r\n- `trim(str)` - trims whitespace from the beginning and end of `str`\r\n- `trimstart(str)` - trims whitespace from beginning of `str`\r\n- `trimend(str)` - trims whitespace from end of `str`\r\n\r\nSupported conditional functions:\r\n\r\n- `if(cond, expr_true, expr_false)` - returns `expr_true` if `cond` is `true` else it returns `expr_false`. `expr_true` and `expr_false` must be of the same type. `expr_true` and `expr_false` can be `null`\r\n- `ifnull(var, expr)` - returns `expr` if `var` is `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifnotnull(var, expr)` - returns `expr` if `var` is not `null` else it returns `var`. `var` and `expr` must be of the same type. `var` can be `null`\r\n- `ifempty(str, expr)` - returns `expr` if `str` is empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnotempty(str, expr)` - returns `expr` if `str` is not empty else it returns `str`. `str` and `expr` must be strings\r\n- `ifnullorempty(str, expr)` - returns `expr` if `str` is null or empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorempty(str, expr)` - returns `expr` if `str` is not null and not empty else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnullorwhitespace(str, expr)` - returns `expr` if `str` is null or empty or only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n- `ifnotnullorwhitespace(str, expr)` - returns `expr` if `str` is not null and not empty and not only consists of whitespace else it returns `str`. `str` and `expr` must be strings. `str` can be `null`\r\n\r\nExamples of supported formulas:\r\n\r\n- `min(A * B, B * C, A * C)` - if `A`, `B`, and `C` are 3 different lengths of box edges, then this formula will result in the smallest side surface area of that box\r\n- `min * max` - formula does not have parenthesis after function names, so the `min` and `max` operands are treated as variables (other columns), not as functions. If the Group has columns `min` and `max`, and their values are `2` and `5`, then the result of this formula is `10` for that row\r\n- `2 ** 3` - 2 raised to the power of 3. Result will be 8. This can also be written as `pow(2, 3)`\r\n- `min(cos(X), sin(X))` - function nesting is supported\r\n- `A * (B + C)` - `A` multiplied by the sum of `B` and `C`\r\n- `A * B + C` - same as `(A * B) + C`\r\n- `padend(concat(A, '\\\\', touppercase(substring(B, 4))), C, D)` - the result of `concat`, which concatenates variable `A`, string literal `\\` and `uppercase` `substring` of variable `B` from index `4`, is padded in the end with the target length of `C` with a pad string of variable `D`\r\n- `charat(trim(A), B)` - gets the character of a trimmed string variable `A` that is at index `B`\r\n- `if(A > B, A, B)` - if `A` is greater than `B` then the result is `A` else it is `B`\r\n- `ifnullorempty(A, 'B = ') + B` - if variable `A` is null or empty then the result of `ifnullorempty` function is the string literal `B = ` else it is variable `A`. Then the final formula result is the addition of the result of `ifnullorempty` function and variable `B`\r\n- `if(A != null && B != null, A + B, 0)` - if `A` is not null and `B` is not null then the result is the addition of `A` and `B` else it is `0`\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_write` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n### \"Try it out\" Limitations\r\n\r\nWhen you run an Extraction with the \"Try it out\" function on a mapping that was created or modified by using the \"Try it out\" function, you are limited to 100 extracted rows for each group. Mapping modification is any POST/DELETE/PATCH/PUT request to any endpoint with the tag \"Mappings\" or if the URL contains {mappingId}.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"groupId","description":"The group Id.","in":"template","type":"string","values":[],"required":true},{"name":"propertyId","description":"The property Id.","in":"template","type":"string","values":[],"required":true}],"method":"PUT","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[{"contentType":"application/json","example":"{\r\n    \"propertyName\": \"BeamVolume\",\r\n    \"dataType\": \"Double\",\r\n    \"quantityType\": \"Volume\",\r\n    \"ecProperties\": [{\r\n        \"ecSchemaName\": \"*\",\r\n        \"ecClassName\": \"*\",\r\n        \"ecPropertyName\": \"Volume\"\r\n    }],\r\n    \"calculatedPropertyType\": \"Volume\",\r\n    \"formula\": \"Length * CrossSectionArea\"\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertyModify"}]},"responses":[{"identifier":"66ce0a7cb3ade443d59a78c5","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"property\": {\r\n        \"id\": \"1ba1f4dd-efc1-4bd1-86f0-a69a4f0d4743\",\r\n        \"propertyName\": \"BeamVolume\",\r\n        \"dataType\": \"Double\",\r\n        \"quantityType\": \"Volume\",\r\n        \"ecProperties\": [{\r\n            \"ecSchemaName\": \"*\",\r\n            \"ecClassName\": \"*\",\r\n            \"ecPropertyName\": \"Volume\"\r\n        }],\r\n        \"calculatedPropertyType\": \"Volume\",\r\n        \"formula\": \"Length * CrossSectionArea\",\r\n        \"_links\": {\r\n            \"iModel\": {\r\n                \"href\": \"https://api.bentley.com/imodels/70a3d6d3-5385-4bc3-87c4-b6bf106e1c0a\"\r\n            },\r\n            \"mapping\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f\"\r\n            },\r\n            \"group\": {\r\n                \"href\": \"https://api.bentley.com/grouping-and-mapping/datasources/imodel-mappings/f1fe5959-35ab-467e-83b8-a679b722d80f/groups/08f252c4-ee78-4e2b-9280-f7365400b932\"\r\n            }\r\n        }\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"PropertyResponse"}],"description":"OK"},{"identifier":"66ce0a7c661cdede549843b5","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c751a8ea374a60e2f","headers":[],"statusCode":{"code":403,"description":"Forbidden"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"InsufficientPermissions\",\r\n        \"message\": \"The user has insufficient permissions for the requested operation.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"User is not authorized to update a Property."},{"identifier":"66ce0a7c5c94a7756a562ead","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7c721850cf07ce9440","headers":[],"statusCode":{"code":409,"description":"Conflict"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"PropertyExists\",\r\n        \"message\": \"Property 'BeamVolume' already exists.\",\r\n        \"target\": \"propertyName\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Property with the same name already exists within the group."},{"identifier":"66ce0a7c0de98ad7665aaed0","headers":[],"statusCode":{"code":422,"description":"Unprocessable Entity"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"DetailedErrorResponse"}],"description":"The 422 (Unprocessable Entity) status code indicates that the request cannot be processed by the server due to a client error (e.g. malformed request syntax)"},{"identifier":"66ce0a7ce6f2177701d20607","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/groups/{groupId}/properties/{propertyId}","tags":["Properties","Technology Preview"]}]}],"operation":{"id":"/apis/grouping-and-mapping/operations/get-cdm","name":"get-cdm","displayName":"Get CDM","description":"---\r\n\r\nGets the data model of extracted data in Common Data Model (CDM) format.\r\n\r\n### Authentication\r\n\r\nRequires `Authorization` header with valid Bearer token for scope `itwin-platform`.\r\n\r\nFor more documentation on authorization and how to get access token visit [OAUTH2 Authorization](https://developer.bentley.com/apis/overview/authorization/) page.\r\n\r\n### Authorization\r\n\r\nUser must have `imodels_read` permission(s) assigned at the iTwin level. iModel specific permissions may also be applied at the iModel level if iModel level permissions are enabled.\r\n\r\nAlternatively the user should be an Organization Administrator for the Organization that owns a given iTwin or iModel.\r\n\r\nAn Organization Administrator must have at least one of the following roles assigned in User Management: Account Administrator, Co-Administrator, or CONNECT Services Administrator. For more information about User Management please visit our Bentley Communities [Licensing, Cloud, and Web Services](https://bentleysystems.service-now.com/community?id=kb_article_view&sys_kb_id=1e5410491b7d8a90f3fc5287624bcb57) wiki page.\r\n\r\n### Rate limits\r\n\r\nAll iTwin Platform API operations have a rate limit. For more documentation on that visit [Rate limits and quotas](https://developer.bentley.com/apis/overview/rate-limits/) page.\r\n\r\n---\r\n","urlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm","templateParameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"parameters":[{"name":"mappingId","description":"The mapping Id.","in":"template","type":"string","values":[],"required":true},{"name":"extractionId","description":"The extraction Id.","in":"template","type":"string","values":[],"required":true}],"method":"GET","request":{"queryParameters":[],"headers":[{"name":"Authorization","description":"OAuth access token with `itwin-platform` scope","in":"header","values":[],"required":true},{"name":"Accept","description":"Setting to `application/vnd.bentley.itwin-platform.v1+json` is recommended.","in":"header","values":[],"required":true}],"representations":[]},"responses":[{"identifier":"66ce0a7c9a15f724b3da7c4f","headers":[],"statusCode":{"code":200,"description":"OK"},"representations":[{"contentType":"application/json","example":"{\r\n    \"name\": \"Insights_and_Reporting_Extractor\",\r\n    \"version\": \"1.0\",\r\n    \"entities\": [{\r\n        \"$type\": \"LocalEntity\",\r\n        \"name\": \"Beam\",\r\n        \"attributes\": [{\r\n                \"name\": \"ECInstanceId\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"ECClassId\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"UserLabel\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"BBoxLow\",\r\n                \"dataType\": \"string\"\r\n            },\r\n            {\r\n                \"name\": \"BBoxHigh\",\r\n                \"dataType\": \"string\"\r\n            }\r\n        ],\r\n        \"partitions\": [{\r\n            \"name\": \"part00000\",\r\n            \"location\": \"Beam/part00000.csv\"\r\n        }]\r\n    }]\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"CommonDataModel"}],"description":"OK"},{"identifier":"66ce0a7c5dc8e5cba0ccd398","headers":[],"statusCode":{"code":401,"description":"Unauthorized"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that request lacks valid authentication credentials. Access token might not been provided, issued by the wrong issuer, does not have required scopes or request headers were malformed."},{"identifier":"66ce0a7c46ee93b84c93d196","headers":[],"statusCode":{"code":404,"description":"Not Found"},"representations":[{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"},{"contentType":"application/json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"Specified resource was not found."},{"identifier":"66ce0a7cf8ebb51b2189935c","headers":[{"name":"retry-after","description":"The number of requests exceeds the rate-limit for the client subscription.","in":"header","type":"string","values":[],"required":true}],"statusCode":{"code":429,"description":"Too many requests"},"representations":[{"contentType":"application/json","example":"{\r\n    \"error\": {\r\n        \"code\": \"TooManyRequests\",\r\n        \"message\": \"More requests were received than the subscription rate-limit allows.\"\r\n    }\r\n}","exampleFormat":"json","schemaId":"grouping-and-mapping-components","typeName":"ErrorResponse"}],"description":"This response indicates that the user has sent too many requests in a given amount of time."}],"displayUrlTemplate":"/datasources/imodel-mappings/{mappingId}/extractions/{extractionId}/cdm","tags":["Data Access","Technology Preview"]},"operationTags":["Data Access","Technology Preview"],"authorizationServer":{"authorizationEndpoint":"https://qa-ims.bentley.com/connect/authorize","clientId":"itwin-developer-console-dev","displayName":"Bentley OAuth2 Service","id":"bentley-oauth","grantTypes":["authorizationCode"],"scopes":["imodels:read imodels:modify"],"tokenEndpoint":"https://qa-ims.bentley.com/connect/token"},"operationDefinitions":[{"schema":{"title":"Common Data Model (CDM)","type":"object","description":"A Common Data Model (CDM) which describes the extracted data, metadata and locations.","properties":{"name":{"type":"string","description":"The model name."},"version":{"type":"string","description":"The model schema version (currently must be 1.0)."},"entities":{"type":"array","description":"The model entities.","items":{"$ref":"#/components/schemas/CDMEntity"}}},"required":["name","version","entities"],"additionalProperties":false},"name":"CommonDataModel","description":"A Common Data Model (CDM) which describes the extracted data, metadata and locations.","properties":[{"schemaObject":{"type":"string","description":"The model name."},"required":true,"name":"name","description":"The model name.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"The model schema version (currently must be 1.0)."},"required":true,"name":"version","description":"The model schema version (currently must be 1.0).","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"array","description":"The model entities.","items":{"$ref":"#/components/schemas/CDMEntity"}},"required":true,"name":"entities","description":"The model entities.","type":{"displayAs":"arrayOfReference","name":"CDMEntity"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"title":"CDM Entity","type":"object","description":"An entity is a collection of attributes and metadata that defines a concept.","properties":{"$type":{"type":"string","description":"Type of entity being defined in this model. Always set to `LocalEntity`."},"name":{"type":"string","description":"The entity name."},"attributes":{"type":"array","description":"The attributes within the entity. Each entity must have at least one.","items":{"$ref":"#/components/schemas/CDMAttribute"}},"partitions":{"type":"array","description":"The entity physical partitions (data files).","items":{"$ref":"#/components/schemas/CDMPartition"}}},"required":["$type","name","attributes","partitions"],"additionalProperties":false},"name":"CDMEntity","description":"An entity is a collection of attributes and metadata that defines a concept.","properties":[{"schemaObject":{"type":"string","description":"Type of entity being defined in this model. Always set to `LocalEntity`."},"required":true,"name":"$type","description":"Type of entity being defined in this model. Always set to `LocalEntity`.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"The entity name."},"required":true,"name":"name","description":"The entity name.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"array","description":"The attributes within the entity. Each entity must have at least one.","items":{"$ref":"#/components/schemas/CDMAttribute"}},"required":true,"name":"attributes","description":"The attributes within the entity. Each entity must have at least one.","type":{"displayAs":"arrayOfReference","name":"CDMAttribute"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"array","description":"The entity physical partitions (data files).","items":{"$ref":"#/components/schemas/CDMPartition"}},"required":true,"name":"partitions","description":"The entity physical partitions (data files).","type":{"displayAs":"arrayOfReference","name":"CDMPartition"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"title":"CDM Attribute","type":"object","description":"Attributes are the fields within an entity that correspond to data values within the data file.","properties":{"name":{"type":"string","description":"The attribute name."},"dataType":{"type":"string","description":"The data type of the attribute. One of 'string', 'int64', 'double', 'dateTime', 'dateTimeOffset', 'decimal', 'boolean', 'GUID', or 'JSON'."},"annotations":{"type":"array","description":"Array of optional model annotations - non-essential key/value pairs that contain contextual information that can be used to store additional context.","nullable":true,"items":{"$ref":"#/components/schemas/CDMAnnotation"}}},"required":["name","dataType"],"additionalProperties":false},"name":"CDMAttribute","description":"Attributes are the fields within an entity that correspond to data values within the data file.","properties":[{"schemaObject":{"type":"string","description":"The attribute name."},"required":true,"name":"name","description":"The attribute name.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"The data type of the attribute. One of 'string', 'int64', 'double', 'dateTime', 'dateTimeOffset', 'decimal', 'boolean', 'GUID', or 'JSON'."},"required":true,"name":"dataType","description":"The data type of the attribute. One of 'string', 'int64', 'double', 'dateTime', 'dateTimeOffset', 'decimal', 'boolean', 'GUID', or 'JSON'.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"array","description":"Array of optional model annotations - non-essential key/value pairs that contain contextual information that can be used to store additional context.","nullable":true,"items":{"$ref":"#/components/schemas/CDMAnnotation"}},"required":false,"name":"annotations","description":"Array of optional model annotations - non-essential key/value pairs that contain contextual information that can be used to store additional context.","type":{"displayAs":"arrayOfReference","name":"CDMAnnotation"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"title":"CDM Annotation","type":"object","description":"Optional, non-essential contextual information (key/value pairs) that can be used to store additional context about a property in the model.","properties":{"name":{"type":"string","description":"Name of the annotation."},"value":{"type":"string","description":"Value of the annotation.","nullable":true}},"required":["name"],"additionalProperties":false},"name":"CDMAnnotation","description":"Optional, non-essential contextual information (key/value pairs) that can be used to store additional context about a property in the model.","properties":[{"schemaObject":{"type":"string","description":"Name of the annotation."},"required":true,"name":"name","description":"Name of the annotation.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"Value of the annotation.","nullable":true},"required":false,"name":"value","description":"Value of the annotation.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"title":"CDM Partition","type":"object","description":"The partition array indicates the name and location of the actual data that correspond to the entity definition. Currently all partitions store data in CSV format.","properties":{"name":{"type":"string","description":"The partition name."},"location":{"type":"string","description":"The partition location."}},"required":["name","location"],"additionalProperties":false},"name":"CDMPartition","description":"The partition array indicates the name and location of the actual data that correspond to the entity definition. Currently all partitions store data in CSV format.","properties":[{"schemaObject":{"type":"string","description":"The partition name."},"required":true,"name":"name","description":"The partition name.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"The partition location."},"required":true,"name":"location","description":"The partition location.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"type":"object","description":"Contains error information.","properties":{"code":{"type":"string","description":"One of a server-defined set of error codes."},"message":{"type":"string","description":"A human-readable representation of the error."},"target":{"type":"string","description":"The target of the error.","nullable":true}},"required":["code","message"],"additionalProperties":true},"name":"Error","description":"Contains error information.","properties":[{"schemaObject":{"type":"string","description":"One of a server-defined set of error codes."},"required":true,"name":"code","description":"One of a server-defined set of error codes.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"A human-readable representation of the error."},"required":true,"name":"message","description":"A human-readable representation of the error.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]},{"schemaObject":{"type":"string","description":"The target of the error.","nullable":true},"required":false,"name":"target","description":"The target of the error.","type":{"displayAs":"primitive","name":"string"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false},{"schema":{"type":"object","title":"Error Response","description":"Gives details for an error that occurred while handling the request. Note that clients MUST NOT assume that every failed request will produce an object of this schema, or that all of the properties in the response will be non-null, as the error may have prevented this response from being constructed.","properties":{"error":{"description":"Error information.","$ref":"#/components/schemas/Error"}},"required":["error"],"additionalProperties":false},"name":"ErrorResponse","description":"Gives details for an error that occurred while handling the request. Note that clients MUST NOT assume that every failed request will produce an object of this schema, or that all of the properties in the response will be non-null, as the error may have prevented this response from being constructed.","properties":[{"schemaObject":{"description":"Error information.","$ref":"#/components/schemas/Error"},"required":true,"name":"error","description":"Error information.","type":{"displayAs":"reference","name":"Error"},"exampleFormat":"json","enum":[]}],"exampleFormat":"json","required":false}],"allDefinitions":[],"apiDocumentationMdContent":"","tutorialsMetadata":[],"preloadedApis":[],"changelog":[],"preloadedSamples":[]},"__N_SSG":true}