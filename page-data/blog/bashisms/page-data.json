{"componentChunkName":"component---src-components-blog-page-tsx","path":"/blog/bashisms/","result":{"data":{"markdownRemark":{"html":"<p>I use too much bash. I've written down some of the more outrageous or useful ones. I think it'll make a good part 1 to\nan ongoing series.</p>\n<p>Note: I use <code class=\"language-text\">g</code> as an alias for git and sometimes.</p>\n<h4>List extensions of non-text files in a git repository</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">comm</span> <span class=\"token parameter variable\">-13</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">git</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-Il</span> <span class=\"token string\">''</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> -u<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">\\</span>\n         <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">git</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-al</span> <span class=\"token string\">''</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> -u<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-Po</span> <span class=\"token string\">'(?&lt;=\\.)\\w+$'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token parameter variable\">-u</span></code></pre></div>\n<h4>comparing sections of files across git history with changed line-endings and indent levels</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">dwdiff <span class=\"token parameter variable\">--color</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">sed</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">'103,125p'</span> core/test/CompatTests.cpp <span class=\"token operator\">|</span> unix2dos<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">git</span> show 7c788f88:core/test/CompatTests.cpp <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">'88,108p'</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -b13-<span class=\"token punctuation\">)</span></code></pre></div>\n<h4>not really bash but... play a little song where you invoke the C compiler for every note</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">AMP</span> <span class=\"token keyword\">in</span> <span class=\"token number\">20</span> <span class=\"token number\">50</span> <span class=\"token number\">127</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token assign-left variable\">f</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>mktemp<span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span> <span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<span class=\"token bash punctuation\"> <span class=\"token operator\">|</span> gcc <span class=\"token parameter variable\">-x</span> c <span class=\"token parameter variable\">-o</span> <span class=\"token variable\">$f</span> - <span class=\"token parameter variable\">-lm</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\">$f</span> <span class=\"token operator\">|</span> aplay<span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span></span>\n#include &lt;stdio.h>\n#include &lt;math.h>\nvoid main(){ for (int t=0,osc=0;t&lt;8000;t++,osc+=14) putchar(<span class=\"token variable\">$AMP</span>*sin(osc/255.0*2*3.14) + 128); }\nEOF</span></code></pre></div>\n<h4>This one is quite raw... guess what it does</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">FOR class IN <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">grep</span> <span class=\"token parameter variable\">-Pho</span> <span class=\"token string\">'\\.[a-zA-Z][a-z-A-Z0-9-]+'</span>\n  ~/your-mono-repo/packages/package/src/components/*.scss\n  <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token parameter variable\">-u</span><span class=\"token variable\">)</span></span>\nDO\n  <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> s/<span class=\"token punctuation\">\\</span>\"<span class=\"token variable\">${class<span class=\"token operator\">/</span>.<span class=\"token operator\">/</span>}</span><span class=\"token punctuation\">\\</span>\"/<span class=\"token variable\"><span class=\"token variable\">$(</span>perl <span class=\"token parameter variable\">-p</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">'s/(?&lt;=[a-z-]{1,100})-(\\w)/\\U\\1/g'</span> <span class=\"token operator\">&lt;&lt;&lt;</span><span class=\"token string\">\"<span class=\"token variable\">${class<span class=\"token operator\">/</span>.<span class=\"token operator\">/</span>}</span>\"</span><span class=\"token variable\">)</span></span>/ <span class=\"token punctuation\">\\</span>\n    <span class=\"token string\">'package/src/frontend/layout/*.ts'</span>\nDONE</code></pre></div>\n<details>\n  <summary>The answer</summary>\n  Converts kebab-case identifiers to camelCased ones in typescript-react source code given some SCSS\n</details>","frontmatter":{"title":"Bashisms Part 1","path":null,"date":"April 12, 2022"}}},"pageContext":{"slug":"/blog/bashisms/"}},"staticQueryHashes":["3649515864","63159454"],"slicesMap":{}}